var V=(v,w,l)=>new Promise((r,x)=>{var b=a=>{try{h(l.next(a))}catch(u){x(u)}},k=a=>{try{h(l.throw(a))}catch(u){x(u)}},h=a=>a.done?r(a.value):Promise.resolve(a.value).then(b,k);h((l=l.apply(v,w)).next())});import{L as I,_ as E,V as K}from"./layout.vue_vue_type_script_setup_true_lang-C0qxlD2J.js";import{b as et,d as tt,e as st,f as at,c as ot,g as nt,i as lt,h as it,a as ct}from"./layout.vue_vue_type_script_setup_true_lang-C0qxlD2J.js";import{A as dt,_ as ut,a as ft}from"./authentication-DkfHVOlU.js";import{i as mt,h as xt}from"./theme-toggle.vue_vue_type_script_setup_true_lang-vUJ5amfG.js";import{aR as j,cE as Y,bD as q,cy as H,bg as O,bk as G,aS as n,aZ as J,M as Z,T as z,bi as Q,aG as D,aU as y,be as M,cO as W,bc as N}from"./bootstrap-BlxcxLZz.js";import{a4 as R,c7 as X,c8 as $,P as U,T as ee,J as B,av as m,ab as d,x as o,aB as t,ac as c,aA as te,a7 as e,aj as s,ai as g,aq as C,c9 as se,aa as F,F as ae,aC as oe,U as ne}from"../jse/index-index-DTL2YrKA.js";import"./use-modal-1sVzHVdz.js";import"./index-Dy-le_1S.js";import"./rotate-cw-DnsL8HM0.js";const le=j("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);const ie=j("mail-check",[["path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8",key:"12jkf8"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"m16 19 2 2 4-4",key:"1b14m6"}]]),ce={class:"bg-background fixed z-[2000] size-full"},re={class:"size-full"},de={class:"flex h-full w-full items-center justify-center"},ue={class:"flex w-full justify-center gap-4 px-4 sm:gap-6 md:gap-8"},fe={class:"bg-accent relative flex h-[140px] w-[140px] items-center justify-center rounded-xl text-[36px] sm:h-[160px] sm:w-[160px] sm:text-[42px] md:h-[200px] md:w-[200px] md:text-[72px]"},pe={class:"absolute left-3 top-3 text-xs font-semibold sm:text-sm md:text-xl"},me={class:"bg-accent flex h-[140px] w-[140px] items-center justify-center rounded-xl text-[36px] sm:h-[160px] sm:w-[160px] sm:text-[42px] md:h-[200px] md:w-[200px] md:text-[72px]"},xe=["onKeydown"],he={class:"flex-col-center mb-10 w-[90%] max-w-[300px] px-4"},_e={class:"enter-x mb-2 w-full items-center"},ge={class:"enter-y absolute bottom-5 w-full text-center text-xl md:text-2xl xl:text-xl 2xl:text-3xl"},ve={key:0,class:"enter-x mb-2 text-2xl md:text-3xl"},we={class:"text-base md:text-lg"},be={class:"text-xl md:text-3xl"},Ge=R({name:"LockScreen",__name:"lock-screen",props:{avatar:{default:""}},emits:["toLogin"],setup(v){const{locale:w}=Y(),l=q(),r=X(),x=$(r,"A"),b=$(r,"HH"),k=$(r,"mm"),h=$(r,"YYYY-MM-DD dddd",{locales:w.value}),a=U(!1),{lockScreenPassword:u}=H(l),[f,{form:p,validate:i}]=O(ee({commonConfig:{hideLabel:!0,hideRequiredMark:!0},schema:B(()=>[{component:"VbenInputPassword",componentProps:{placeholder:n("ui.widgets.lockScreen.placeholder")},fieldName:"password",label:n("authentication.password"),rules:G().min(1,{message:n("authentication.passwordTip")})}]),showDefaultActions:!1})),A=B(()=>{var _;return(u==null?void 0:u.value)===((_=p==null?void 0:p.values)==null?void 0:_.password)});function L(){return V(this,null,function*(){const{valid:_}=yield i();_&&(A.value?l.unlockScreen():p.setFieldError("password",n("authentication.passwordErrorTip")))})}function S(){a.value=!a.value}return J(),(_,T)=>(d(),m("div",ce,[o(z,{name:"slide-left"},{default:c(()=>[te(t("div",re,[t("div",{class:"flex-col-center text-foreground/80 hover:text-foreground group fixed left-1/2 top-6 z-[2001] -translate-x-1/2 cursor-pointer text-xl font-semibold",onClick:S},[o(e(I),{class:"size-5 transition-all duration-300 group-hover:scale-125"}),t("span",null,s(e(n)("ui.widgets.lockScreen.unlock")),1)]),t("div",de,[t("div",ue,[t("div",fe,[t("span",pe,s(e(x)),1),g(" "+s(e(b)),1)]),t("div",me,s(e(k)),1)])])],512),[[Z,!a.value]])]),_:1}),o(z,{name:"slide-right"},{default:c(()=>[a.value?(d(),m("div",{key:0,class:"flex-center size-full",onKeydown:Q(D(L,["prevent"]),["enter"])},[t("div",he,[o(e(E),{src:_.avatar,class:"enter-x mb-6 size-20"},null,8,["src"]),t("div",_e,[o(e(f))]),o(e(y),{class:"enter-x w-full",onClick:L},{default:c(()=>[g(s(e(n)("ui.widgets.lockScreen.entry")),1)]),_:1}),o(e(y),{class:"enter-x my-2 w-full",variant:"ghost",onClick:T[0]||(T[0]=Ue=>_.$emit("toLogin"))},{default:c(()=>[g(s(e(n)("ui.widgets.lockScreen.backToLogin")),1)]),_:1}),o(e(y),{class:"enter-x mr-2 w-full",variant:"ghost",onClick:S},{default:c(()=>[g(s(e(n)("common.back")),1)]),_:1})])],40,xe)):C("",!0)]),_:1}),t("div",ge,[a.value?(d(),m("div",ve,[g(s(e(b))+":"+s(e(k))+" ",1),t("span",we,s(e(x)),1)])):C("",!0),t("div",be,s(e(h)),1)])]))}}),ke={key:0,class:"bg-primary absolute right-0.5 top-0.5 h-2 w-2 rounded"},ye={class:"relative"},$e={class:"flex items-center justify-between p-4 py-3"},Ce={class:"text-foreground"},Ae={class:"!flex max-h-[360px] w-full flex-col"},Le=["onClick"],Se={key:0,class:"bg-primary absolute right-2 top-2 h-2 w-2 rounded"},Te={class:"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full"},Ve=["src"],ze={class:"flex flex-col gap-1 leading-none"},Me={class:"font-semibold"},Be={class:"text-muted-foreground my-1 line-clamp-2 text-xs"},Fe={class:"text-muted-foreground line-clamp-2 text-xs"},Pe={key:1,class:"flex-center text-muted-foreground min-h-[150px] w-full"},je={class:"border-border flex items-center justify-between border-t px-4 py-3"},De=R({name:"NotificationPopup",__name:"notification",props:{dot:{type:Boolean,default:!1},notifications:{default:()=>[]}},emits:["clear","makeAll","read","viewAll"],setup(v,{emit:w}){const l=w,[r,x]=se();function b(){r.value=!1}function k(){l("viewAll"),b()}function h(){l("makeAll")}function a(){l("clear")}function u(f){l("read",f)}return(f,p)=>(d(),F(e(W),{open:e(r),"onUpdate:open":p[1]||(p[1]=i=>ne(r)?r.value=i:null),"content-class":"relative right-2 w-[360px] p-0"},{trigger:c(()=>[t("div",{class:"flex-center mr-2 h-full",onClick:p[0]||(p[0]=D(i=>e(x)(),["stop"]))},[o(e(M),{class:"bell-button text-foreground relative"},{default:c(()=>[f.dot?(d(),m("span",ke)):C("",!0),o(e(le),{class:"size-4"})]),_:1})])]),default:c(()=>[t("div",ye,[t("div",$e,[t("div",Ce,s(e(n)("ui.widgets.notifications")),1),o(e(M),{disabled:f.notifications.length<=0,tooltip:e(n)("ui.widgets.markAllAsRead"),onClick:h},{default:c(()=>[o(e(ie),{class:"size-4"})]),_:1},8,["disabled","tooltip"])]),f.notifications.length>0?(d(),F(e(K),{key:0},{default:c(()=>[t("ul",Ae,[(d(!0),m(ae,null,oe(f.notifications,i=>(d(),m("li",{key:i.title,class:"hover:bg-accent border-border relative flex w-full cursor-pointer items-start gap-5 border-t px-3 py-3",onClick:A=>u(i)},[i.isRead?C("",!0):(d(),m("span",Se)),t("span",Te,[t("img",{src:i.avatar,class:"aspect-square h-full w-full object-cover",role:"img"},null,8,Ve)]),t("div",ze,[t("p",Me,s(i.title),1),t("p",Be,s(i.message),1),t("p",Fe,s(i.date),1)])],8,Le))),128))])]),_:1})):(d(),m("div",Pe,s(e(n)("common.noData")),1)),t("div",je,[o(e(y),{disabled:f.notifications.length<=0,size:"sm",variant:"ghost",onClick:a},{default:c(()=>[g(s(e(n)("ui.widgets.clearNotifications")),1)]),_:1},8,["disabled"]),o(e(y),{size:"sm",onClick:k},{default:c(()=>[g(s(e(n)("ui.widgets.viewAll")),1)]),_:1})])])]),_:1},8,["open"]))}}),Je=N(De,[["__scopeId","data-v-d7a4acd4"]]),P=U(!1);function Ze(){function v(){P.value=!0}return{handleOpenPreference:v,openPreferences:P}}const Ne={};function Re(v,w){return d(),m("div")}const Qe=N(Ne,[["render",Re]]);export{dt as AuthPageLayout,ut as AuthenticationColorToggle,ft as AuthenticationLayoutToggle,et as BasicLayout,tt as Breadcrumb,st as CheckUpdates,at as GlobalSearch,ot as IFrameRouterView,Qe as IFrameView,mt as LanguageToggle,Ge as LockScreen,nt as LockScreenModal,Je as Notification,lt as Preferences,it as PreferencesButton,xt as ThemeToggle,ct as UserDropdown,Ze as useOpenPreferences};
