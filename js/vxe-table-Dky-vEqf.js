var qA=Object.defineProperty,HA=Object.defineProperties;var BA=Object.getOwnPropertyDescriptors;var DC=Object.getOwnPropertySymbols;var VA=Object.prototype.hasOwnProperty,zA=Object.prototype.propertyIsEnumerable;var Tu=(e,t,r)=>t in e?qA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Po=(e,t)=>{for(var r in t||(t={}))VA.call(t,r)&&Tu(e,r,t[r]);if(DC)for(var r of DC(t))zA.call(t,r)&&Tu(e,r,t[r]);return e},Qs=(e,t)=>HA(e,BA(t));var Ml=(e,t,r)=>Tu(e,typeof t!="symbol"?t+"":t,r);var ol=(e,t,r)=>new Promise((n,l)=>{var a=s=>{try{d(r.next(s))}catch(h){l(h)}},i=s=>{try{d(r.throw(s))}catch(h){l(h)}},d=s=>s.done?n(s.value):Promise.resolve(s.value).then(a,i);d((r=r.apply(e,t)).next())});import{by as GA,c as WA,as as ui,u as oM,bw as UA,bs as jA,aS as Xi,bu as YA,bz as KA,ba as XA,M as ZA,bx as JA,bA as QA}from"./bootstrap-BlxcxLZz.js";import{a4 as Ri,P as mt,bk as cx,J as ue,a9 as jn,av as Ga,ab as ia,aq as Ht,aB as Tc,aV as ps,a7 as vn,aW as gi,a8 as Nn,aj as gs,aw as aM,n as ge,$ as _c,k as m,T as rn,R as mr,aF as ao,Y as sr,az as Rs,ax as xo,bt as ux,ar as Bl,bK as e0,bJ as t0,i as lM,be as r0,bL as n0,bc as _l,ba as o0,bb as a0,r as Ll,bj as iM,as as l0,b5 as i0,a3 as s0,x as ec,b6 as OC,ac as Yo,aC as TC,ai as MC,aa as IC,af as al,ag as ll,aA as c0,ad as u0,ae as d0}from"../jse/index-index-DTL2YrKA.js";const f0={class:"relative flex min-h-full flex-col"},p0={class:"flex-auto"},g0={key:0,class:"mb-2 flex text-lg font-semibold"},h0={key:0,class:"text-muted-foreground"},v0={key:0},Jq=Ri({name:"Page",__name:"page",props:{title:{},description:{},contentClass:{},autoContentHeight:{type:Boolean,default:!1},headerClass:{},footerClass:{},heightOffset:{default:0}},setup(e){const t=mt(0),r=mt(0),n=mt(!1),l=cx("headerRef"),a=cx("footerRef"),i=ue(()=>e.autoContentHeight?{height:`calc(var(${GA}) - ${t.value}px - ${r.value}px - ${typeof e.heightOffset=="number"?`${e.heightOffset}px`:e.heightOffset})`,overflowY:n.value?"auto":"unset"}:{});function d(){return ol(this,null,function*(){var s,h;e.autoContentHeight&&(yield ge(),t.value=((s=l.value)==null?void 0:s.offsetHeight)||0,r.value=((h=a.value)==null?void 0:h.offsetHeight)||0,setTimeout(()=>{n.value=!0},30))})}return jn(()=>{d()}),(s,h)=>(ia(),Ga("div",f0,[s.description||s.$slots.description||s.title||s.$slots.title||s.$slots.extra?(ia(),Ga("div",{key:0,ref_key:"headerRef",ref:l,class:ps(vn(gi)("bg-card border-border relative flex items-end border-b px-6 py-4",s.headerClass))},[Tc("div",p0,[Nn(s.$slots,"title",{},()=>[s.title?(ia(),Ga("div",g0,gs(s.title),1)):Ht("",!0)]),Nn(s.$slots,"description",{},()=>[s.description?(ia(),Ga("p",h0,gs(s.description),1)):Ht("",!0)])]),s.$slots.extra?(ia(),Ga("div",v0,[Nn(s.$slots,"extra")])):Ht("",!0)],2)):Ht("",!0),Tc("div",{class:ps(vn(gi)("h-full p-4",s.contentClass)),style:aM(i.value)},[Nn(s.$slots,"default")],6),s.$slots.footer?(ia(),Ga("div",{key:1,ref_key:"footerRef",ref:a,class:ps(vn(gi)("bg-card align-center flex px-6 py-4",s.footerClass))},[Nn(s.$slots,"footer")],2)):Ht("",!0)]))}}),m0="4.2.12",Vl={coreVersion:m0,uiVersion:"",tableVersion:"",designVersion:"",ganttVersion:""};var Mu,FC;function Aa(){if(FC)return Mu;FC=1;var e={keyId:1,cookies:{path:"/"},treeOptions:{parentKey:"parentId",key:"id",children:"children"},parseDateFormat:"yyyy-MM-dd HH:mm:ss",firstDayOfWeek:1};return Mu=e,Mu}var Iu,$C;function lo(){if($C)return Iu;$C=1;function e(t,r,n){if(t)if(t.forEach)t.forEach(r,n);else for(var l=0,a=t.length;l<a;l++)r.call(n,t[l],l,t)}return Iu=e,Iu}var Fu,AC;function sM(){if(AC)return Fu;AC=1;var e=Object.prototype.toString;return Fu=e,Fu}var $u,PC;function Ds(){if(PC)return $u;PC=1;var e=sM();function t(r){return function(n){return"[object "+r+"]"===e.call(n)}}return $u=t,$u}var Au,kC;function sn(){if(kC)return Au;kC=1;var e=Ds(),t=Array.isArray||e("Array");return Au=t,Au}var Pu,LC;function ua(){if(LC)return Pu;LC=1;function e(t,r){return t&&t.hasOwnProperty?t.hasOwnProperty(r):!1}return Pu=e,Pu}var ku,NC;function Os(){if(NC)return ku;NC=1;var e=ua();function t(r,n,l){if(r)for(var a in r)e(r,a)&&n.call(l,r[a],a,r)}return ku=t,ku}var Lu,_C;function Fn(){if(_C)return Lu;_C=1;var e=sn(),t=lo(),r=Os();function n(l,a,i){return l&&(e(l)?t:r)(l,a,i)}return Lu=n,Lu}var Nu,qC;function Di(){if(qC)return Nu;qC=1;function e(t){return function(r){return typeof r===t}}return Nu=e,Nu}var _u,HC;function Co(){if(HC)return _u;HC=1;var e=Di(),t=e("function");return _u=t,_u}var qu,BC;function bx(){if(BC)return qu;BC=1;var e=Fn();function t(r,n){var l=Object[r];return function(a){var i=[];if(a){if(l)return l(a);e(a,n>1?function(d){i.push([""+d,a[d]])}:function(){i.push(arguments[n])})}return i}}return qu=t,qu}var Hu,VC;function Ua(){if(VC)return Hu;VC=1;var e=bx(),t=e("keys",1);return Hu=t,Hu}var Bu,zC;function xx(){if(zC)return Bu;zC=1;var e=sM(),t=Os(),r=lo();function n(d,s){var h=d.__proto__.constructor;return s?new h(s):new h}function l(d,s){return s?a(d,s):d}function a(d,s){if(d)switch(e.call(d)){case"[object Object]":{var h=Object.create(Object.getPrototypeOf(d));return t(d,function(y,p){h[p]=l(y,s)}),h}case"[object Date]":case"[object RegExp]":return n(d,d.valueOf());case"[object Array]":case"[object Arguments]":{var c=[];return r(d,function(y){c.push(l(y,s))}),c}case"[object Set]":{var b=n(d);return b.forEach(function(y){b.add(l(y,s))}),b}case"[object Map]":{var E=n(d);return E.forEach(function(y,p){E.set(p,l(y,s))}),E}}return d}function i(d,s){return d&&a(d,s)}return Bu=i,Bu}var Vu,GC;function Ho(){if(GC)return Vu;GC=1;var e=lo(),t=Ua(),r=sn(),n=xx(),l=Object.assign;function a(d,s,h){for(var c=s.length,b,E=1;E<c;E++)b=s[E],e(t(s[E]),h?function(y){d[y]=n(b[y],h)}:function(y){d[y]=b[y]});return d}var i=function(d){if(d){var s=arguments;if(d===!0){if(s.length>1)return d=r(d[1])?[]:{},a(d,s,!0)}else return l?l.apply(Object,s):a(d,s)}return d};return Vu=i,Vu}var zu,WC;function b0(){if(WC)return zu;WC=1;var e=Aa(),t=lo(),r=Fn(),n=Co(),l=Ho(),a=function(){};function i(){t(arguments,function(c){r(c,function(b,E){a[E]=n(b)?function(){var y=b.apply(a.$context,arguments);return a.$context=null,y}:b})})}function d(c){return l(e,c)}function s(){return e}var h="3.7.9";return a.VERSION=h,a.version=h,a.mixin=i,a.setup=d,a.setConfig=d,a.getConfig=s,zu=a,zu}var Gu,UC;function Cx(){if(UC)return Gu;UC=1;function e(t,r,n){for(var l=t.length-1;l>=0;l--)r.call(n,t[l],l,t)}return Gu=e,Gu}var Wu,jC;function cM(){if(jC)return Wu;jC=1;var e=Cx(),t=Ua();function r(n,l,a){e(t(n),function(i){l.call(a,n[i],i,n)})}return Wu=r,Wu}var Uu,YC;function ja(){if(YC)return Uu;YC=1;function e(t){return t===null}return Uu=e,Uu}var ju,KC;function Oi(){if(KC)return ju;KC=1;var e=ja();function t(r,n){return function(l){return e(l)?n:l[r]}}return ju=t,ju}var Yu,XC;function x0(){if(XC)return Yu;XC=1;var e=Fn(),t=Co(),r=Oi();function n(l,a,i){var d={};if(l)if(a)t(a)||(a=r(a)),e(l,function(s,h){d[h]=a.call(i,s,h,l)});else return l;return d}return Yu=n,Yu}var Ku,ZC;function Ti(){if(ZC)return Ku;ZC=1;function e(t){return t?t.constructor===Object:!1}return Ku=e,Ku}var Xu,JC;function uM(){if(JC)return Xu;JC=1;function e(t){return t!=="__proto__"&&t!=="constructor"}return Xu=e,Xu}var Zu,QC;function C0(){if(QC)return Zu;QC=1;var e=sn(),t=Ti(),r=Co(),n=Fn(),l=uM();function a(d,s){return t(d)&&t(s)||e(d)&&e(s)?(n(s,function(h,c){l(c)&&(d[c]=r(s)?h:a(d[c],h))}),d):s}var i=function(d){d||(d={});for(var s=arguments,h=s.length,c,b=1;b<h;b++)c=s[b],c&&a(d,c);return d};return Zu=i,Zu}var Ju,ey;function zl(){if(ey)return Ju;ey=1;var e=Fn();function t(r,n,l){var a=[];if(r&&arguments.length>1){if(r.map)return r.map(n,l);e(r,function(){a.push(n.apply(l,arguments))})}return a}return Ju=t,Ju}var Qu,ty;function qc(){if(ty)return Qu;ty=1;var e=ua(),t=sn();function r(n,l,a,i,d){return function(s,h,c){if(s&&h){if(n&&s[n])return s[n](h,c);if(l&&t(s)){for(var b=0,E=s.length;b<E;b++)if(!!h.call(c,s[b],b,s)===i)return[!0,!1,b,s[b]][a]}else for(var y in s)if(e(s,y)&&!!h.call(c,s[y],y,s)===i)return[!0,!1,y,s[y]][a]}return d}}return Qu=r,Qu}var ed,ry;function dM(){if(ry)return ed;ry=1;var e=qc(),t=e("some",1,0,!0,!1);return ed=t,ed}var td,ny;function fM(){if(ny)return td;ny=1;var e=qc(),t=e("every",1,1,!1,!0);return td=t,td}var rd,oy;function Mi(){if(oy)return rd;oy=1;var e=ua();function t(r,n){if(r){if(r.includes)return r.includes(n);for(var l in r)if(e(r,l)&&n===r[l])return!0}return!1}return rd=t,rd}var nd,ay;function pM(){if(ay)return nd;ay=1;var e=sn(),t=Mi();function r(n,l){var a,i=0;if(e(n)&&e(l)){for(a=l.length;i<a;i++)if(!t(n,l[i]))return!1;return!0}return t(n,l)}return nd=r,nd}var od,ly;function gM(){if(ly)return od;ly=1;var e=Fn(),t=Mi(),r=Co(),n=Oi();function l(a,i,d){var s=[];if(i){r(i)||(i=n(i));var h,c={};e(a,function(b,E){h=i.call(d,b,E,a),c[h]||(c[h]=1,s.push(b))})}else e(a,function(b){t(s,b)||s.push(b)});return s}return od=l,od}var ad,iy;function yx(){if(iy)return ad;iy=1;var e=zl();function t(r){return e(r,function(n){return n})}return ad=t,ad}var ld,sy;function y0(){if(sy)return ld;sy=1;var e=gM(),t=yx();function r(){for(var n=arguments,l=[],a=0,i=n.length;a<i;a++)l=l.concat(t(n[a]));return e(l)}return ld=r,ld}var id,cy;function da(){if(cy)return id;cy=1;var e="undefined";return id=e,id}var sd,uy;function Pa(){if(uy)return sd;uy=1;var e=da(),t=Di(),r=t(e);return sd=r,sd}var cd,dy;function Ya(){if(dy)return cd;dy=1;var e=ja(),t=Pa();function r(n){return e(n)||t(n)}return cd=r,cd}var ud,fy;function hM(){if(fy)return ud;fy=1;var e=/(.+)?\[(\d+)\]$/;return ud=e,ud}var dd,py;function wx(){if(py)return dd;py=1;function e(t){return t?t.splice&&t.join?t:(""+t).replace(/(\[\d+\])\.?/g,"$1.").replace(/\.$/,"").split("."):[]}return dd=e,dd}var fd,gy;function Ts(){if(gy)return fd;gy=1;var e=hM(),t=wx(),r=ua(),n=Pa(),l=Ya();function a(s,h,c){if(l(s))return c;var b=d(s,h);return n(b)?c:b}function i(s,h){var c=h?h.match(e):"";return c?c[1]?s[c[1]]?s[c[1]][c[2]]:void 0:s[c[2]]:s[h]}function d(s,h){if(s){var c,b,E,y=0;if(s[h]||r(s,h))return s[h];if(b=t(h),E=b.length,E){for(c=s;y<E;y++)if(c=i(c,b[y]),l(c))return y===E-1?c:void 0}return c}}return fd=a,fd}var pd,hy;function Ex(){if(hy)return pd;hy=1;var e=lo(),t=yx(),r=zl(),n=sn(),l=Co(),a=Ti(),i=Pa(),d=ja(),s=Ya(),h=Ts(),c=Oi(),b="asc",E="desc";function y(D,I){return i(D)?1:d(D)?i(I)?-1:1:D&&D.localeCompare?D.localeCompare(I):D>I?1:-1}function p(D,I,W){return function(N,Y){var L=N[D],F=Y[D];return L===F?W?W(N,Y):0:I.order===E?y(F,L):y(L,F)}}function g(D,I,W,N){var Y=[];return W=n(W)?W:[W],e(W,function(L,F){if(L){var M=L,q;n(L)?(M=L[0],q=L[1]):a(L)&&(M=L.field,q=L.order),Y.push({field:M,order:q||b}),e(I,l(M)?function(V,j){V[F]=M.call(N,V.data,j,D)}:function(V){V[F]=M?h(V.data,M):V.data})}}),Y}function O(D,I,W){if(D){if(s(I))return t(D).sort(y);for(var N,Y=r(D,function(M){return{data:M}}),L=g(D,Y,I,W),F=L.length-1;F>=0;)N=p(F,L[F],N),F--;return N&&(Y=Y.sort(N)),r(Y,c("data"))}return[]}return pd=O,pd}var gd,vy;function w0(){if(vy)return gd;vy=1;var e=Ex(),t=e;return gd=t,gd}var hd,my;function vM(){if(my)return hd;my=1;function e(t,r){return t>=r?t:(t=t>>0)+Math.round(Math.random()*((r||9)-t))}return hd=e,hd}var vd,by;function Ii(){if(by)return vd;by=1;var e=bx(),t=e("values",0);return vd=t,vd}var md,xy;function mM(){if(xy)return md;xy=1;var e=vM(),t=Ii();function r(n){for(var l,a=[],i=t(n),d=i.length-1;d>=0;d--)l=d>0?e(0,d):0,a.push(i[l]),i.splice(l,1);return a}return md=r,md}var bd,Cy;function E0(){if(Cy)return bd;Cy=1;var e=mM();function t(r,n){var l=e(r);return arguments.length<=1?l[0]:(n<l.length&&(l.length=n||0),l)}return bd=t,bd}var xd,yy;function bM(){if(yy)return xd;yy=1;function e(t){return function(r){if(r){var n=t(r&&r.replace?r.replace(/,/g,""):r);if(!isNaN(n))return n}return 0}}return xd=e,xd}var Cd,wy;function Gl(){if(wy)return Cd;wy=1;var e=bM(),t=e(parseFloat);return Cd=t,Cd}var yd,Ey;function Wl(){if(Ey)return yd;Ey=1;var e=Gl();function t(r,n,l){var a=[],i=arguments.length;if(r){if(n=i>=2?e(n):0,l=i>=3?e(l):r.length,r.slice)return r.slice(n,l);for(;n<l;n++)a.push(r[n])}return a}return yd=t,yd}var wd,Sy;function S0(){if(Sy)return wd;Sy=1;var e=Fn();function t(r,n,l){var a=[];if(r&&n){if(r.filter)return r.filter(n,l);e(r,function(i,d){n.call(l,i,d,r)&&a.push(i)})}return a}return wd=t,wd}var Ed,Ry;function R0(){if(Ry)return Ed;Ry=1;var e=qc(),t=e("",0,2,!0);return Ed=t,Ed}var Sd,Dy;function D0(){if(Dy)return Sd;Dy=1;var e=qc(),t=e("find",1,3,!0);return Sd=t,Sd}var Rd,Oy;function O0(){if(Oy)return Rd;Oy=1;var e=sn(),t=Ii();function r(n,l,a){if(n){e(n)||(n=t(n));for(var i=n.length-1;i>=0;i--)if(l.call(a,n[i],i,n))return n[i]}}return Rd=r,Rd}var Dd,Ty;function T0(){if(Ty)return Dd;Ty=1;var e=Ua();function t(r,n,l){if(r){var a,i,d=0,s=null,h=l,c=arguments.length>2,b=e(r);if(r.length&&r.reduce)return i=function(){return n.apply(s,arguments)},c?r.reduce(i,h):r.reduce(i);for(c&&(d=1,h=r[b[0]]),a=b.length;d<a;d++)h=n.call(s,h,r[b[d]],d,r);return h}}return Dd=t,Dd}var Od,My;function M0(){if(My)return Od;My=1;var e=sn();function t(r,n,l,a){if(e(r)&&r.copyWithin)return r.copyWithin(n,l,a);var i,d,s=n>>0,h=l>>0,c=r.length,b=arguments.length>3?a>>0:c;if(s<c&&(s=s>=0?s:c+s,s>=0&&(h=h>=0?h:c+h,b=b>=0?b:c+b,h<b)))for(i=0,d=r.slice(h,b);s<c&&!(d.length<=i);s++)r[s]=d[i++];return r}return Od=t,Od}var Td,Iy;function I0(){if(Iy)return Td;Iy=1;var e=sn();function t(r,n){var l,a=[],i=n>>0||1;if(e(r))if(i>=0&&r.length>i)for(l=0;l<r.length;)a.push(r.slice(l,l+i)),l+=i;else a=r.length?[r]:r;return a}return Td=t,Td}var Md,Fy;function xM(){if(Fy)return Md;Fy=1;var e=zl(),t=Oi();function r(n,l){return e(n,t(l))}return Md=r,Md}var Id,$y;function CM(){if($y)return Id;$y=1;var e=Co(),t=Ya(),r=Ts(),n=lo();function l(a){return function(i,d){if(i&&i.length){var s,h;return n(i,function(c,b){d&&(c=e(d)?d(c,b,i):r(c,d)),!t(c)&&(t(s)||a(s,c))&&(h=b,s=c)}),i[h]}return s}}return Id=l,Id}var Fd,Ay;function yM(){if(Ay)return Fd;Ay=1;var e=CM(),t=e(function(r,n){return r<n});return Fd=t,Fd}var $d,Py;function wM(){if(Py)return $d;Py=1;var e=xM(),t=yM();function r(n){var l,a,i,d=[];if(n&&n.length)for(l=0,a=t(n,function(s){return s?s.length:0}),i=a?a.length:0;l<i;l++)d.push(e(n,l));return d}return $d=r,$d}var Ad,ky;function F0(){if(ky)return Ad;ky=1;var e=wM();function t(){return e(arguments)}return Ad=t,Ad}var Pd,Ly;function $0(){if(Ly)return Pd;Ly=1;var e=Ii(),t=Fn();function r(n,l){var a={};return l=l||[],t(e(n),function(i,d){a[i]=l[d]}),a}return Pd=r,Pd}var kd,Ny;function A0(){if(Ny)return kd;Ny=1;var e=sn(),t=lo();function r(l,a){var i=[];return t(l,function(d){i=i.concat(e(d)?a?r(d,a):d:[d])}),i}function n(l,a){return e(l)?r(l,a):[]}return kd=n,kd}var Ld,_y;function P0(){if(_y)return Ld;_y=1;var e=zl(),t=sn();function r(l,a){for(var i=0,d=a.length;l&&i<d;)l=l[a[i++]];return d&&l?l:0}function n(l,a){for(var i,d=arguments,s=[],h=[],c=2,b=d.length;c<b;c++)s.push(d[c]);if(t(a)){for(b=a.length-1,c=0;c<b;c++)h.push(a[c]);a=a[b]}return e(l,function(E){if(h.length&&(E=r(E,h)),i=E[a]||a,i&&i.apply)return i.apply(E,s)})}return Ld=n,Ld}var Nd,qy;function k0(){if(qy)return Nd;qy=1;function e(t,r){return(console[t]||console.log)(r)}return Nd=e,Nd}var _d,Hy;function EM(){if(Hy)return _d;Hy=1;function e(t,r){try{delete t[r]}catch(n){t[r]=void 0}}return _d=e,_d}var qd,By;function SM(){if(By)return qd;By=1;var e=sn(),t=Cx(),r=cM();function n(l,a,i){return l&&(e(l)?t:r)(l,a,i)}return qd=n,qd}var Hd,Vy;function Hc(){if(Vy)return Hd;Vy=1;var e=Di(),t=e("object");return Hd=t,Hd}var Bd,zy;function RM(){if(zy)return Bd;zy=1;var e=EM(),t=Ti(),r=Hc(),n=sn(),l=ja(),a=Ho(),i=Os();function d(s,h,c){if(s){var b,E=arguments.length>1&&(l(h)||!r(h)),y=E?c:h;if(t(s))i(s,E?function(p,g){s[g]=h}:function(p,g){e(s,g)}),y&&a(s,y);else if(n(s)){if(E)for(b=s.length;b>0;)b--,s[b]=h;else s.length=0;y&&s.push.apply(s,y)}}return s}return Bd=d,Bd}var Vd,Gy;function DM(){if(Gy)return Vd;Gy=1;var e=EM(),t=Co(),r=sn(),n=Fn(),l=lo(),a=SM(),i=RM(),d=Ya();function s(c){return function(b,E){return E===c}}function h(c,b,E){if(c){if(!d(b)){var y=[],p=[];return t(b)||(b=s(b)),n(c,function(g,O,D){b.call(E,g,O,D)&&y.push(O)}),r(c)?a(y,function(g,O){p.push(c[g]),c.splice(g,1)}):(p={},l(y,function(g){p[g]=c[g],e(c,g)})),p}return i(c)}return c}return Vd=h,Vd}var zd,Wy;function L0(){if(Wy)return zd;Wy=1;var e=Aa(),t=k0(),r=Ex(),n=xx(),l=Ya(),a=Fn(),i=DM(),d=Ho();function s(c,b){a(c,function(E){E[b]&&!E[b].length&&i(E,b)})}function h(c,b){var E=d({},e.treeOptions,b),y=E.strict,p=E.key,g=E.parentKey,O=E.children,D=E.mapChildren,I=E.sortKey,W=E.reverse,N=E.data,Y=[],L={},F={},M,q,V;return I&&(c=r(n(c),I),W&&(c=c.reverse())),a(c,function(j){M=j[p],F[M]&&t("warn","Duplicate primary key="+M),F[M]=!0}),a(c,function(j){M=j[p],N?(q={},q[N]=j):q=j,V=j[g],L[M]=L[M]||[],q[p]=M,q[g]=V,M===V&&(V=null,t("warn","Error infinite Loop. key="+M+" parentKey="+M)),L[V]=L[V]||[],L[V].push(q),q[O]=L[M],D&&(q[D]=L[M]),(!y||y&&l(V))&&(F[V]||Y.push(q))}),y&&s(c,O),Y}return zd=h,zd}var Gd,Uy;function N0(){if(Uy)return Gd;Uy=1;var e=Aa(),t=lo(),r=Ho();function n(a,i,d,s){var h=s.key,c=s.parentKey,b=s.children,E=s.data,y=s.updated,p=s.clear;return t(d,function(g){var O=g[b];E&&(g=g[E]),y!==!1&&(g[c]=i?i[h]:null),a.push(g),O&&O.length&&n(a,g,O,s),p&&delete g[b]}),a}function l(a,i){return n([],null,a,r({},e.treeOptions,i))}return Gd=l,Gd}var Wd,jy;function Bc(){if(jy)return Wd;jy=1;function e(t){return function(r,n,l,a){var i=l||{},d=i.children||"children";return t(null,r,n,a,[],[],d,i)}}return Wd=e,Wd}var Ud,Yy;function _0(){if(Yy)return Ud;Yy=1;var e=Bc();function t(n,l,a,i,d,s,h,c){if(l){var b,E,y,p,g,O;for(E=0,y=l.length;E<y;E++){if(b=l[E],p=d.concat([""+E]),g=s.concat([b]),a.call(i,b,E,l,p,n,g))return{index:E,item:b,path:p,items:l,parent:n,nodes:g};if(h&&b&&(O=t(b,b[h],a,i,p.concat([h]),g,h),O))return O}}}var r=e(t);return Ud=r,Ud}var jd,Ky;function OM(){if(Ky)return jd;Ky=1;var e=Bc(),t=Fn();function r(l,a,i,d,s,h,c,b){var E,y;t(a,function(p,g){E=s.concat([""+g]),y=h.concat([p]),i.call(d,p,g,a,E,l,y),p&&c&&(E.push(c),r(p,p[c],i,d,E,y,c))})}var n=e(r);return jd=n,jd}var Yd,Xy;function q0(){if(Xy)return Yd;Xy=1;var e=Bc(),t=zl();function r(l,a,i,d,s,h,c,b){var E,y,p,g=b.mapChildren||c;return t(a,function(O,D){return E=s.concat([""+D]),y=h.concat([O]),p=i.call(d,O,D,a,E,l,y),p&&O&&c&&O[c]&&(p[g]=r(O,O[c],i,d,E,y,c,b)),p})}var n=e(r);return Yd=n,Yd}var Kd,Zy;function H0(){if(Zy)return Kd;Zy=1;var e=OM();function t(r,n,l,a){var i=[];return r&&n&&e(r,function(d,s,h,c,b,E){n.call(a,d,s,h,c,b,E)&&i.push(d)},l),i}return Kd=t,Kd}var Xd,Jy;function B0(){if(Jy)return Xd;Jy=1;var e=Bc(),t=lo(),r=Ho();function n(a,i,d,s,h,c,b,E,y){var p,g,O,D,I,W=[],N=y.original,Y=y.data,L=y.mapChildren||E,F=y.isEvery;return t(d,function(M,q){p=c.concat([""+q]),g=b.concat([M]),D=a&&!F||s.call(h,M,q,d,p,i,g),I=E&&M[E],D||I?(N?O=M:(O=r({},M),Y&&(O[Y]=M)),O[L]=n(D,M,M[E],s,h,p,g,E,y),(D||O[L].length)&&W.push(O)):D&&W.push(O)}),W}var l=e(function(a,i,d,s,h,c,b,E){return n(0,a,i,d,s,h,c,b,E)});return Xd=l,Xd}var Zd,Qy;function TM(){if(Qy)return Zd;Qy=1;function e(t,r){if(t.indexOf)return t.indexOf(r);for(var n=0,l=t.length;n<l;n++)if(r===t[n])return n}return Zd=e,Zd}var Jd,ew;function MM(){if(ew)return Jd;ew=1;function e(t,r){if(t.lastIndexOf)return t.lastIndexOf(r);for(var n=t.length-1;n>=0;n--)if(r===t[n])return n;return-1}return Jd=e,Jd}var Qd,tw;function ka(){if(tw)return Qd;tw=1;var e=Di(),t=e("number");return Qd=t,Qd}var ef,rw;function V0(){if(rw)return ef;rw=1;var e=ka();function t(r){return e(r)&&isNaN(r)}return ef=t,ef}var tf,nw;function Ka(){if(nw)return tf;nw=1;var e=Di(),t=e("string");return tf=t,tf}var rf,ow;function bl(){if(ow)return rf;ow=1;var e=Ds(),t=e("Date");return rf=t,rf}var nf,aw;function Ms(){if(aw)return nf;aw=1;var e=parseInt;return nf=e,nf}var of,lw;function z0(){if(lw)return of;lw=1;function e(t){return Date.UTC(t.y,t.M||0,t.d||1,t.H||0,t.m||0,t.s||0,t.S||0)}return of=e,of}var af,iw;function Zo(){if(iw)return af;iw=1;function e(t){return t.getTime()}return af=e,af}var lf,sw;function yo(){if(sw)return lf;sw=1;var e=Ms(),t=z0(),r=Zo(),n=Ka(),l=bl();function a(k){return"(\\d{"+k+"})"}function i(k){return k<10?k*100:k<100?k*10:k}function d(k){return isNaN(k)?k:e(k)}for(var s=a(2),h=a("1,2"),c=a("1,7"),b=a("3,4"),E=".{1}",y=E+h,p="(([zZ])|([-+]\\d{2}:?\\d{2}))",g=[b,y,y,y,y,y,E+c,p],O=[],D=g.length-1;D>=0;D--){for(var I="",W=0;W<D+1;W++)I+=g[W];O.push(new RegExp("^"+I+"$"))}function N(k){for(var ne,fe={},G=0,J=O.length;G<J;G++)if(ne=k.match(O[G]),ne){fe.y=ne[1],fe.M=ne[2],fe.d=ne[3],fe.H=ne[4],fe.m=ne[5],fe.s=ne[6],fe.S=ne[7],fe.Z=ne[8];break}return fe}for(var Y=[["yyyy",b],["yy",s],["MM",s],["M",h],["dd",s],["d",h],["HH",s],["H",h],["mm",s],["m",h],["ss",s],["s",h],["SSS",a(3)],["S",c],["Z",p]],L={},F=["\\[([^\\]]+)\\]"],W=0;W<Y.length;W++){var M=Y[W];L[M[0]]=M[1]+"?",F.push(M[0])}var q=new RegExp(F.join("|"),"g"),V={};function j(k,ne){var fe=V[ne];if(!fe){var G=[],J=ne.replace(/([$(){}*+.?\\^|])/g,"\\$1").replace(q,function(Re,Pe){var le=Re.charAt(0);return le==="["?Pe:(G.push(le),L[Re])});fe=V[ne]={_i:G,_r:new RegExp(J)}}var we={},se=k.match(fe._r);if(se){for(var re=fe._i,ve=1,Ee=se.length;ve<Ee;ve++)we[re[ve-1]]=se[ve];return we}return we}function U(k){if(/^[zZ]/.test(k.Z))return new Date(t(k));var ne=k.Z.match(/([-+])(\d{2}):?(\d{2})/);return ne?new Date(t(k)-(ne[1]==="-"?-1:1)*e(ne[2])*36e5+e(ne[3])*6e4):new Date("")}function z(k,ne){if(k){var fe=l(k);if(fe||!ne&&/^[0-9]{11,15}$/.test(k))return new Date(fe?r(k):e(k));if(n(k)){var G=ne?j(k,ne):N(k);if(G.y)return G.M&&(G.M=d(G.M)-1),G.S&&(G.S=i(d(G.S.substring(0,3)))),G.Z?U(G):new Date(G.y,G.M||0,G.d||1,G.H||0,G.m||0,G.s||0,G.S||0)}}return new Date("")}return lf=z,lf}var sf,cw;function Vc(){if(cw)return sf;cw=1;function e(){return new Date}return sf=e,sf}var cf,uw;function IM(){if(uw)return cf;uw=1;var e=bl(),t=yo(),r=Vc();function n(l){var a,i=l?t(l):r();return e(i)?(a=i.getFullYear(),a%4===0&&(a%100!==0||a%400===0)):!1}return cf=n,cf}var uf,dw;function G0(){if(dw)return uf;dw=1;var e=sn(),t=ua();function r(n,l,a){if(n){if(e(n))for(var i=0,d=n.length;i<d&&l.call(a,n[i],i,n)!==!1;i++);else for(var s in n)if(t(n,s)&&l.call(a,n[s],s,n)===!1)break}}return uf=r,uf}var df,fw;function W0(){if(fw)return df;fw=1;var e=sn(),t=ua();function r(n,l,a){if(n){var i,d;if(e(n))for(i=n.length-1;i>=0&&l.call(a,n[i],i,n)!==!1;i--);else for(d=t(n),i=d.length-1;i>=0&&l.call(a,n[d[i]],d[i],n)!==!1;i--);}}return df=r,df}var ff,pw;function FM(){if(pw)return ff;pw=1;var e=sn(),t=Ka(),r=ua();function n(l,a){return function(i,d){if(i){if(i[l])return i[l](d);if(t(i)||e(i))return a(i,d);for(var s in i)if(r(i,s)&&d===i[s])return s}return-1}}return ff=n,ff}var pf,gw;function U0(){if(gw)return pf;gw=1;var e=FM(),t=TM(),r=e("indexOf",t);return pf=r,pf}var gf,hw;function $M(){if(hw)return gf;hw=1;var e=FM(),t=MM(),r=e("lastIndexOf",t);return gf=r,gf}var hf,vw;function AM(){if(vw)return hf;vw=1;var e=sn(),t=Ka(),r=Fn();function n(l){var a=0;return t(l)||e(l)?l.length:(r(l,function(){a++}),a)}return hf=n,hf}var vf,mw;function j0(){if(mw)return vf;mw=1;var e=ka();function t(r){return e(r)&&isFinite(r)}return vf=t,vf}var mf,bw;function PM(){if(bw)return mf;bw=1;var e=sn(),t=ja(),r=function(n){return!t(n)&&!isNaN(n)&&!e(n)&&n%1===0};return mf=r,mf}var bf,xw;function Y0(){if(xw)return bf;xw=1;var e=sn(),t=PM(),r=ja();function n(l){return!r(l)&&!isNaN(l)&&!e(l)&&!t(l)}return bf=n,bf}var xf,Cw;function kM(){if(Cw)return xf;Cw=1;var e=Di(),t=e("boolean");return xf=t,xf}var Cf,yw;function Sx(){if(yw)return Cf;yw=1;var e=Ds(),t=e("RegExp");return Cf=t,Cf}var yf,ww;function LM(){if(ww)return yf;ww=1;var e=Ds(),t=e("Error");return yf=t,yf}var wf,Ew;function K0(){if(Ew)return wf;Ew=1;function e(t){return t?t.constructor===TypeError:!1}return wf=e,wf}var Ef,Sw;function NM(){if(Sw)return Ef;Sw=1;function e(t){for(var r in t)return!1;return!0}return Ef=e,Ef}var Sf,Rw;function _M(){if(Rw)return Sf;Rw=1;var e=da(),t=typeof Symbol!==e;function r(n){return t&&Symbol.isSymbol?Symbol.isSymbol(n):typeof n=="symbol"}return Sf=r,Sf}var Rf,Dw;function X0(){if(Dw)return Rf;Dw=1;var e=Ds(),t=e("Arguments");return Rf=t,Rf}var Df,Ow;function Z0(){if(Ow)return Df;Ow=1;var e=Ka(),t=ka();function r(n){return!!(n&&e(n.nodeName)&&t(n.nodeType))}return Df=r,Df}var Of,Tw;function Rx(){if(Tw)return Of;Tw=1;var e=da(),t=typeof document===e?0:document;return Of=t,Of}var Tf,Mw;function J0(){if(Mw)return Tf;Mw=1;var e=Rx();function t(r){return!!(r&&e&&r.nodeType===9)}return Tf=t,Tf}var Mf,Iw;function qM(){if(Iw)return Mf;Iw=1;var e=da(),t=typeof window===e?0:window;return Mf=t,Mf}var If,Fw;function Q0(){if(Fw)return If;Fw=1;var e=qM();function t(r){return!!(e&&(r&&r===r.window))}return If=t,If}var Ff,$w;function eP(){if($w)return Ff;$w=1;var e=da(),t=typeof FormData!==e;function r(n){return t&&n instanceof FormData}return Ff=r,Ff}var $f,Aw;function tP(){if(Aw)return $f;Aw=1;var e=da(),t=typeof Map!==e;function r(n){return t&&n instanceof Map}return $f=r,$f}var Af,Pw;function rP(){if(Pw)return Af;Pw=1;var e=da(),t=typeof WeakMap!==e;function r(n){return t&&n instanceof WeakMap}return Af=r,Af}var Pf,kw;function nP(){if(kw)return Pf;kw=1;var e=da(),t=typeof Set!==e;function r(n){return t&&n instanceof Set}return Pf=r,Pf}var kf,Lw;function oP(){if(Lw)return kf;Lw=1;var e=da(),t=typeof WeakSet!==e;function r(n){return t&&n instanceof WeakSet}return kf=r,kf}var Lf,Nw;function HM(){if(Nw)return Lf;Nw=1;var e=Co(),t=Ka(),r=sn(),n=ua();function l(a){return function(i,d,s){if(i&&e(d)){if(r(i)||t(i))return a(i,d,s);for(var h in i)if(n(i,h)&&d.call(s,i[h],h,i))return h}return-1}}return Lf=l,Lf}var Nf,_w;function Dx(){if(_w)return Nf;_w=1;var e=HM(),t=e(function(r,n,l){for(var a=0,i=r.length;a<i;a++)if(n.call(l,r[a],a,r))return a;return-1});return Nf=t,Nf}var _f,qw;function BM(){if(qw)return _f;qw=1;var e=ka(),t=sn(),r=Ka(),n=Sx(),l=bl(),a=kM(),i=Pa(),d=Ua(),s=fM();function h(c,b,E,y,p,g,O){if(c===b)return!0;if(c&&b&&!e(c)&&!e(b)&&!r(c)&&!r(b)){if(n(c))return E(""+c,""+b,p,g,O);if(l(c)||a(c))return E(+c,+b,p,g,O);var D,I,W,N=t(c),Y=t(b);if(N||Y?N&&Y:c.constructor===b.constructor)return I=d(c),W=d(b),y&&(D=y(c,b,p)),I.length===W.length?i(D)?s(I,function(L,F){return L===W[F]&&h(c[L],b[W[F]],E,y,N||Y?F:L,c,b)}):!!D:!1}return E(c,b,p,g,O)}return _f=h,_f}var qf,Hw;function VM(){if(Hw)return qf;Hw=1;function e(t,r){return t===r}return qf=e,qf}var Hf,Bw;function zM(){if(Bw)return Hf;Bw=1;var e=BM(),t=VM();function r(n,l){return e(n,l,t)}return Hf=r,Hf}var Bf,Vw;function aP(){if(Vw)return Bf;Vw=1;var e=Ua(),t=Dx(),r=zM(),n=dM(),l=pM();function a(i,d){var s=e(i),h=e(d);if(h.length){if(l(s,h))return n(h,function(c){return t(s,function(b){return b===c&&r(i[b],d[c])})>-1})}else return!0;return r(i,d)}return Bf=a,Bf}var Vf,zw;function lP(){if(zw)return Vf;zw=1;var e=BM(),t=VM(),r=Co(),n=Pa();function l(a,i,d){return r(d)?e(a,i,function(s,h,c,b,E){var y=d(s,h,c,b,E);return n(y)?t(s,h):!!y},d):e(a,i,t)}return Vf=l,Vf}var zf,Gw;function iP(){if(Gw)return zf;Gw=1;var e=_M(),t=bl(),r=sn(),n=Sx(),l=LM(),a=ja();function i(d){return a(d)?"null":e(d)?"symbol":t(d)?"date":r(d)?"array":n(d)?"regexp":l(d)?"error":typeof d}return zf=i,zf}var Gf,Ww;function sP(){if(Ww)return Gf;Ww=1;var e=Aa(),t=Ya();function r(n){return""+(t(n)?"":n)+e.keyId++}return Gf=r,Gf}var Wf,Uw;function cP(){if(Uw)return Wf;Uw=1;var e=HM(),t=e(function(r,n,l){for(var a=r.length-1;a>=0;a--)if(n.call(l,r[a],a,r))return a;return-1});return Wf=t,Wf}var Uf,jw;function uP(){if(jw)return Uf;jw=1;var e=Ti(),t=Ka();function r(n){if(e(n))return n;if(t(n))try{return JSON.parse(n)}catch(l){}return{}}return Uf=r,Uf}var jf,Yw;function dP(){if(Yw)return jf;Yw=1;var e=Ya();function t(r){return e(r)?"":JSON.stringify(r)}return jf=t,jf}var Yf,Kw;function fP(){if(Kw)return Yf;Kw=1;var e=bx(),t=e("entries",2);return Yf=t,Yf}var Kf,Xw;function GM(){if(Xw)return Kf;Xw=1;var e=Co(),t=sn(),r=Fn(),n=Dx();function l(a,i){return function(d,s){var h,c,b={},E=[],y=this,p=arguments,g=p.length;if(!e(s)){for(c=1;c<g;c++)h=p[c],E.push.apply(E,t(h)?h:[h]);s=0}return r(d,function(O,D){((s?s.call(y,O,D,d):n(E,function(I){return I===D})>-1)?a:i)&&(b[D]=O)}),b}}return Kf=l,Kf}var Xf,Zw;function pP(){if(Zw)return Xf;Zw=1;var e=GM(),t=e(1,0);return Xf=t,Xf}var Zf,Jw;function gP(){if(Jw)return Zf;Jw=1;var e=GM(),t=e(0,1);return Zf=t,Zf}var Jf,Qw;function hP(){if(Qw)return Jf;Qw=1;var e=Ii();function t(r){return e(r)[0]}return Jf=t,Jf}var Qf,eE;function vP(){if(eE)return Qf;eE=1;var e=Ii();function t(r){var n=e(r);return n[n.length-1]}return Qf=t,Qf}var ep,tE;function mP(){if(tE)return ep;tE=1;var e=hM(),t=wx(),r=ua();function n(l,a){if(l){if(r(l,a))return!0;var i,d,s,h,c,b,E=t(a),y=0,p=E.length;for(c=l;y<p&&(b=!1,i=E[y],h=i?i.match(e):"",h?(d=h[1],s=h[2],d?c[d]&&r(c[d],s)&&(b=!0,c=c[d][s]):r(c,s)&&(b=!0,c=c[s])):r(c,i)&&(b=!0,c=c[i]),b);y++)if(y===p-1)return!0}return!1}return ep=n,ep}var tp,rE;function bP(){if(rE)return tp;rE=1;var e=Ms(),t=wx(),r=uM(),n=ua(),l=/(.+)?\[(\d+)\]$/;function a(s,h,c,b,E){if(s[h])c&&(s[h]=E);else{var y,p,g=h?h.match(l):null;if(c)p=E;else{var O=b?b.match(l):null;O&&!O[1]?p=new Array(e(O[2])+1):p={}}return g?g[1]?(y=e(g[2]),s[g[1]]?c?s[g[1]][y]=p:s[g[1]][y]?p=s[g[1]][y]:s[g[1]][y]=p:(s[g[1]]=new Array(y+1),s[g[1]][y]=p)):s[g[2]]=p:s[h]=p,p}return s[h]}function i(s,h,c){if(s&&r(h)){if((s[h]||n(s,h))&&!d(h))s[h]=c;else for(var b=s,E=t(h),y=E.length,p=0;p<y;p++)if(!d(E[p])){var g=p===y-1;b=a(b,E[p],g,g?null:E[p+1],c)}}return s}function d(s){return s==="__proto__"||s==="constructor"||s==="prototype"}return tp=i,tp}var rp,nE;function WM(){if(nE)return rp;nE=1;var e=NM(),t=Hc(),r=Co(),n=Oi(),l=Fn();function a(d){return function(){return e(d)}}function i(d,s,h){var c,b={};return d&&(s&&t(s)?s=a(s):r(s)||(s=n(s)),l(d,function(E,y){c=s?s.call(h,E,y,d):E,b[c]?b[c].push(E):b[c]=[E]})),b}return rp=i,rp}var np,oE;function xP(){if(oE)return np;oE=1;var e=WM(),t=Os();function r(n,l,a){var i=e(n,l,a||this);return t(i,function(d,s){i[s]=d.length}),i}return np=r,np}var op,aE;function UM(){if(aE)return op;aE=1;function e(t,r,n){var l,a,i=[],d=arguments;if(d.length<2&&(r=d[0],t=0),l=t>>0,a=r>>0,l<r)for(n=n>>0||1;l<a;l+=n)i.push(l);return i}return op=e,op}var ap,lE;function CP(){if(lE)return ap;lE=1;var e=Ua(),t=Wl(),r=Mi(),n=lo(),l=Ho();function a(i,d){if(i&&d){var s=l.apply(this,[{}].concat(t(arguments,1))),h=e(s);n(e(i),function(c){r(h,c)&&(i[c]=s[c])})}return i}return ap=a,ap}var lp,iE;function yP(){if(iE)return lp;iE=1;var e=CM(),t=e(function(r,n){return r>n});return lp=t,lp}var ip,sE;function zc(){if(sE)return ip;sE=1;function e(t){return(t.split(".")[1]||"").length}return ip=e,ip}var sp,cE;function Is(){if(cE)return sp;cE=1;var e=Ms();function t(r,n){if(r.repeat)return r.repeat(n);var l=isNaN(n)?[]:new Array(e(n));return l.join(r)+(l.length>0?r:"")}return sp=t,sp}var cp,uE;function jM(){if(uE)return cp;uE=1;function e(t,r){return t.substring(0,r)+"."+t.substring(r,t.length)}return cp=e,cp}var up,dE;function xl(){if(dE)return up;dE=1;var e=Is(),t=jM();function r(n){var l=""+n,a=l.match(/^([-+]?)((\d+)|((\d+)?[.](\d+)?))e([-+]{1})([0-9]+)$/);if(a){var i=n<0,d=i?"-":"",s=a[3]||"",h=a[5]||"",c=a[6]||"",b=a[7],E=a[8],y=E-c.length,p=E-s.length,g=E-h.length;return b==="+"?s?d+s+e("0",E):y>0?d+h+c+e("0",y):d+h+t(c,E):s?p>0?d+"0."+e("0",Math.abs(p))+s:d+t(s,p):g>0?d+"0."+e("0",Math.abs(g))+h+c:d+t(h,g)+c}return l}return up=r,up}var dp,fE;function YM(){if(fE)return dp;fE=1;var e=zc(),t=xl();function r(n,l){var a=t(n),i=t(l);return parseInt(a.replace(".",""))*parseInt(i.replace(".",""))/Math.pow(10,e(a)+e(i))}return dp=r,dp}var fp,pE;function Ox(){if(pE)return fp;pE=1;var e=YM(),t=Gl(),r=xl();function n(l){return function(a,i){var d=t(a),s=d;if(d){i=i>>0;var h=r(d),c=h.split("."),b=c[0],E=c[1]||"",y=E.substring(0,i+1),p=b+(y?"."+y:"");if(i>=E.length)return t(p);if(p=d,i>0){var g=Math.pow(10,i);s=Math[l](e(p,g))/g}else s=Math[l](p)}return s}}return fp=n,fp}var pp,gE;function Tx(){if(gE)return pp;gE=1;var e=Ox(),t=e("round");return pp=t,pp}var gp,hE;function KM(){if(hE)return gp;hE=1;var e=Ox(),t=e("ceil");return gp=t,gp}var hp,vE;function XM(){if(vE)return hp;vE=1;var e=Ox(),t=e("floor");return hp=t,hp}var vp,mE;function wo(){if(mE)return vp;mE=1;var e=Ya(),t=ka(),r=xl();function n(l){return t(l)?r(l):""+(e(l)?"":l)}return vp=n,vp}var mp,bE;function Mx(){if(bE)return mp;bE=1;var e=Tx(),t=wo(),r=Is(),n=jM();function l(a,i){i=i>>0;var d=t(e(a,i)),s=d.split("."),h=s[0],c=s[1]||"",b=i-c.length;return i?b>0?h+"."+c+r("0",b):h+n(c,Math.abs(b)):h}return mp=l,mp}var bp,xE;function wP(){if(xE)return bp;xE=1;var e=Aa(),t=Tx(),r=KM(),n=XM(),l=ka(),a=wo(),i=Mx(),d=xl(),s=Ho();function h(c,b){var E=s({},e.commafyOptions,b),y=E.digits,p=l(c),g,O,D,I,W;return p?(g=(E.ceil?r:E.floor?n:t)(c,y),O=d(y?i(g,y):g).split("."),I=O[0],W=O[1],D=I&&g<0,D&&(I=I.substring(1,I.length))):(g=a(c).replace(/,/g,""),O=g?[g]:[],I=O[0]),O.length?(D?"-":"")+I.replace(new RegExp("(?=(?!(\\b))(.{"+(E.spaceNumber||3)+"})+$)","g"),E.separator||",")+(W?"."+W:""):g}return bp=h,bp}var xp,CE;function EP(){if(CE)return xp;CE=1;var e=Ms(),t=bM(),r=t(e);return xp=r,xp}var Cp,yE;function Ix(){if(yE)return Cp;yE=1;var e=YM(),t=Gl();function r(n,l){var a=t(n),i=t(l);return e(a,i)}return Cp=r,Cp}var yp,wE;function ZM(){if(wE)return yp;wE=1;var e=zc(),t=xl(),r=Ix();function n(l,a){var i=t(l),d=t(a),s=Math.pow(10,Math.max(e(i),e(d)));return(r(l,s)+r(a,s))/s}return yp=n,yp}var wp,EE;function SP(){if(EE)return wp;EE=1;var e=ZM(),t=Gl();function r(n,l){return e(t(n),t(l))}return wp=r,wp}var Ep,SE;function RP(){if(SE)return Ep;SE=1;var e=zc(),t=xl(),r=Gl(),n=Mx();function l(a,i){var d=r(a),s=r(i),h=t(d),c=t(s),b=e(h),E=e(c),y=Math.pow(10,Math.max(b,E)),p=b>=E?b:E;return parseFloat(n((d*y-s*y)/y,p))}return Ep=l,Ep}var Sp,RE;function JM(){if(RE)return Sp;RE=1;var e=zc(),t=xl(),r=Ix();function n(l,a){var i=t(l),d=t(a),s=e(i),h=e(d),c=h-s,b=c<0,E=Math.pow(10,b?Math.abs(c):c);return r(i.replace(".","")/d.replace(".",""),b?1/E:E)}return Sp=n,Sp}var Rp,DE;function DP(){if(DE)return Rp;DE=1;var e=JM(),t=Gl();function r(n,l){return e(t(n),t(l))}return Rp=r,Rp}var Dp,OE;function QM(){if(OE)return Dp;OE=1;var e=ZM(),t=Co(),r=sn(),n=Fn(),l=Ts();function a(i,d,s){var h=0;return n(i&&i.length>2&&r(i)?i.sort():i,d?t(d)?function(){h=e(h,d.apply(s,arguments))}:function(c){h=e(h,l(c,d))}:function(c){h=e(h,c)}),h}return Dp=a,Dp}var Op,TE;function OP(){if(TE)return Op;TE=1;var e=JM(),t=AM(),r=QM();function n(l,a,i){return e(r(l,a,i),t(l))}return Op=n,Op}var Tp,ME;function Fs(){if(ME)return Tp;ME=1;var e="first";return Tp=e,Tp}var Mp,IE;function Gc(){if(IE)return Mp;IE=1;var e="last";return Mp=e,Mp}var Ip,FE;function $s(){if(FE)return Ip;FE=1;function e(t){return t.getFullYear()}return Ip=e,Ip}var Fp,$E;function Fi(){if($E)return Fp;$E=1;var e=864e5;return Fp=e,Fp}var $p,AE;function Wc(){if(AE)return $p;AE=1;function e(t){return t.getMonth()}return $p=e,$p}var Ap,PE;function Jo(){if(PE)return Ap;PE=1;var e=bl(),t=Zo();function r(n){return e(n)&&!isNaN(t(n))}return Ap=r,Ap}var Pp,kE;function As(){if(kE)return Pp;kE=1;var e=Fs(),t=Gc(),r=Fi(),n=$s(),l=Zo(),a=Wc(),i=yo(),d=Jo(),s=ka();function h(c,b,E){var y=b&&!isNaN(b)?b:0;if(c=i(c),d(c)){if(E===e)return new Date(n(c),a(c)+y,1);if(E===t)return new Date(l(h(c,y+1,e))-1);if(s(E)&&c.setDate(E),y){var p=c.getDate();if(c.setMonth(a(c)+y),p!==c.getDate())return c.setDate(1),new Date(l(c)-r)}}return c}return Pp=h,Pp}var kp,LE;function Uc(){if(LE)return kp;LE=1;var e=Fs(),t=Gc(),r=$s(),n=As(),l=yo(),a=Jo();function i(d,s,h){var c;if(d=l(d),a(d)&&(s&&(c=s&&!isNaN(s)?s:0,d.setFullYear(r(d)+c)),h||!isNaN(h))){if(h===e)return new Date(r(d),0,1);if(h===t)return d.setMonth(11),n(d,0,t);d.setMonth(h)}return d}return kp=i,kp}var Lp,NE;function TP(){if(NE)return Lp;NE=1;var e=As(),t=yo(),r=Jo();function n(a){var i=a.getMonth();return i<3?1:i<6?2:i<9?3:4}function l(a,i,d){var s,h=i&&!isNaN(i)?i*3:0;return a=t(a),r(a)?(s=(n(a)-1)*3,a.setMonth(s),e(a,h,d)):a}return Lp=l,Lp}var Np,_E;function eI(){if(_E)return Np;_E=1;var e=Fs(),t=Gc(),r=Ms(),n=$s(),l=Wc(),a=Zo(),i=yo(),d=Jo();function s(h,c,b){if(h=i(h),d(h)&&!isNaN(c)){if(h.setDate(h.getDate()+r(c)),b===e)return new Date(n(h),l(h),h.getDate());if(b===t)return new Date(a(s(h,1,e))-1)}return h}return Np=s,Np}var _p,qE;function tI(){if(qE)return _p;qE=1;function e(t){return t.toUpperCase()}return _p=e,_p}var qp,HE;function rI(){if(HE)return qp;HE=1;var e=Fi(),t=e*7;return qp=t,qp}var Hp,BE;function nI(){if(BE)return Hp;BE=1;var e=Aa(),t=Fi(),r=rI(),n=Zo(),l=yo(),a=Jo(),i=ka();function d(s,h,c,b){if(s=l(s),a(s)){var E=i(c),y=i(b),p=n(s);if(E||y){var g=y?b:e.firstDayOfWeek,O=s.getDay(),D=E?c:O;if(O!==D){var I=0;g>O?I=-(7-g+O):g<O&&(I=g-O),D>g?p+=((D===0?7:D)-g+I)*t:D<g?p+=(7-g+D+I)*t:p+=I*t}}return h&&!isNaN(h)&&(p+=h*r),new Date(p)}return s}return Hp=d,Hp}var Bp,VE;function oI(){if(VE)return Bp;VE=1;var e=Aa(),t=Fi(),r=rI(),n=ka(),l=Mi(),a=yo(),i=Jo(),d=nI(),s=UM(),h=zl(),c=Zo(),b=h(s(0,7),function(p){return[(p+1)%7,(p+2)%7,(p+3)%7]});function E(p,g){var O=new Date(p).getDay();return l(b[g],O)}function y(p,g){return function(O,D){var I=n(D)?D:e.firstDayOfWeek,W=a(O);if(i(W)){var N=d(W,0,I,I),Y=p(N),L=c(Y),F=c(N),M=F+t*6,q=new Date(M),V=d(Y,0,I,I),j=c(V),U;if(F===j)return 1;if(g(N,q)){for(U=c(p(q));U<M;U+=t)if(E(U,I))return 1}var z=j+t*6,k=new Date(M),ne=1;if(g(V,k)){for(ne=0,U=L;U<z;U+=t)if(E(U,I)){ne++;break}}return Math.floor((F-j)/r)+ne}return NaN}}return Bp=y,Bp}var Vp,zE;function aI(){if(zE)return Vp;zE=1;var e=oI(),t=e(function(r){return new Date(r.getFullYear(),0,1)},function(r,n){return r.getFullYear()!==n.getFullYear()});return Vp=t,Vp}var zp,GE;function MP(){if(GE)return zp;GE=1;var e=$s(),t=Wc();function r(n){return new Date(e(n),t(n),n.getDate())}return zp=r,zp}var Gp,WE;function IP(){if(WE)return Gp;WE=1;var e=Zo(),t=MP();function r(n){return e(t(n))}return Gp=r,Gp}var Wp,UE;function lI(){if(UE)return Wp;UE=1;var e=Fi(),t=Fs(),r=IP(),n=Uc(),l=yo(),a=Jo();function i(d){return d=l(d),a(d)?Math.floor((r(d)-r(n(d,0,t)))/e)+1:NaN}return Wp=i,Wp}var Up,jE;function iI(){if(jE)return Up;jE=1;var e=wo(),t=Pa(),r=Is();function n(l,a,i){var d=e(l);return a=a>>0,i=t(i)?" ":""+i,d.padStart?d.padStart(a,i):a>d.length?(a-=d.length,a>i.length&&(i+=r(i,a/i.length)),i.slice(0,a)+d):d}return Up=n,Up}var jp,YE;function sI(){if(YE)return jp;YE=1;var e=Aa(),t=tI(),r=$s(),n=Wc(),l=yo(),a=aI(),i=lI(),d=Ho(),s=Jo(),h=Co(),c=iI();function b(p,g,O,D){var I=g[O];return I?h(I)?I(D,O,p):I[D]:D}var E=/\[([^\]]+)]|y{2,4}|M{1,2}|d{1,2}|H{1,2}|h{1,2}|m{1,2}|s{1,2}|S{1,3}|Z{1,2}|W{1,2}|D{1,3}|[aAeEq]/g;function y(p,g,O){if(p){if(p=l(p),s(p)){var D=g||e.parseDateFormat||e.formatString,I=p.getHours(),W=I<12?"am":"pm",N=d({},e.parseDateRules||e.formatStringMatchs,O?O.formats:null),Y=function(G,J){return(""+r(p)).substr(4-J)},L=function(G,J){return c(n(p)+1,J,"0")},F=function(G,J){return c(p.getDate(),J,"0")},M=function(G,J){return c(I,J,"0")},q=function(G,J){return c(I<=12?I:I-12,J,"0")},V=function(G,J){return c(p.getMinutes(),J,"0")},j=function(G,J){return c(p.getSeconds(),J,"0")},U=function(G,J){return c(p.getMilliseconds(),J,"0")},z=function(G,J){var we=p.getTimezoneOffset()/60*-1;return b(p,N,G,(we>=0?"+":"-")+c(we,2,"0")+(J===1?":":"")+"00")},k=function(G,J){return c(b(p,N,G,a(p,(O?O.firstDay:null)||e.firstDayOfWeek)),J,"0")},ne=function(G,J){return c(b(p,N,G,i(p)),J,"0")},fe={yyyy:Y,yy:Y,MM:L,M:L,dd:F,d:F,HH:M,H:M,hh:q,h:q,mm:V,m:V,ss:j,s:j,SSS:U,S:U,ZZ:z,Z:z,WW:k,W:k,DDD:ne,D:ne,a:function(G){return b(p,N,G,W)},A:function(G){return b(p,N,G,t(W))},e:function(G){return b(p,N,G,p.getDay())},E:function(G){return b(p,N,G,p.getDay())},q:function(G){return b(p,N,G,Math.floor((n(p)+3)/3))}};return D.replace(E,function(G,J){return J||(fe[G]?fe[G](G,G.length):G)})}return"Invalid Date"}return""}return jp=y,jp}var Yp,KE;function cI(){if(KE)return Yp;KE=1;var e=Zo(),t=Vc(),r=Date.now||function(){return e(t())};return Yp=r,Yp}var Kp,XE;function FP(){if(XE)return Kp;XE=1;var e=Zo(),t=cI(),r=yo(),n=bl(),l=function(a,i){if(a){var d=r(a,i);return n(d)?e(d):d}return t()};return Kp=l,Kp}var Xp,ZE;function $P(){if(ZE)return Xp;ZE=1;var e=sI();function t(r,n,l){return r&&n?(r=e(r,l),r!=="Invalid Date"&&r===e(n,l)):!1}return Xp=t,Xp}var Zp,JE;function AP(){if(JE)return Zp;JE=1;var e=oI(),t=e(function(r){return new Date(r.getFullYear(),r.getMonth(),1)},function(r,n){return r.getMonth()!==n.getMonth()});return Zp=t,Zp}var Jp,QE;function PP(){if(QE)return Jp;QE=1;var e=Uc(),t=yo(),r=Jo(),n=IM();function l(a,i){return a=t(a),r(a)?n(e(a,i))?366:365:NaN}return Jp=l,Jp}var Qp,eS;function kP(){if(eS)return Qp;eS=1;var e=Fi(),t=Fs(),r=Gc(),n=Zo(),l=As(),a=yo(),i=Jo();function d(s,h){return s=a(s),i(s)?Math.floor((n(l(s,h,r))-n(l(s,h,t)))/e)+1:NaN}return Qp=d,Qp}var eg,tS;function LP(){if(tS)return eg;tS=1;var e=Zo(),t=Vc(),r=yo(),n=Jo(),l=[["yyyy",31536e6],["MM",2592e6],["dd",864e5],["HH",36e5],["mm",6e4],["ss",1e3],["S",0]];function a(i,d){var s,h,c,b,E,y,p={done:!1,status:!1,time:0};if(i=r(i),d=d?r(d):t(),n(i)&&n(d)&&(s=e(i),h=e(d),s<h))for(b=p.time=h-s,p.done=!0,p.status=!0,y=0,E=l.length;y<E;y++)c=l[y],b>=c[1]?y===E-1?p[c[0]]=b||0:(p[c[0]]=Math.floor(b/c[1]),b-=p[c[0]]*c[1]):p[c[0]]=0;return p}return eg=a,eg}var tg,rS;function NP(){if(rS)return tg;rS=1;var e=wo(),t=Pa(),r=Is();function n(l,a,i){var d=e(l);return a=a>>0,i=t(i)?" ":""+i,d.padEnd?d.padEnd(a,i):a>d.length?(a-=d.length,a>i.length&&(i+=r(i,a/i.length)),d+i.slice(0,a)):d}return tg=n,tg}var rg,nS;function _P(){if(nS)return rg;nS=1;var e=wo(),t=Is();function r(n,l){return t(e(n),l)}return rg=r,rg}var ng,oS;function uI(){if(oS)return ng;oS=1;var e=wo();function t(r){return r&&r.trimRight?r.trimRight():e(r).replace(/[\s\uFEFF\xA0]+$/g,"")}return ng=t,ng}var og,aS;function dI(){if(aS)return og;aS=1;var e=wo();function t(r){return r&&r.trimLeft?r.trimLeft():e(r).replace(/^[\s\uFEFF\xA0]+/g,"")}return og=t,og}var ag,lS;function fI(){if(lS)return ag;lS=1;var e=uI(),t=dI();function r(n){return n&&n.trim?n.trim():e(t(n))}return ag=r,ag}var lg,iS;function pI(){if(iS)return lg;iS=1;var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};return lg=e,lg}var ig,sS;function gI(){if(sS)return ig;sS=1;var e=wo(),t=Ua();function r(n){var l=new RegExp("(?:"+t(n).join("|")+")","g");return function(a){return e(a).replace(l,function(i){return n[i]})}}return ig=r,ig}var sg,cS;function qP(){if(cS)return sg;cS=1;var e=pI(),t=gI(),r=t(e);return sg=r,sg}var cg,uS;function HP(){if(uS)return cg;uS=1;var e=pI(),t=gI(),r=Fn(),n={};r(e,function(a,i){n[e[i]]=i});var l=t(n);return cg=l,cg}var ug,dS;function hI(){if(dS)return ug;dS=1;function e(t,r,n){return t.substring(r,n)}return ug=e,ug}var dg,fS;function vI(){if(fS)return dg;fS=1;function e(t){return t.toLowerCase()}return dg=e,dg}var fg,pS;function BP(){if(pS)return fg;pS=1;var e=wo(),t=hI(),r=tI(),n=vI(),l={};function a(i){if(i=e(i),l[i])return l[i];var d=i.length,s=i.replace(/([-]+)/g,function(h,c,b){return b&&b+c.length<d?"-":""});return d=s.length,s=s.replace(/([A-Z]+)/g,function(h,c,b){var E=c.length;return c=n(c),b?E>2&&b+E<d?r(t(c,0,1))+t(c,1,E-1)+r(t(c,E-1,E)):r(t(c,0,1))+t(c,1,E):E>1&&b+E<d?t(c,0,E-1)+r(t(c,E-1,E)):c}).replace(/(-[a-zA-Z])/g,function(h,c){return r(t(c,1,c.length))}),l[i]=s,s}return fg=a,fg}var pg,gS;function VP(){if(gS)return pg;gS=1;var e=wo(),t=hI(),r=vI(),n={};function l(a){if(a=e(a),n[a])return n[a];if(/^[A-Z]+$/.test(a))return r(a);var i=a.replace(/^([a-z])([A-Z]+)([a-z]+)$/,function(d,s,h,c){var b=h.length;return b>1?s+"-"+r(t(h,0,b-1))+"-"+r(t(h,b-1,b))+c:r(s+"-"+h+c)}).replace(/^([A-Z]+)([a-z]+)?$/,function(d,s,h){var c=s.length;return r(t(s,0,c-1)+"-"+t(s,c-1,c)+(h||""))}).replace(/([a-z]?)([A-Z]+)([a-z]?)/g,function(d,s,h,c,b){var E=h.length;return E>1&&(s&&(s+="-"),c)?(s||"")+r(t(h,0,E-1))+"-"+r(t(h,E-1,E))+c:(s||"")+(b?"-":"")+r(h)+(c||"")});return i=i.replace(/([-]+)/g,function(d,s,h){return h&&h+s.length<i.length?"-":""}),n[a]=i,i}return pg=l,pg}var gg,hS;function zP(){if(hS)return gg;hS=1;var e=wo();function t(r,n,l){var a=e(r);return(arguments.length===1?a:a.substring(l)).indexOf(n)===0}return gg=t,gg}var hg,vS;function GP(){if(vS)return hg;vS=1;var e=wo();function t(r,n,l){var a=e(r),i=arguments.length;return i>1&&(i>2?a.substring(0,l).indexOf(n)===l-1:a.indexOf(n)===a.length-1)}return hg=t,hg}var vg,mS;function mI(){if(mS)return vg;mS=1;var e=Aa(),t=wo(),r=fI(),n=Ts();function l(a,i,d){return t(a).replace((d||e).tmplRE||/\{{2}([.\w[\]\s]+)\}{2}/g,function(s,h){return n(i,r(h))})}return vg=l,vg}var mg,bS;function WP(){if(bS)return mg;bS=1;var e=mI();function t(r,n){return e(r,n,{tmplRE:/\{([.\w[\]\s]+)\}/g})}return mg=t,mg}var bg,xS;function UP(){if(xS)return bg;xS=1;function e(){}return bg=e,bg}var xg,CS;function jP(){if(CS)return xg;CS=1;var e=Wl();function t(r,n){var l=e(arguments,2);return function(){return r.apply(n,e(arguments).concat(l))}}return xg=t,xg}var Cg,yS;function YP(){if(yS)return Cg;yS=1;var e=Wl();function t(r,n){var l=!1,a=null,i=e(arguments,2);return function(){return l||(a=r.apply(n,e(arguments).concat(i)),l=!0),a}}return Cg=t,Cg}var yg,wS;function KP(){if(wS)return yg;wS=1;var e=Wl();function t(r,n,l){var a=0,i=[];return function(){var d=arguments;a++,a<=r&&i.push(d[0]),a>=r&&n.apply(l,[i].concat(e(d)))}}return yg=t,yg}var wg,ES;function XP(){if(ES)return wg;ES=1;var e=Wl();function t(r,n,l){var a=0,i=[];return l=l||this,function(){var d=arguments;a++,a<r&&(i.push(d[0]),n.apply(l,[i].concat(e(d))))}}return wg=t,wg}var Eg,SS;function ZP(){if(SS)return Eg;SS=1;var e=Ho();function t(r,n,l){var a=null,i=null,d=!1,s=null,h=e({leading:!0,trailing:!0},l),c=h.leading,b=h.trailing,E=function(){a=null,i=null},y=function(){d=!0,r.apply(i,a),s=setTimeout(p,n),E()},p=function(){if(s=null,d){E();return}if(b===!0){y();return}E()},g=function(){var D=s!==null;return D&&clearTimeout(s),E(),s=null,d=!1,D},O=function(){if(a=arguments,i=this,d=!1,s===null&&c===!0){y();return}b===!0&&(s=setTimeout(p,n))};return O.cancel=g,O}return Eg=t,Eg}var Sg,RS;function JP(){if(RS)return Sg;RS=1;var e=Ho();function t(r,n,l){var a=null,i=null,d=typeof l=="boolean"?{leading:l,trailing:!l}:e({leading:!1,trailing:!0},l),s=!1,h=null,c=d.leading,b=d.trailing,E=function(){a=null,i=null},y=function(){s=!0,r.apply(i,a),E()},p=function(){if(c===!0&&(h=null),s){E();return}if(b===!0){y();return}E()},g=function(){var D=h!==null;return D&&clearTimeout(h),E(),h=null,s=!1,D},O=function(){s=!1,a=arguments,i=this,h===null?c===!0&&y():clearTimeout(h),h=setTimeout(p,n)};return O.cancel=g,O}return Sg=t,Sg}var Rg,DS;function QP(){if(DS)return Rg;DS=1;var e=Wl();function t(r,n){var l=e(arguments,2),a=this;return setTimeout(function(){r.apply(a,l)},n)}return Rg=t,Rg}var Dg,OS;function bI(){if(OS)return Dg;OS=1;var e=decodeURIComponent;return Dg=e,Dg}var Og,TS;function xI(){if(TS)return Og;TS=1;var e=bI(),t=lo(),r=Ka();function n(l){var a,i={};return l&&r(l)&&t(l.split("&"),function(d){a=d.split("="),i[e(a[0])]=e(a[1]||"")}),i}return Og=n,Og}var Tg,MS;function CI(){if(MS)return Tg;MS=1;var e=encodeURIComponent;return Tg=e,Tg}var Mg,IS;function ek(){if(IS)return Mg;IS=1;var e=CI(),t=Fn(),r=sn(),n=ja(),l=Pa(),a=Ti();function i(s,h,c){var b,E=[];return t(s,function(y,p){b=r(y),a(y)||b?E=E.concat(i(y,h+"["+p+"]",b)):E.push(e(h+"["+(c?"":p)+"]")+"="+e(n(y)?"":y))}),E}function d(s){var h,c=[];return t(s,function(b,E){l(b)||(h=r(b),a(b)||h?c=c.concat(i(b,E,h)):c.push(e(E)+"="+e(n(b)?"":b)))}),c.join("&").replace(/%20/g,"+")}return Mg=d,Mg}var Ig,FS;function jc(){if(FS)return Ig;FS=1;var e=da(),t=typeof location===e?0:location;return Ig=t,Ig}var Fg,$S;function yI(){if($S)return Fg;$S=1;var e=jc();function t(){return e?e.origin||e.protocol+"//"+e.host:""}return Fg=t,Fg}var $g,AS;function wI(){if(AS)return $g;AS=1;var e=jc(),t=xI(),r=yI();function n(a){return t(a.split("?")[1]||"")}function l(a){var i,d,s,h,c=""+a;return c.indexOf("//")===0?c=(e?e.protocol:"")+c:c.indexOf("/")===0&&(c=r()+c),s=c.replace(/#.*/,"").match(/(\?.*)/),h={href:c,hash:"",host:"",hostname:"",protocol:"",port:"",search:s&&s[1]&&s[1].length>1?s[1]:""},h.path=c.replace(/^([a-z0-9.+-]*:)\/\//,function(b,E){return h.protocol=E,""}).replace(/^([a-z0-9.+-]*)(:\d+)?\/?/,function(b,E,y){return d=y||"",h.port=d.replace(":",""),h.hostname=E,h.host=E+d,"/"}).replace(/(#.*)/,function(b,E){return h.hash=E.length>1?E:"",""}),i=h.hash.match(/#((.*)\?|(.*))/),h.pathname=h.path.replace(/(\?|#.*).*/,""),h.origin=h.protocol+"//"+h.host,h.hashKey=i&&(i[2]||i[1])||"",h.hashQuery=n(h.hash),h.searchQuery=n(h.search),h}return $g=l,$g}var Ag,PS;function tk(){if(PS)return Ag;PS=1;var e=jc(),t=yI(),r=$M();function n(){if(e){var l=e.pathname,a=r(l,"/")+1;return t()+(a===l.length?l:l.substring(0,a))}return""}return Ag=n,Ag}var Pg,kS;function rk(){if(kS)return Pg;kS=1;var e=jc(),t=wI();function r(){return e?t(e.href):{}}return Pg=r,Pg}var kg,LS;function nk(){if(LS)return kg;LS=1;var e=Aa(),t=Rx(),r=bI(),n=CI(),l=sn(),a=Hc(),i=bl(),d=Pa(),s=Mi(),h=Ua(),c=Ho(),b=lo(),E=Vc(),y=Zo(),p=Uc(),g=As(),O=eI();function D(V,j){var U=parseFloat(j),z=E(),k=y(z);switch(V){case"y":return y(p(z,U));case"M":return y(g(z,U));case"d":return y(O(z,U));case"h":case"H":return k+U*60*60*1e3;case"m":return k+U*60*1e3;case"s":return k+U*1e3}return k}function I(V){return(i(V)?V:new Date(V)).toUTCString()}function W(V,j,U){if(t){var z,k,ne,fe,G,J,we=[],se=arguments;return l(V)?we=V:se.length>1?we=[c({name:V,value:j},U)]:a(V)&&(we=[V]),we.length>0?(b(we,function(re){z=c({},e.cookies,re),ne=[],z.name&&(k=z.expires,ne.push(n(z.name)+"="+n(a(z.value)?JSON.stringify(z.value):z.value)),k&&(isNaN(k)?k=k.replace(/^([0-9]+)(y|M|d|H|h|m|s)$/,function(ve,Ee,Re){return I(D(Re,Ee))}):/^[0-9]{11,13}$/.test(k)||i(k)?k=I(k):k=I(D("d",k)),z.expires=k),b(["expires","path","domain","secure"],function(ve){d(z[ve])||ne.push(z[ve]&&ve==="secure"?ve:ve+"="+z[ve])})),t.cookie=ne.join("; ")}),!0):(fe={},G=t.cookie,G&&b(G.split("; "),function(re){J=re.indexOf("="),fe[r(re.substring(0,J))]=r(re.substring(J+1)||"")}),se.length===1?fe[V]:fe)}return!1}function N(V){return s(M(),V)}function Y(V){return W(V)}function L(V,j,U){return W(V,j,U),W}function F(V,j){W(V,"",c({expires:-1},e.cookies,j))}function M(){return h(W())}function q(){return W()}return c(W,{has:N,set:L,setItem:L,get:Y,getItem:Y,remove:F,removeItem:F,keys:M,getJSON:q}),kg=W,kg}var Lg,NS;function ok(){if(NS)return Lg;NS=1;var e=da(),t=Rx(),r=qM(),n=Ho(),l=lo();function a(s){try{var h="__xe_t";return s.setItem(h,1),s.removeItem(h),!0}catch(c){return!1}}function i(s){return navigator.userAgent.indexOf(s)>-1}function d(){var s,h,c,b=!1,E=!1,y=!1,p={isNode:!1,isMobile:b,isPC:!1,isDoc:!!t};if(!r&&typeof process!==e)p.isNode=!0;else{c=i("Edge"),h=i("Chrome"),b=/(Android|webOS|iPhone|iPad|iPod|SymbianOS|BlackBerry|Windows Phone)/.test(navigator.userAgent),p.isDoc&&(s=t.body||t.documentElement,l(["webkit","khtml","moz","ms","o"],function(g){p["-"+g]=!!s[g+"MatchesSelector"]}));try{E=a(r.localStorage)}catch(g){}try{y=a(r.sessionStorage)}catch(g){}n(p,{edge:c,firefox:i("Firefox"),msie:!c&&p["-ms"],safari:!h&&!c&&i("Safari"),isMobile:b,isPC:!b,isLocalStorage:E,isSessionStorage:y})}return p}return Lg=d,Lg}var Ng,_S;function ak(){if(_S)return Ng;_S=1;var e=b0(),t=Ho(),r=Os(),n=cM(),l=x0(),a=C0(),i=zl(),d=dM(),s=fM(),h=pM(),c=lo(),b=Cx(),E=gM(),y=y0(),p=yx(),g=w0(),O=Ex(),D=mM(),I=E0(),W=Wl(),N=S0(),Y=R0(),L=Mi(),F=D0(),M=O0(),q=T0(),V=M0(),j=I0(),U=F0(),z=wM(),k=$0(),ne=A0(),fe=xM(),G=P0(),J=L0(),we=N0(),se=_0(),re=OM(),ve=q0(),Ee=H0(),Re=B0(),Pe=TM(),le=MM(),Xe=ua(),me=sn(),Te=ja(),Ae=V0(),tt=Pa(),Ue=Co(),ut=Hc(),_e=Ka(),te=Ti(),$e=IM(),ce=bl(),Le=Ya(),nt=Fn(),et=G0(),vt=W0(),xt=U0(),Dt=$M(),gt=Ua(),Tt=Ii(),ht=xx(),yt=AM(),Lt=SM(),Vt=DM(),Bt=RM(),Nt=j0(),Kt=Y0(),Wt=PM(),Fe=kM(),Oe=ka(),Ye=Sx(),rt=LM(),at=K0(),ee=NM(),Ie=_M(),Ne=X0(),pt=Z0(),He=J0(),dt=Q0(),Ze=eP(),$=tP(),H=rP(),Z=nP(),xe=oP(),De=aP(),ke=zM(),Be=lP(),qe=iP(),it=sP(),ft=Dx(),Ve=cP(),wt=uP(),ir=dP(),be=fP(),Ke=pP(),Ft=gP(),Ct=hP(),Pt=vP(),zt=mP(),Xt=Ts(),_t=bP(),st=WM(),Et=xP(),Ut=UM(),qt=CP(),cr=vM(),or=yM(),Tr=yP(),nn=wP(),Fr=Tx(),Xr=KM(),zr=XM(),Hr=Mx(),Zr=EP(),Or=Gl(),er=xl(),Ur=SP(),Nr=RP(),jr=Ix(),Jr=DP(),on=QM(),qn=OP(),Hn=Uc(),uo=TP(),fo=As(),Dn=eI(),Yn=yo(),Oo=sI(),ha=cI(),An=FP(),qa=Jo(),C=$P(),To=nI(),ta=lI(),Ar=aI(),Vo=AP(),zo=PP(),Tn=kP(),po=LP(),go=NP(),Mo=iI(),Pn=_P(),Kn=fI(),Io=uI(),ho=dI(),Go=qP(),va=HP(),ma=BP(),Xn=VP(),ba=zP(),xa=GP(),Zn=mI(),Ca=WP(),kn=wo(),an=UP(),vo=Oi(),ra=jP(),Bn=YP(),Fo=KP(),Wo=XP(),ya=ZP(),Uo=JP(),wa=QP(),A=xI(),pe=ek(),Me=wI(),Je=tk(),Rt=rk(),ot=nk(),Mt=ok();return t(e,{assign:t,objectEach:r,lastObjectEach:n,objectMap:l,merge:a,uniq:E,union:y,sortBy:g,orderBy:O,shuffle:D,sample:I,some:d,every:s,slice:W,filter:N,find:F,findLast:M,findKey:Y,includes:L,arrayIndexOf:Pe,arrayLastIndexOf:le,map:i,reduce:q,copyWithin:V,chunk:j,zip:U,unzip:z,zipObject:k,flatten:ne,toArray:p,includeArrays:h,pluck:fe,invoke:G,arrayEach:c,lastArrayEach:b,toArrayTree:J,toTreeArray:we,findTree:se,eachTree:re,mapTree:ve,filterTree:Ee,searchTree:Re,hasOwnProp:Xe,eqNull:Le,isNaN:Ae,isFinite:Nt,isUndefined:tt,isArray:me,isFloat:Kt,isInteger:Wt,isFunction:Ue,isBoolean:Fe,isString:_e,isNumber:Oe,isRegExp:Ye,isObject:ut,isPlainObject:te,isDate:ce,isError:rt,isTypeError:at,isEmpty:ee,isNull:Te,isSymbol:Ie,isArguments:Ne,isElement:pt,isDocument:He,isWindow:dt,isFormData:Ze,isMap:$,isWeakMap:H,isSet:Z,isWeakSet:xe,isLeapYear:$e,isMatch:De,isEqual:ke,isEqualWith:Be,getType:qe,uniqueId:it,getSize:yt,indexOf:xt,lastIndexOf:Dt,findIndexOf:ft,findLastIndexOf:Ve,toStringJSON:wt,toJSONString:ir,keys:gt,values:Tt,entries:be,pick:Ke,omit:Ft,first:Ct,last:Pt,each:nt,forOf:et,lastForOf:vt,lastEach:Lt,has:zt,get:Xt,set:_t,groupBy:st,countBy:Et,clone:ht,clear:Bt,remove:Vt,range:Ut,destructuring:qt,random:cr,min:Tr,max:or,commafy:nn,round:Fr,ceil:Xr,floor:zr,toFixed:Hr,toNumber:Or,toNumberString:er,toInteger:Zr,add:Ur,subtract:Nr,multiply:jr,divide:Jr,sum:on,mean:qn,now:ha,timestamp:An,isValidDate:qa,isDateSame:C,toStringDate:Yn,toDateString:Oo,getWhatYear:Hn,getWhatQuarter:uo,getWhatMonth:fo,getWhatWeek:To,getWhatDay:Dn,getYearDay:ta,getYearWeek:Ar,getMonthWeek:Vo,getDayOfYear:zo,getDayOfMonth:Tn,getDateDiff:po,trim:Kn,trimLeft:ho,trimRight:Io,escape:Go,unescape:va,camelCase:ma,kebabCase:Xn,repeat:Pn,padStart:Mo,padEnd:go,startsWith:ba,endsWith:xa,template:Zn,toFormatString:Ca,toString:kn,toValueString:kn,noop:an,property:vo,bind:ra,once:Bn,after:Fo,before:Wo,throttle:ya,debounce:Uo,delay:wa,unserialize:A,serialize:pe,parseUrl:Me,getBaseURL:Je,locat:Rt,browse:Mt,cookie:ot}),Ng=e,Ng}var lk=ak();const wr=_c(lk);var hi=null,_g=null,il=null,qS="z-index-manage",Il=null,HS="z-index-style",EI="m",SI="s",Es={m:1e3,s:1e3};function Fx(){return hi||typeof document!="undefined"&&(hi=document),hi}function RI(){return hi&&!_g&&(_g=hi.body||hi.getElementsByTagName("body")[0]),_g}function ik(){var e=0,t=Fx();if(t){var r=RI();if(r)for(var n=r.getElementsByTagName("*"),l=0;l<n.length;l++){var a=n[l];if(a&&a.style&&a.nodeType===1){var i=a.style.zIndex;i&&/^\d+$/.test(i)&&(e=Math.max(e,Number(i)))}}}return e}function sk(){if(!Il){var e=Fx();e&&(Il=e.getElementById(HS),Il||(Il=e.createElement("style"),Il.id=HS,e.getElementsByTagName("head")[0].appendChild(Il)))}return Il}function DI(){var e=sk();if(e){var t="--dom-",r="-z-index";e.innerHTML=":root{"+t+"main"+r+":"+Yc()+";"+t+"sub"+r+":"+Px()+"}"}}function OI(){if(!il){var e=Fx();if(e&&(il=e.getElementById(qS),!il)){var t=RI();t&&(il=e.createElement("div"),il.id=qS,il.style.display="none",t.appendChild(il),$x(Es.m),Ax(Es.s))}}return il}function TI(e){return function(t){if(t){t=Number(t),Es[e]=t;var r=OI();r&&(r.dataset?r.dataset[e]=t+"":r.setAttribute("data-"+e,t+""))}return DI(),Es[e]}}var $x=TI(EI);function MI(e,t){return function(n){var l,a=OI();if(a){var i=a.dataset?a.dataset[e]:a.getAttribute("data-"+e);i&&(l=Number(i))}return l||(l=Es[e]),n?Number(n)<l?t():n:l}}var Yc=MI(EI,II);function II(){return $x(Yc()+1)}var Ax=TI(SI),FI=MI(SI,$I);function Px(){return Yc()+FI()}function $I(){return Ax(FI()+1),Px()}var Ul={setCurrent:$x,getCurrent:Yc,getNext:II,setSubCurrent:Ax,getSubCurrent:Px,getSubNext:$I,getMax:ik};DI();const yi={size:"",version:1,zIndex:999,resizeInterval:500},AI={theme:""};function kx(e){const t=!e||e==="default"?"light":e;if(AI.theme=t,typeof document!="undefined"){const r=document.documentElement;r&&r.setAttribute("data-vxe-ui-theme",t)}return Vl}function ck(){return AI.theme}function Kc(e){return e&&(e.zIndex&&Ul.setCurrent(e.zIndex),e.theme&&kx(e.theme),wr.merge(yi,e)),Vl}function ze(e,t){return arguments.length?wr.get(yi,e,t):yi}const uk={},dx={};function PI(e){return wr.isArray(e)?e:e?[e]:[]}function kI(e){return e&&Object.assign(dx,e),Vl}function gr(e){return arguments.length?wr.get(dx,e):dx}function dk(e){const t=gr(e);return LI(t,e)}function LI(e,t){return wr.isFunction(e)?m("span",{},PI(e({name:t}))):m("i",{class:e})}const Mr={F2:"F2",ESCAPE:"Escape",ENTER:"Enter",TAB:"Tab",DELETE:"Delete",BACKSPACE:"Backspace",SPACEBAR:" ",CONTEXT_MENU:"ContextMenu",ARROW_UP:"ArrowUp",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",Control:"Control",R:"R",P:"P",Z:"Z",X:"X",C:"C",V:"V",M:"M"},fx=wr.browse(),BS={" ":"Spacebar",Apps:Mr.CONTEXT_MENU,Del:Mr.DELETE,Up:Mr.ARROW_UP,Down:Mr.ARROW_DOWN,Left:Mr.ARROW_LEFT,Right:Mr.ARROW_RIGHT},NI=fx.firefox?"DOMMouseScroll":"mousewheel",px=[];function Ha(e){const t=e.type===NI;px.forEach(({type:r,cb:n})=>{e.cancelBubble||(r===e.type||t&&r==="mousewheel")&&n(e)})}class VS{constructor(t,r,n){Object.defineProperty(this,"$event",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"key",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:""}),this.$event=t,t&&(t.type&&(this.type=t.type),t.key&&(this.key=t.key),t.code&&(this.code=t.code)),Object.assign(this,r),wr.objectEach(n,(l,a)=>{if(wr.isFunction(l)){let i=null,d=!1;Object.defineProperty(this,a,{get(){return d||(d=!0,i=l()),i}})}else this[a]=l})}stopPropagation(){const t=this.$event;t&&t.stopPropagation()}preventDefault(){const t=this.$event;t&&t.preventDefault()}}const Un=(e,t,r)=>(e instanceof VS&&(e=e.$event),new VS(e,t,r)),rr={on(e,t,r){px.push({comp:e,type:t,cb:r})},off(e,t){wr.remove(px,r=>r.comp===e&&r.type===t)},hasKey(e,t){const{key:r}=e;return t=t.toLowerCase(),r?t===r.toLowerCase()||!!(BS[r]&&BS[r].toLowerCase()===t):!1}};fx.isDoc&&(fx.msie||(window.addEventListener("copy",Ha,!1),window.addEventListener("cut",Ha,!1),window.addEventListener("paste",Ha,!1)),document.addEventListener("keydown",Ha,!1),document.addEventListener("contextmenu",Ha,!1),window.addEventListener("mousedown",Ha,!1),window.addEventListener("blur",Ha,!1),window.addEventListener("resize",Ha,!1),window.addEventListener(NI,wr.throttle(Ha,100,{leading:!0,trailing:!1}),{passive:!0,capture:!1}));let zS;const Nl=[],fk=500;function pk(){Nl.length&&(Nl.forEach(e=>{e.tarList.forEach(t=>{const{target:r,width:n,heighe:l}=t,a=r.clientWidth,i=r.clientHeight;(a&&n!==a||i&&l!==i)&&(t.width=a,t.heighe=i,setTimeout(e.callback))})}),_I())}function _I(){clearTimeout(zS),zS=setTimeout(pk,yi.resizeInterval||fk)}class gk{constructor(t){Object.defineProperty(this,"tarList",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"callback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.callback=t}observe(t){if(t){const{tarList:r}=this;r.some(n=>n.target===t)||r.push({target:t,width:t.clientWidth,heighe:t.clientHeight}),Nl.length||_I(),Nl.some(n=>n===this)||Nl.push(this)}}unobserve(t){wr.remove(Nl,r=>r.tarList.some(n=>n.target===t))}disconnect(){wr.remove(Nl,t=>t===this)}}const hk={create(e){return window.ResizeObserver?new window.ResizeObserver(e):new gk(e)}},wi=rn({language:"",langMaps:{}});let GS=!1,hc={};function lr(e,t){const{langMaps:r,language:n}=wi,{i18n:l}=yi;if(l)return`${l(e,t)||""}`;if(GS||(r[n]||console.error(`[vxe core] Language not installed. https://${Vl.uiVersion?"vxeui.com":"vxetable.cn"}/#/start/i18n`),GS=!0),!t&&hc[e])return hc[e];const a=wr.toFormatString(wr.get(r[n],e,e),t);return t||(hc[e]=a),a}function vk(e){const{language:t}=wi,r=e||"zh-CN";return t!==r&&(wi.language=r,hc={}),Vl}function mk(e,t){return wi.langMaps[e]=Object.assign({},t),Vl}function bk(e){const{langMaps:t}=wi;return!!t[e]}function xk(){const{language:e}=wi;return e}function qg(e,t){return function(r,n){const l=`[vxe ${t||""}] ${lr(r,n)}`;return console[e](l),l}}const WS="4.2.12",Xo={create:qg,warn:qg("warn",`v${WS}`),err:qg("error",`v${WS}`)},Zi={},dl={mixin(e){return wr.each(e,(t,r)=>dl.add(r,t)),dl},get(e){return Zi[e]||null},add(e,t){if(e&&t){const r=Zi[e];r?(wr.each(t,(n,l)=>{!wr.eqNull(r[l])&&r[l]!==n&&Xo.warn("vxe.error.coverProp",[`Renderer.${e}`,l])}),Object.assign(r,t)):Zi[e]=t}return dl},forEach(e){return wr.objectEach(Zi,e),dl},delete(e){return delete Zi[e],dl}};class qI{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(t){return wr.each(t,(r,n)=>{this.add(n,r)}),this}has(t){return!!this.get(t)}get(t){return this.store[t]}add(t,r){const n=this.store[t],l=wr.keys(n);return wr.each(r,(a,i)=>{l.includes(i)&&Xo.warn("vxe.error.coverProp",[t,i])}),this.store[t]=n?wr.merge(n,r):r,this}delete(t){delete this.store[t]}forEach(t){wr.objectEach(this.store,t)}}const HI=new qI;Object.assign(HI,{_name:"Validators"});class Ck{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(t){return wr.each(t,(r,n)=>{this.add(n,r)}),this}has(t){return!!this.get(t)}get(t){return this.store[t]}add(t,r){const n=this.store[t];wr.isFunction(r)&&(Xo.warn("vxe.error.delProp",["menus -> callback","menuMethod"]),r={menuMethod:r});const l=wr.keys(n);return wr.each(r,(a,i)=>{l.includes(i)&&Xo.warn("vxe.error.coverProp",[t,i])}),this.store[t]=n?wr.merge(n,r):r,this}delete(t){delete this.store[t]}forEach(t){wr.objectEach(this.store,t)}}const BI=new Ck;Object.assign(BI,{_name:"Menus"});class yk{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(t){return wr.each(t,(r,n)=>{this.add(n,r)}),this}has(t){return!!this.get(t)}get(t){return this.store[t]}add(t,r){const n=this.store[t];wr.isFunction(r)&&(Xo.warn("vxe.error.delProp",["formats -> callback","cellFormatMethod"]),r={cellFormatMethod:r});const l=wr.keys(n);return wr.each(r,(a,i)=>{l.includes(i)&&Xo.warn("vxe.error.coverProp",[t,i])}),this.store[t]=n?wr.merge(n,r):r,this}delete(t){delete this.store[t]}forEach(t){wr.objectEach(this.store,t)}}const VI=new yk;Object.assign(VI,{_name:"Formats"});class wk{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(t){return wr.each(t,(r,n)=>{this.add(n,r)}),this}has(t){return!!this.get(t)}get(t){return this.store[t]}add(t,r){const n=this.store[t];wr.isFunction(r)&&(Xo.warn("vxe.error.delProp",["commands -> callback","commandMethod"]),r={commandMethod:r});const l=wr.keys(n);return wr.each(r,(a,i)=>{l.includes(i)&&Xo.warn("vxe.error.coverProp",[t,i])}),this.store[t]=n?wr.merge(n,r):r,this}delete(t){delete this.store[t]}forEach(t){wr.objectEach(this.store,t)}}const zI=new wk;Object.assign(zI,{_name:"Commands"});const Ji={},vc={mixin(e){return wr.each(e,(t,r)=>{vc.add(r,t)}),vc},get(e){return Ji[e]||[]},add(e,t){wr.isFunction(t)&&(t={tableInterceptorMethod:t});const r=t.tableInterceptorMethod;if(r){let n=Ji[e];n||(n=Ji[e]=[]),n.indexOf(r)>-1&&Xo.warn("vxe.error.coverProp",["Interceptor",e]),n.push(r)}return vc},delete(e,t){const r=Ji[e];if(r){wr.isFunction(t)&&(t={tableInterceptorMethod:t});const n=t?t.tableInterceptorMethod:null;n?wr.remove(r,l=>l===n):delete Ji[e]}}};let Ta;const Qi={text:"",html:""};function Ek(e){if(!Ta){Ta=document.createElement("textarea"),Ta.id="$VxeCopy";const t=Ta.style;t.width="48px",t.height="24px",t.position="fixed",t.zIndex="0",t.left="-500px",t.top="-500px",document.body.appendChild(Ta)}Ta.value=e}const Sk={getStore(){return Qi},setStore(e){Object.assign(Qi,e||{})},copy(e){let t=!1;try{const r=wr.toValueString(e);Ek(r),Ta.select(),Ta.setSelectionRange(0,Ta.value.length),t=document.execCommand("copy"),Ta.blur(),Qi.text=r,Qi.html=""}catch(r){}return t},getText(){return Qi.text||""}};function mc(e,t){let r=!0,n=!1;const l=t||yi.permissionMethod;if(e&&l){r=!1,n=!0;let i=!1,d=!1;const s=String(e).split("|");for(let h=0;h<s.length;h++){const c=s[h];let b=!0,E=!1;const y=l({code:c});if(wr.isBoolean(y)?b=y:y&&(b=!!y.visible,E=!!y.disabled),!E&&!d&&(d=!0,n=E),b&&!i&&(i=!0,r=b),i&&d)break}}return{code:e,visible:r,disabled:n}}const GI={getCheckInfo(e){return mc(e)},checkVisible(e){return mc(e).visible},checkDisable(e){return mc(e).disabled}},Rk=new qI;function io(e){const t=mr("xeSizeInfo",null),r=ue(()=>e.size||(t?t.value:null));return ao("xeSizeInfo",r),{computeSize:r}}function WI(e){return{computePermissionInfo:ue(()=>mc(e.permissionCode,e.permissionMethod))}}const Dk={useSize:io,usePermission:WI},US=[];function Ok(e,t){return e&&e.install&&US.indexOf(e)===-1&&(e.install(Se,t),US.push(e)),Se}const Mc={};function Tk(e){return Mc[e]||null}function Mk(e){return!!Mc[e]}function Ik(e){e&&e.name&&(Mc[e.name]=e,Mc[wr.kebabCase(e.name)]=e)}function vr(){return Ht()}function Fk(e,t,r){if(e){const n=`${e}`.match(/(\d+).(\d+).(\d+)/);if(n){const l=wr.toNumber(n[1]);if(r){const a=wr.toNumber(n[2]);return l>=t&&a>=r}return l>=t}}return!1}const Se=Object.assign(Vl,{renderEmptyElement:vr,setTheme:kx,getTheme:ck,setConfig:Kc,getConfig:ze,setIcon:kI,getIcon:gr,renderGlobalIcon:dk,renderCustomIcon:LI,setLanguage:vk,hasLanguage:bk,getLanguage:xk,setI18n:mk,getI18n:lr,globalEvents:rr,GLOBAL_EVENT_KEYS:Mr,createEvent:Un,globalResize:hk,renderer:dl,validators:HI,menus:BI,formats:VI,commands:zI,interceptor:vc,clipboard:Sk,log:Xo,permission:GI,globalStore:uk,hooks:Rk,component:Ik,getComponent:Tk,hasComponent:Mk,useFns:Dk,getSlotVNs:PI,checkVersion:Fk,use:Ok});kx();const so=Ri;var Hg,jS;function La(){if(jS)return Hg;jS=1;var e={keyId:1,cookies:{path:"/"},treeOptions:{parentKey:"parentId",key:"id",children:"children"},parseDateFormat:"yyyy-MM-dd HH:mm:ss",firstDayOfWeek:1};return Hg=e,Hg}var Bg,YS;function co(){if(YS)return Bg;YS=1;function e(t,r,n){if(t)if(t.forEach)t.forEach(r,n);else for(var l=0,a=t.length;l<a;l++)r.call(n,t[l],l,t)}return Bg=e,Bg}var Vg,KS;function UI(){if(KS)return Vg;KS=1;var e=Object.prototype.toString;return Vg=e,Vg}var zg,XS;function Ps(){if(XS)return zg;XS=1;var e=UI();function t(r){return function(n){return"[object "+r+"]"===e.call(n)}}return zg=t,zg}var Gg,ZS;function cn(){if(ZS)return Gg;ZS=1;var e=Ps(),t=Array.isArray||e("Array");return Gg=t,Gg}var Wg,JS;function fa(){if(JS)return Wg;JS=1;function e(t,r){return t&&t.hasOwnProperty?t.hasOwnProperty(r):!1}return Wg=e,Wg}var Ug,QS;function ks(){if(QS)return Ug;QS=1;var e=fa();function t(r,n,l){if(r)for(var a in r)e(r,a)&&n.call(l,r[a],a,r)}return Ug=t,Ug}var jg,eR;function $n(){if(eR)return jg;eR=1;var e=cn(),t=co(),r=ks();function n(l,a,i){return l&&(e(l)?t:r)(l,a,i)}return jg=n,jg}var Yg,tR;function $i(){if(tR)return Yg;tR=1;function e(t){return function(r){return typeof r===t}}return Yg=e,Yg}var Kg,rR;function Eo(){if(rR)return Kg;rR=1;var e=$i(),t=e("function");return Kg=t,Kg}var Xg,nR;function Lx(){if(nR)return Xg;nR=1;var e=$n();function t(r,n){var l=Object[r];return function(a){var i=[];if(a){if(l)return l(a);e(a,n>1?function(d){i.push([""+d,a[d]])}:function(){i.push(arguments[n])})}return i}}return Xg=t,Xg}var Zg,oR;function Xa(){if(oR)return Zg;oR=1;var e=Lx(),t=e("keys",1);return Zg=t,Zg}var Jg,aR;function Nx(){if(aR)return Jg;aR=1;var e=UI(),t=ks(),r=co();function n(d,s){var h=d.__proto__.constructor;return s?new h(s):new h}function l(d,s){return s?a(d,s):d}function a(d,s){if(d)switch(e.call(d)){case"[object Object]":{var h=Object.create(Object.getPrototypeOf(d));return t(d,function(y,p){h[p]=l(y,s)}),h}case"[object Date]":case"[object RegExp]":return n(d,d.valueOf());case"[object Array]":case"[object Arguments]":{var c=[];return r(d,function(y){c.push(l(y,s))}),c}case"[object Set]":{var b=n(d);return b.forEach(function(y){b.add(l(y,s))}),b}case"[object Map]":{var E=n(d);return E.forEach(function(y,p){E.set(p,l(y,s))}),E}}return d}function i(d,s){return d&&a(d,s)}return Jg=i,Jg}var Qg,lR;function pa(){if(lR)return Qg;lR=1;var e=co(),t=Xa(),r=cn(),n=Nx(),l=Object.assign;function a(d,s,h){for(var c=s.length,b,E=1;E<c;E++)b=s[E],e(t(s[E]),h?function(y){d[y]=n(b[y],h)}:function(y){d[y]=b[y]});return d}var i=function(d){if(d){var s=arguments;if(d===!0){if(s.length>1)return d=r(d[1])?[]:{},a(d,s,!0)}else return l?l.apply(Object,s):a(d,s)}return d};return Qg=i,Qg}var eh,iR;function $k(){if(iR)return eh;iR=1;var e=La(),t=co(),r=$n(),n=Eo(),l=pa(),a=function(){};function i(){t(arguments,function(c){r(c,function(b,E){a[E]=n(b)?function(){var y=b.apply(a.$context,arguments);return a.$context=null,y}:b})})}function d(c){return l(e,c)}function s(){return e}var h="3.7.4";return a.VERSION=h,a.version=h,a.mixin=i,a.setup=d,a.setConfig=d,a.getConfig=s,eh=a,eh}var th,sR;function _x(){if(sR)return th;sR=1;function e(t,r,n){for(var l=t.length-1;l>=0;l--)r.call(n,t[l],l,t)}return th=e,th}var rh,cR;function jI(){if(cR)return rh;cR=1;var e=_x(),t=Xa();function r(n,l,a){e(t(n),function(i){l.call(a,n[i],i,n)})}return rh=r,rh}var nh,uR;function Za(){if(uR)return nh;uR=1;function e(t){return t===null}return nh=e,nh}var oh,dR;function Ai(){if(dR)return oh;dR=1;var e=Za();function t(r,n){return function(l){return e(l)?n:l[r]}}return oh=t,oh}var ah,fR;function Ak(){if(fR)return ah;fR=1;var e=$n(),t=Eo(),r=Ai();function n(l,a,i){var d={};if(l)if(a)t(a)||(a=r(a)),e(l,function(s,h){d[h]=a.call(i,s,h,l)});else return l;return d}return ah=n,ah}var lh,pR;function Pi(){if(pR)return lh;pR=1;function e(t){return t?t.constructor===Object:!1}return lh=e,lh}var ih,gR;function YI(){if(gR)return ih;gR=1;function e(t){return t!=="__proto__"&&t!=="constructor"}return ih=e,ih}var sh,hR;function Pk(){if(hR)return sh;hR=1;var e=cn(),t=Pi(),r=Eo(),n=$n(),l=YI();function a(d,s){return t(d)&&t(s)||e(d)&&e(s)?(n(s,function(h,c){l(c)&&(d[c]=r(s)?h:a(d[c],h))}),d):s}var i=function(d){d||(d={});for(var s=arguments,h=s.length,c,b=1;b<h;b++)c=s[b],c&&a(d,c);return d};return sh=i,sh}var ch,vR;function Cl(){if(vR)return ch;vR=1;var e=$n();function t(r,n,l){var a=[];if(r&&arguments.length>1){if(r.map)return r.map(n,l);e(r,function(){a.push(n.apply(l,arguments))})}return a}return ch=t,ch}var uh,mR;function Xc(){if(mR)return uh;mR=1;var e=fa(),t=cn();function r(n,l,a,i,d){return function(s,h,c){if(s&&h){if(n&&s[n])return s[n](h,c);if(l&&t(s)){for(var b=0,E=s.length;b<E;b++)if(!!h.call(c,s[b],b,s)===i)return[!0,!1,b,s[b]][a]}else for(var y in s)if(e(s,y)&&!!h.call(c,s[y],y,s)===i)return[!0,!1,y,s[y]][a]}return d}}return uh=r,uh}var dh,bR;function KI(){if(bR)return dh;bR=1;var e=Xc(),t=e("some",1,0,!0,!1);return dh=t,dh}var fh,xR;function XI(){if(xR)return fh;xR=1;var e=Xc(),t=e("every",1,1,!1,!0);return fh=t,fh}var ph,CR;function ki(){if(CR)return ph;CR=1;var e=fa();function t(r,n){if(r){if(r.includes)return r.includes(n);for(var l in r)if(e(r,l)&&n===r[l])return!0}return!1}return ph=t,ph}var gh,yR;function ZI(){if(yR)return gh;yR=1;var e=cn(),t=ki();function r(n,l){var a,i=0;if(e(n)&&e(l)){for(a=l.length;i<a;i++)if(!t(n,l[i]))return!1;return!0}return t(n,l)}return gh=r,gh}var hh,wR;function JI(){if(wR)return hh;wR=1;var e=$n(),t=ki(),r=Eo(),n=Ai();function l(a,i,d){var s=[];if(i){r(i)||(i=n(i));var h,c={};e(a,function(b,E){h=i.call(d,b,E,a),c[h]||(c[h]=1,s.push(b))})}else e(a,function(b){t(s,b)||s.push(b)});return s}return hh=l,hh}var vh,ER;function qx(){if(ER)return vh;ER=1;var e=Cl();function t(r){return e(r,function(n){return n})}return vh=t,vh}var mh,SR;function kk(){if(SR)return mh;SR=1;var e=JI(),t=qx();function r(){for(var n=arguments,l=[],a=0,i=n.length;a<i;a++)l=l.concat(t(n[a]));return e(l)}return mh=r,mh}var bh,RR;function ga(){if(RR)return bh;RR=1;var e="undefined";return bh=e,bh}var xh,DR;function Na(){if(DR)return xh;DR=1;var e=ga(),t=$i(),r=t(e);return xh=r,xh}var Ch,OR;function Ja(){if(OR)return Ch;OR=1;var e=Za(),t=Na();function r(n){return e(n)||t(n)}return Ch=r,Ch}var yh,TR;function QI(){if(TR)return yh;TR=1;var e=/(.+)?\[(\d+)\]$/;return yh=e,yh}var wh,MR;function Hx(){if(MR)return wh;MR=1;function e(t){return t?t.splice&&t.join?t:(""+t).replace(/(\[\d+\])\.?/g,"$1.").replace(/\.$/,"").split("."):[]}return wh=e,wh}var Eh,IR;function Ls(){if(IR)return Eh;IR=1;var e=QI(),t=Hx(),r=fa(),n=Na(),l=Ja();function a(s,h,c){if(l(s))return c;var b=d(s,h);return n(b)?c:b}function i(s,h){var c=h?h.match(e):"";return c?c[1]?s[c[1]]?s[c[1]][c[2]]:void 0:s[c[2]]:s[h]}function d(s,h){if(s){var c,b,E,y=0;if(s[h]||r(s,h))return s[h];if(b=t(h),E=b.length,E){for(c=s;y<E;y++)if(c=i(c,b[y]),l(c))return y===E-1?c:void 0}return c}}return Eh=a,Eh}var Sh,FR;function Bx(){if(FR)return Sh;FR=1;var e=co(),t=qx(),r=Cl(),n=cn(),l=Eo(),a=Pi(),i=Na(),d=Za(),s=Ja(),h=Ls(),c=Ai(),b="asc",E="desc";function y(D,I){return i(D)?1:d(D)?i(I)?-1:1:D&&D.localeCompare?D.localeCompare(I):D>I?1:-1}function p(D,I,W){return function(N,Y){var L=N[D],F=Y[D];return L===F?W?W(N,Y):0:I.order===E?y(F,L):y(L,F)}}function g(D,I,W,N){var Y=[];return W=n(W)?W:[W],e(W,function(L,F){if(L){var M=L,q;n(L)?(M=L[0],q=L[1]):a(L)&&(M=L.field,q=L.order),Y.push({field:M,order:q||b}),e(I,l(M)?function(V,j){V[F]=M.call(N,V.data,j,D)}:function(V){V[F]=M?h(V.data,M):V.data})}}),Y}function O(D,I,W){if(D){if(s(I))return t(D).sort(y);for(var N,Y=r(D,function(M){return{data:M}}),L=g(D,Y,I,W),F=L.length-1;F>=0;)N=p(F,L[F],N),F--;return N&&(Y=Y.sort(N)),r(Y,c("data"))}return[]}return Sh=O,Sh}var Rh,$R;function Lk(){if($R)return Rh;$R=1;var e=Bx(),t=e;return Rh=t,Rh}var Dh,AR;function eF(){if(AR)return Dh;AR=1;function e(t,r){return t>=r?t:(t=t>>0)+Math.round(Math.random()*((r||9)-t))}return Dh=e,Dh}var Oh,PR;function Li(){if(PR)return Oh;PR=1;var e=Lx(),t=e("values",0);return Oh=t,Oh}var Th,kR;function tF(){if(kR)return Th;kR=1;var e=eF(),t=Li();function r(n){for(var l,a=[],i=t(n),d=i.length-1;d>=0;d--)l=d>0?e(0,d):0,a.push(i[l]),i.splice(l,1);return a}return Th=r,Th}var Mh,LR;function Nk(){if(LR)return Mh;LR=1;var e=tF();function t(r,n){var l=e(r);return arguments.length<=1?l[0]:(n<l.length&&(l.length=n||0),l)}return Mh=t,Mh}var Ih,NR;function rF(){if(NR)return Ih;NR=1;function e(t){return function(r){if(r){var n=t(r&&r.replace?r.replace(/,/g,""):r);if(!isNaN(n))return n}return 0}}return Ih=e,Ih}var Fh,_R;function jl(){if(_R)return Fh;_R=1;var e=rF(),t=e(parseFloat);return Fh=t,Fh}var $h,qR;function Yl(){if(qR)return $h;qR=1;var e=jl();function t(r,n,l){var a=[],i=arguments.length;if(r){if(n=i>=2?e(n):0,l=i>=3?e(l):r.length,r.slice)return r.slice(n,l);for(;n<l;n++)a.push(r[n])}return a}return $h=t,$h}var Ah,HR;function _k(){if(HR)return Ah;HR=1;var e=$n();function t(r,n,l){var a=[];if(r&&n){if(r.filter)return r.filter(n,l);e(r,function(i,d){n.call(l,i,d,r)&&a.push(i)})}return a}return Ah=t,Ah}var Ph,BR;function qk(){if(BR)return Ph;BR=1;var e=Xc(),t=e("",0,2,!0);return Ph=t,Ph}var kh,VR;function Hk(){if(VR)return kh;VR=1;var e=Xc(),t=e("find",1,3,!0);return kh=t,kh}var Lh,zR;function Bk(){if(zR)return Lh;zR=1;var e=cn(),t=Li();function r(n,l,a){if(n){e(n)||(n=t(n));for(var i=n.length-1;i>=0;i--)if(l.call(a,n[i],i,n))return n[i]}}return Lh=r,Lh}var Nh,GR;function Vk(){if(GR)return Nh;GR=1;var e=Xa();function t(r,n,l){if(r){var a,i,d=0,s=null,h=l,c=arguments.length>2,b=e(r);if(r.length&&r.reduce)return i=function(){return n.apply(s,arguments)},c?r.reduce(i,h):r.reduce(i);for(c&&(d=1,h=r[b[0]]),a=b.length;d<a;d++)h=n.call(s,h,r[b[d]],d,r);return h}}return Nh=t,Nh}var _h,WR;function zk(){if(WR)return _h;WR=1;var e=cn();function t(r,n,l,a){if(e(r)&&r.copyWithin)return r.copyWithin(n,l,a);var i,d,s=n>>0,h=l>>0,c=r.length,b=arguments.length>3?a>>0:c;if(s<c&&(s=s>=0?s:c+s,s>=0&&(h=h>=0?h:c+h,b=b>=0?b:c+b,h<b)))for(i=0,d=r.slice(h,b);s<c&&!(d.length<=i);s++)r[s]=d[i++];return r}return _h=t,_h}var qh,UR;function Gk(){if(UR)return qh;UR=1;var e=cn();function t(r,n){var l,a=[],i=n>>0||1;if(e(r))if(i>=0&&r.length>i)for(l=0;l<r.length;)a.push(r.slice(l,l+i)),l+=i;else a=r.length?[r]:r;return a}return qh=t,qh}var Hh,jR;function nF(){if(jR)return Hh;jR=1;var e=Cl(),t=Ai();function r(n,l){return e(n,t(l))}return Hh=r,Hh}var Bh,YR;function oF(){if(YR)return Bh;YR=1;var e=Eo(),t=Ja(),r=Ls(),n=co();function l(a){return function(i,d){if(i&&i.length){var s,h;return n(i,function(c,b){d&&(c=e(d)?d(c,b,i):r(c,d)),!t(c)&&(t(s)||a(s,c))&&(h=b,s=c)}),i[h]}return s}}return Bh=l,Bh}var Vh,KR;function aF(){if(KR)return Vh;KR=1;var e=oF(),t=e(function(r,n){return r<n});return Vh=t,Vh}var zh,XR;function lF(){if(XR)return zh;XR=1;var e=nF(),t=aF();function r(n){var l,a,i,d=[];if(n&&n.length)for(l=0,a=t(n,function(s){return s?s.length:0}),i=a?a.length:0;l<i;l++)d.push(e(n,l));return d}return zh=r,zh}var Gh,ZR;function Wk(){if(ZR)return Gh;ZR=1;var e=lF();function t(){return e(arguments)}return Gh=t,Gh}var Wh,JR;function Uk(){if(JR)return Wh;JR=1;var e=Li(),t=$n();function r(n,l){var a={};return l=l||[],t(e(n),function(i,d){a[i]=l[d]}),a}return Wh=r,Wh}var Uh,QR;function jk(){if(QR)return Uh;QR=1;var e=cn(),t=co();function r(l,a){var i=[];return t(l,function(d){i=i.concat(e(d)?a?r(d,a):d:[d])}),i}function n(l,a){return e(l)?r(l,a):[]}return Uh=n,Uh}var jh,eD;function Yk(){if(eD)return jh;eD=1;var e=Cl(),t=cn();function r(l,a){for(var i=0,d=a.length;l&&i<d;)l=l[a[i++]];return d&&l?l:0}function n(l,a){for(var i,d=arguments,s=[],h=[],c=2,b=d.length;c<b;c++)s.push(d[c]);if(t(a)){for(b=a.length-1,c=0;c<b;c++)h.push(a[c]);a=a[b]}return e(l,function(E){if(h.length&&(E=r(E,h)),i=E[a]||a,i&&i.apply)return i.apply(E,s)})}return jh=n,jh}var Yh,tD;function iF(){if(tD)return Yh;tD=1;function e(t,r){try{delete t[r]}catch(n){t[r]=void 0}}return Yh=e,Yh}var Kh,rD;function sF(){if(rD)return Kh;rD=1;var e=cn(),t=_x(),r=jI();function n(l,a,i){return l&&(e(l)?t:r)(l,a,i)}return Kh=n,Kh}var Xh,nD;function Zc(){if(nD)return Xh;nD=1;var e=$i(),t=e("object");return Xh=t,Xh}var Zh,oD;function cF(){if(oD)return Zh;oD=1;var e=iF(),t=Pi(),r=Zc(),n=cn(),l=Za(),a=pa(),i=ks();function d(s,h,c){if(s){var b,E=arguments.length>1&&(l(h)||!r(h)),y=E?c:h;if(t(s))i(s,E?function(p,g){s[g]=h}:function(p,g){e(s,g)}),y&&a(s,y);else if(n(s)){if(E)for(b=s.length;b>0;)b--,s[b]=h;else s.length=0;y&&s.push.apply(s,y)}}return s}return Zh=d,Zh}var Jh,aD;function uF(){if(aD)return Jh;aD=1;var e=iF(),t=Eo(),r=cn(),n=$n(),l=co(),a=sF(),i=cF(),d=Ja();function s(c){return function(b,E){return E===c}}function h(c,b,E){if(c){if(!d(b)){var y=[],p=[];return t(b)||(b=s(b)),n(c,function(g,O,D){b.call(E,g,O,D)&&y.push(O)}),r(c)?a(y,function(g,O){p.push(c[g]),c.splice(g,1)}):(p={},l(y,function(g){p[g]=c[g],e(c,g)})),p}return i(c)}return c}return Jh=h,Jh}var Qh,lD;function Kk(){if(lD)return Qh;lD=1;var e=La();Cl();var t=Bx(),r=Nx(),n=Ja(),l=$n(),a=uF(),i=pa();function d(h,c){l(h,function(b){b[c]&&!b[c].length&&a(b,c)})}function s(h,c){var b=i({},e.treeOptions,c),E=b.strict,y=b.key,p=b.parentKey,g=b.children,O=b.mapChildren,D=b.sortKey,I=b.reverse,W=b.data,N=[],Y={},L={},F,M,q;return D&&(h=t(r(h),D),I&&(h=h.reverse())),l(h,function(V){F=V[y],L[F]=!0}),l(h,function(V){F=V[y],W?(M={},M[W]=V):M=V,q=V[p],Y[F]=Y[F]||[],M[y]=F,M[p]=q,F===q&&(q=null,console.log("Fix infinite Loop.",V)),Y[q]=Y[q]||[],Y[q].push(M),M[g]=Y[F],O&&(M[O]=Y[F]),(!E||E&&n(q))&&(L[q]||N.push(M))}),E&&d(h,g),N}return Qh=s,Qh}var ev,iD;function Xk(){if(iD)return ev;iD=1;var e=La(),t=co(),r=pa();function n(a,i,d,s){var h=s.key,c=s.parentKey,b=s.children,E=s.data,y=s.updated,p=s.clear;return t(d,function(g){var O=g[b];E&&(g=g[E]),y!==!1&&(g[c]=i?i[h]:null),a.push(g),O&&O.length&&n(a,g,O,s),p&&delete g[b]}),a}function l(a,i){return n([],null,a,r({},e.treeOptions,i))}return ev=l,ev}var tv,sD;function Jc(){if(sD)return tv;sD=1;function e(t){return function(r,n,l,a){var i=l||{},d=i.children||"children";return t(null,r,n,a,[],[],d,i)}}return tv=e,tv}var rv,cD;function Zk(){if(cD)return rv;cD=1;var e=Jc();function t(n,l,a,i,d,s,h,c){if(l){var b,E,y,p,g,O;for(E=0,y=l.length;E<y;E++){if(b=l[E],p=d.concat([""+E]),g=s.concat([b]),a.call(i,b,E,l,p,n,g))return{index:E,item:b,path:p,items:l,parent:n,nodes:g};if(h&&b&&(O=t(b,b[h],a,i,p.concat([h]),g,h),O))return O}}}var r=e(t);return rv=r,rv}var nv,uD;function dF(){if(uD)return nv;uD=1;var e=Jc(),t=$n();function r(l,a,i,d,s,h,c,b){var E,y;t(a,function(p,g){E=s.concat([""+g]),y=h.concat([p]),i.call(d,p,g,a,E,l,y),p&&c&&(E.push(c),r(p,p[c],i,d,E,y,c))})}var n=e(r);return nv=n,nv}var ov,dD;function Jk(){if(dD)return ov;dD=1;var e=Jc(),t=Cl();function r(l,a,i,d,s,h,c,b){var E,y,p,g=b.mapChildren||c;return t(a,function(O,D){return E=s.concat([""+D]),y=h.concat([O]),p=i.call(d,O,D,a,E,l,y),p&&O&&c&&O[c]&&(p[g]=r(O,O[c],i,d,E,y,c,b)),p})}var n=e(r);return ov=n,ov}var av,fD;function Qk(){if(fD)return av;fD=1;var e=dF();function t(r,n,l,a){var i=[];return r&&n&&e(r,function(d,s,h,c,b,E){n.call(a,d,s,h,c,b,E)&&i.push(d)},l),i}return av=t,av}var lv,pD;function eL(){if(pD)return lv;pD=1;var e=Jc(),t=co(),r=pa();function n(a,i,d,s,h,c,b,E,y){var p,g,O,D,I,W=[],N=y.original,Y=y.data,L=y.mapChildren||E,F=y.isEvery;return t(d,function(M,q){p=c.concat([""+q]),g=b.concat([M]),D=a&&!F||s.call(h,M,q,d,p,i,g),I=E&&M[E],D||I?(N?O=M:(O=r({},M),Y&&(O[Y]=M)),O[L]=n(D,M,M[E],s,h,p,g,E,y),(D||O[L].length)&&W.push(O)):D&&W.push(O)}),W}var l=e(function(a,i,d,s,h,c,b,E){return n(0,a,i,d,s,h,c,b,E)});return lv=l,lv}var iv,gD;function fF(){if(gD)return iv;gD=1;function e(t,r){if(t.indexOf)return t.indexOf(r);for(var n=0,l=t.length;n<l;n++)if(r===t[n])return n}return iv=e,iv}var sv,hD;function pF(){if(hD)return sv;hD=1;function e(t,r){if(t.lastIndexOf)return t.lastIndexOf(r);for(var n=t.length-1;n>=0;n--)if(r===t[n])return n;return-1}return sv=e,sv}var cv,vD;function _a(){if(vD)return cv;vD=1;var e=$i(),t=e("number");return cv=t,cv}var uv,mD;function tL(){if(mD)return uv;mD=1;var e=_a();function t(r){return e(r)&&isNaN(r)}return uv=t,uv}var dv,bD;function Qa(){if(bD)return dv;bD=1;var e=$i(),t=e("string");return dv=t,dv}var fv,xD;function yl(){if(xD)return fv;xD=1;var e=Ps(),t=e("Date");return fv=t,fv}var pv,CD;function Ns(){if(CD)return pv;CD=1;var e=parseInt;return pv=e,pv}var gv,yD;function rL(){if(yD)return gv;yD=1;function e(t){return Date.UTC(t.y,t.M||0,t.d||1,t.H||0,t.m||0,t.s||0,t.S||0)}return gv=e,gv}var hv,wD;function Qo(){if(wD)return hv;wD=1;function e(t){return t.getTime()}return hv=e,hv}var vv,ED;function So(){if(ED)return vv;ED=1;var e=Ns(),t=rL(),r=Qo(),n=Qa(),l=yl();function a(k){return"(\\d{"+k+"})"}function i(k){return k<10?k*100:k<100?k*10:k}function d(k){return isNaN(k)?k:e(k)}for(var s=a(2),h=a("1,2"),c=a("1,7"),b=a("3,4"),E=".{1}",y=E+h,p="(([zZ])|([-+]\\d{2}:?\\d{2}))",g=[b,y,y,y,y,y,E+c,p],O=[],D=g.length-1;D>=0;D--){for(var I="",W=0;W<D+1;W++)I+=g[W];O.push(new RegExp("^"+I+"$"))}function N(k){for(var ne,fe={},G=0,J=O.length;G<J;G++)if(ne=k.match(O[G]),ne){fe.y=ne[1],fe.M=ne[2],fe.d=ne[3],fe.H=ne[4],fe.m=ne[5],fe.s=ne[6],fe.S=ne[7],fe.Z=ne[8];break}return fe}for(var Y=[["yyyy",b],["yy",s],["MM",s],["M",h],["dd",s],["d",h],["HH",s],["H",h],["mm",s],["m",h],["ss",s],["s",h],["SSS",a(3)],["S",c],["Z",p]],L={},F=["\\[([^\\]]+)\\]"],W=0;W<Y.length;W++){var M=Y[W];L[M[0]]=M[1]+"?",F.push(M[0])}var q=new RegExp(F.join("|"),"g"),V={};function j(k,ne){var fe=V[ne];if(!fe){var G=[],J=ne.replace(/([$(){}*+.?\\^|])/g,"\\$1").replace(q,function(Re,Pe){var le=Re.charAt(0);return le==="["?Pe:(G.push(le),L[Re])});fe=V[ne]={_i:G,_r:new RegExp(J)}}var we={},se=k.match(fe._r);if(se){for(var re=fe._i,ve=1,Ee=se.length;ve<Ee;ve++)we[re[ve-1]]=se[ve];return we}return we}function U(k){if(/^[zZ]/.test(k.Z))return new Date(t(k));var ne=k.Z.match(/([-+])(\d{2}):?(\d{2})/);return ne?new Date(t(k)-(ne[1]==="-"?-1:1)*e(ne[2])*36e5+e(ne[3])*6e4):new Date("")}function z(k,ne){if(k){var fe=l(k);if(fe||!ne&&/^[0-9]{11,15}$/.test(k))return new Date(fe?r(k):e(k));if(n(k)){var G=ne?j(k,ne):N(k);if(G.y)return G.M&&(G.M=d(G.M)-1),G.S&&(G.S=i(d(G.S.substring(0,3)))),G.Z?U(G):new Date(G.y,G.M||0,G.d||1,G.H||0,G.m||0,G.s||0,G.S||0)}}return new Date("")}return vv=z,vv}var mv,SD;function Qc(){if(SD)return mv;SD=1;function e(){return new Date}return mv=e,mv}var bv,RD;function gF(){if(RD)return bv;RD=1;var e=yl(),t=So(),r=Qc();function n(l){var a,i=l?t(l):r();return e(i)?(a=i.getFullYear(),a%4===0&&(a%100!==0||a%400===0)):!1}return bv=n,bv}var xv,DD;function nL(){if(DD)return xv;DD=1;var e=cn(),t=fa();function r(n,l,a){if(n){if(e(n))for(var i=0,d=n.length;i<d&&l.call(a,n[i],i,n)!==!1;i++);else for(var s in n)if(t(n,s)&&l.call(a,n[s],s,n)===!1)break}}return xv=r,xv}var Cv,OD;function oL(){if(OD)return Cv;OD=1;var e=cn(),t=fa();function r(n,l,a){if(n){var i,d;if(e(n))for(i=n.length-1;i>=0&&l.call(a,n[i],i,n)!==!1;i--);else for(d=t(n),i=d.length-1;i>=0&&l.call(a,n[d[i]],d[i],n)!==!1;i--);}}return Cv=r,Cv}var yv,TD;function hF(){if(TD)return yv;TD=1;var e=cn(),t=Qa(),r=fa();function n(l,a){return function(i,d){if(i){if(i[l])return i[l](d);if(t(i)||e(i))return a(i,d);for(var s in i)if(r(i,s)&&d===i[s])return s}return-1}}return yv=n,yv}var wv,MD;function aL(){if(MD)return wv;MD=1;var e=hF(),t=fF(),r=e("indexOf",t);return wv=r,wv}var Ev,ID;function vF(){if(ID)return Ev;ID=1;var e=hF(),t=pF(),r=e("lastIndexOf",t);return Ev=r,Ev}var Sv,FD;function mF(){if(FD)return Sv;FD=1;var e=cn(),t=Qa(),r=$n();function n(l){var a=0;return t(l)||e(l)?l.length:(r(l,function(){a++}),a)}return Sv=n,Sv}var Rv,$D;function lL(){if($D)return Rv;$D=1;var e=_a();function t(r){return e(r)&&isFinite(r)}return Rv=t,Rv}var Dv,AD;function bF(){if(AD)return Dv;AD=1;var e=cn(),t=Za(),r=function(n){return!t(n)&&!isNaN(n)&&!e(n)&&n%1===0};return Dv=r,Dv}var Ov,PD;function iL(){if(PD)return Ov;PD=1;var e=cn(),t=bF(),r=Za();function n(l){return!r(l)&&!isNaN(l)&&!e(l)&&!t(l)}return Ov=n,Ov}var Tv,kD;function xF(){if(kD)return Tv;kD=1;var e=$i(),t=e("boolean");return Tv=t,Tv}var Mv,LD;function Vx(){if(LD)return Mv;LD=1;var e=Ps(),t=e("RegExp");return Mv=t,Mv}var Iv,ND;function CF(){if(ND)return Iv;ND=1;var e=Ps(),t=e("Error");return Iv=t,Iv}var Fv,_D;function sL(){if(_D)return Fv;_D=1;function e(t){return t?t.constructor===TypeError:!1}return Fv=e,Fv}var $v,qD;function yF(){if(qD)return $v;qD=1;function e(t){for(var r in t)return!1;return!0}return $v=e,$v}var Av,HD;function wF(){if(HD)return Av;HD=1;var e=ga(),t=typeof Symbol!==e;function r(n){return t&&Symbol.isSymbol?Symbol.isSymbol(n):typeof n=="symbol"}return Av=r,Av}var Pv,BD;function cL(){if(BD)return Pv;BD=1;var e=Ps(),t=e("Arguments");return Pv=t,Pv}var kv,VD;function uL(){if(VD)return kv;VD=1;var e=Qa(),t=_a();function r(n){return!!(n&&e(n.nodeName)&&t(n.nodeType))}return kv=r,kv}var Lv,zD;function zx(){if(zD)return Lv;zD=1;var e=ga(),t=typeof document===e?0:document;return Lv=t,Lv}var Nv,GD;function dL(){if(GD)return Nv;GD=1;var e=zx();function t(r){return!!(r&&e&&r.nodeType===9)}return Nv=t,Nv}var _v,WD;function EF(){if(WD)return _v;WD=1;var e=ga(),t=typeof window===e?0:window;return _v=t,_v}var qv,UD;function fL(){if(UD)return qv;UD=1;var e=EF();function t(r){return!!(e&&(r&&r===r.window))}return qv=t,qv}var Hv,jD;function pL(){if(jD)return Hv;jD=1;var e=ga(),t=typeof FormData!==e;function r(n){return t&&n instanceof FormData}return Hv=r,Hv}var Bv,YD;function gL(){if(YD)return Bv;YD=1;var e=ga(),t=typeof Map!==e;function r(n){return t&&n instanceof Map}return Bv=r,Bv}var Vv,KD;function hL(){if(KD)return Vv;KD=1;var e=ga(),t=typeof WeakMap!==e;function r(n){return t&&n instanceof WeakMap}return Vv=r,Vv}var zv,XD;function vL(){if(XD)return zv;XD=1;var e=ga(),t=typeof Set!==e;function r(n){return t&&n instanceof Set}return zv=r,zv}var Gv,ZD;function mL(){if(ZD)return Gv;ZD=1;var e=ga(),t=typeof WeakSet!==e;function r(n){return t&&n instanceof WeakSet}return Gv=r,Gv}var Wv,JD;function SF(){if(JD)return Wv;JD=1;var e=Eo(),t=Qa(),r=cn(),n=fa();function l(a){return function(i,d,s){if(i&&e(d)){if(r(i)||t(i))return a(i,d,s);for(var h in i)if(n(i,h)&&d.call(s,i[h],h,i))return h}return-1}}return Wv=l,Wv}var Uv,QD;function Gx(){if(QD)return Uv;QD=1;var e=SF(),t=e(function(r,n,l){for(var a=0,i=r.length;a<i;a++)if(n.call(l,r[a],a,r))return a;return-1});return Uv=t,Uv}var jv,e1;function RF(){if(e1)return jv;e1=1;var e=_a(),t=cn(),r=Qa(),n=Vx(),l=yl(),a=xF(),i=Na(),d=Xa(),s=XI();function h(c,b,E,y,p,g,O){if(c===b)return!0;if(c&&b&&!e(c)&&!e(b)&&!r(c)&&!r(b)){if(n(c))return E(""+c,""+b,p,g,O);if(l(c)||a(c))return E(+c,+b,p,g,O);var D,I,W,N=t(c),Y=t(b);if(N||Y?N&&Y:c.constructor===b.constructor)return I=d(c),W=d(b),y&&(D=y(c,b,p)),I.length===W.length?i(D)?s(I,function(L,F){return L===W[F]&&h(c[L],b[W[F]],E,y,N||Y?F:L,c,b)}):!!D:!1}return E(c,b,p,g,O)}return jv=h,jv}var Yv,t1;function DF(){if(t1)return Yv;t1=1;function e(t,r){return t===r}return Yv=e,Yv}var Kv,r1;function OF(){if(r1)return Kv;r1=1;var e=RF(),t=DF();function r(n,l){return e(n,l,t)}return Kv=r,Kv}var Xv,n1;function bL(){if(n1)return Xv;n1=1;var e=Xa(),t=Gx(),r=OF(),n=KI(),l=ZI();function a(i,d){var s=e(i),h=e(d);if(h.length){if(l(s,h))return n(h,function(c){return t(s,function(b){return b===c&&r(i[b],d[c])})>-1})}else return!0;return r(i,d)}return Xv=a,Xv}var Zv,o1;function xL(){if(o1)return Zv;o1=1;var e=RF(),t=DF(),r=Eo(),n=Na();function l(a,i,d){return r(d)?e(a,i,function(s,h,c,b,E){var y=d(s,h,c,b,E);return n(y)?t(s,h):!!y},d):e(a,i,t)}return Zv=l,Zv}var Jv,a1;function CL(){if(a1)return Jv;a1=1;var e=wF(),t=yl(),r=cn(),n=Vx(),l=CF(),a=Za();function i(d){return a(d)?"null":e(d)?"symbol":t(d)?"date":r(d)?"array":n(d)?"regexp":l(d)?"error":typeof d}return Jv=i,Jv}var Qv,l1;function yL(){if(l1)return Qv;l1=1;var e=La(),t=Ja();function r(n){return""+(t(n)?"":n)+e.keyId++}return Qv=r,Qv}var em,i1;function wL(){if(i1)return em;i1=1;var e=SF(),t=e(function(r,n,l){for(var a=r.length-1;a>=0;a--)if(n.call(l,r[a],a,r))return a;return-1});return em=t,em}var tm,s1;function EL(){if(s1)return tm;s1=1;var e=Pi(),t=Qa();function r(n){if(e(n))return n;if(t(n))try{return JSON.parse(n)}catch(l){}return{}}return tm=r,tm}var rm,c1;function SL(){if(c1)return rm;c1=1;var e=Ja();function t(r){return e(r)?"":JSON.stringify(r)}return rm=t,rm}var nm,u1;function RL(){if(u1)return nm;u1=1;var e=Lx(),t=e("entries",2);return nm=t,nm}var om,d1;function TF(){if(d1)return om;d1=1;var e=Eo(),t=cn(),r=$n(),n=Gx();function l(a,i){return function(d,s){var h,c,b={},E=[],y=this,p=arguments,g=p.length;if(!e(s)){for(c=1;c<g;c++)h=p[c],E.push.apply(E,t(h)?h:[h]);s=0}return r(d,function(O,D){((s?s.call(y,O,D,d):n(E,function(I){return I===D})>-1)?a:i)&&(b[D]=O)}),b}}return om=l,om}var am,f1;function DL(){if(f1)return am;f1=1;var e=TF(),t=e(1,0);return am=t,am}var lm,p1;function OL(){if(p1)return lm;p1=1;var e=TF(),t=e(0,1);return lm=t,lm}var im,g1;function TL(){if(g1)return im;g1=1;var e=Li();function t(r){return e(r)[0]}return im=t,im}var sm,h1;function ML(){if(h1)return sm;h1=1;var e=Li();function t(r){var n=e(r);return n[n.length-1]}return sm=t,sm}var cm,v1;function IL(){if(v1)return cm;v1=1;var e=QI(),t=Hx(),r=fa();function n(l,a){if(l){if(r(l,a))return!0;var i,d,s,h,c,b,E=t(a),y=0,p=E.length;for(c=l;y<p&&(b=!1,i=E[y],h=i?i.match(e):"",h?(d=h[1],s=h[2],d?c[d]&&r(c[d],s)&&(b=!0,c=c[d][s]):r(c,s)&&(b=!0,c=c[s])):r(c,i)&&(b=!0,c=c[i]),b);y++)if(y===p-1)return!0}return!1}return cm=n,cm}var um,m1;function FL(){if(m1)return um;m1=1;var e=Ns(),t=Hx(),r=YI(),n=fa(),l=/(.+)?\[(\d+)\]$/;function a(s,h,c,b,E){if(s[h])c&&(s[h]=E);else{var y,p,g=h?h.match(l):null;if(c)p=E;else{var O=b?b.match(l):null;O&&!O[1]?p=new Array(e(O[2])+1):p={}}return g?g[1]?(y=e(g[2]),s[g[1]]?c?s[g[1]][y]=p:s[g[1]][y]?p=s[g[1]][y]:s[g[1]][y]=p:(s[g[1]]=new Array(y+1),s[g[1]][y]=p)):s[g[2]]=p:s[h]=p,p}return s[h]}function i(s,h,c){if(s&&r(h)){if((s[h]||n(s,h))&&!d(h))s[h]=c;else for(var b=s,E=t(h),y=E.length,p=0;p<y;p++)if(!d(E[p])){var g=p===y-1;b=a(b,E[p],g,g?null:E[p+1],c)}}return s}function d(s){return s==="__proto__"||s==="constructor"||s==="prototype"}return um=i,um}var dm,b1;function MF(){if(b1)return dm;b1=1;var e=yF(),t=Zc(),r=Eo(),n=Ai(),l=$n();function a(d){return function(){return e(d)}}function i(d,s,h){var c,b={};return d&&(s&&t(s)?s=a(s):r(s)||(s=n(s)),l(d,function(E,y){c=s?s.call(h,E,y,d):E,b[c]?b[c].push(E):b[c]=[E]})),b}return dm=i,dm}var fm,x1;function $L(){if(x1)return fm;x1=1;var e=MF(),t=ks();function r(n,l,a){var i=e(n,l,a||this);return t(i,function(d,s){i[s]=d.length}),i}return fm=r,fm}var pm,C1;function IF(){if(C1)return pm;C1=1;function e(t,r,n){var l,a,i=[],d=arguments;if(d.length<2&&(r=d[0],t=0),l=t>>0,a=r>>0,l<r)for(n=n>>0||1;l<a;l+=n)i.push(l);return i}return pm=e,pm}var gm,y1;function AL(){if(y1)return gm;y1=1;var e=Xa(),t=Yl(),r=ki(),n=co(),l=pa();function a(i,d){if(i&&d){var s=l.apply(this,[{}].concat(t(arguments,1))),h=e(s);n(e(i),function(c){r(h,c)&&(i[c]=s[c])})}return i}return gm=a,gm}var hm,w1;function PL(){if(w1)return hm;w1=1;var e=oF(),t=e(function(r,n){return r>n});return hm=t,hm}var vm,E1;function eu(){if(E1)return vm;E1=1;function e(t){return(t.split(".")[1]||"").length}return vm=e,vm}var mm,S1;function _s(){if(S1)return mm;S1=1;var e=Ns();function t(r,n){if(r.repeat)return r.repeat(n);var l=isNaN(n)?[]:new Array(e(n));return l.join(r)+(l.length>0?r:"")}return mm=t,mm}var bm,R1;function FF(){if(R1)return bm;R1=1;function e(t,r){return t.substring(0,r)+"."+t.substring(r,t.length)}return bm=e,bm}var xm,D1;function wl(){if(D1)return xm;D1=1;var e=_s(),t=FF();function r(n){var l=""+n,a=l.match(/^([-+]?)((\d+)|((\d+)?[.](\d+)?))e([-+]{1})([0-9]+)$/);if(a){var i=n<0,d=i?"-":"",s=a[3]||"",h=a[5]||"",c=a[6]||"",b=a[7],E=a[8],y=E-c.length,p=E-s.length,g=E-h.length;return b==="+"?s?d+s+e("0",E):y>0?d+h+c+e("0",y):d+h+t(c,E):s?p>0?d+"0."+e("0",Math.abs(p))+s:d+t(s,p):g>0?d+"0."+e("0",Math.abs(g))+h+c:d+t(h,g)+c}return l}return xm=r,xm}var Cm,O1;function $F(){if(O1)return Cm;O1=1;var e=eu(),t=wl();function r(n,l){var a=t(n),i=t(l);return parseInt(a.replace(".",""))*parseInt(i.replace(".",""))/Math.pow(10,e(a)+e(i))}return Cm=r,Cm}var ym,T1;function Wx(){if(T1)return ym;T1=1;var e=$F(),t=jl(),r=wl();function n(l){return function(a,i){var d=t(a),s=d;if(d){i=i>>0;var h=r(d),c=h.split("."),b=c[0],E=c[1]||"",y=E.substring(0,i+1),p=b+(y?"."+y:"");if(i>=E.length)return t(p);if(p=d,i>0){var g=Math.pow(10,i);s=Math[l](e(p,g))/g}else s=Math[l](p)}return s}}return ym=n,ym}var wm,M1;function Ux(){if(M1)return wm;M1=1;var e=Wx(),t=e("round");return wm=t,wm}var Em,I1;function AF(){if(I1)return Em;I1=1;var e=Wx(),t=e("ceil");return Em=t,Em}var Sm,F1;function PF(){if(F1)return Sm;F1=1;var e=Wx(),t=e("floor");return Sm=t,Sm}var Rm,$1;function Ro(){if($1)return Rm;$1=1;var e=Ja(),t=_a(),r=wl();function n(l){return t(l)?r(l):""+(e(l)?"":l)}return Rm=n,Rm}var Dm,A1;function jx(){if(A1)return Dm;A1=1;var e=Ux(),t=Ro(),r=_s(),n=FF();function l(a,i){i=i>>0;var d=t(e(a,i)),s=d.split("."),h=s[0],c=s[1]||"",b=i-c.length;return i?b>0?h+"."+c+r("0",b):h+n(c,Math.abs(b)):h}return Dm=l,Dm}var Om,P1;function kL(){if(P1)return Om;P1=1;var e=La(),t=Ux(),r=AF(),n=PF(),l=_a(),a=Ro(),i=jx(),d=wl(),s=pa();function h(c,b){var E=s({},e.commafyOptions,b),y=E.digits,p=l(c),g,O,D,I,W;return p?(g=(E.ceil?r:E.floor?n:t)(c,y),O=d(y?i(g,y):g).split("."),I=O[0],W=O[1],D=I&&g<0,D&&(I=I.substring(1,I.length))):(g=a(c).replace(/,/g,""),O=g?[g]:[],I=O[0]),O.length?(D?"-":"")+I.replace(new RegExp("(?=(?!(\\b))(.{"+(E.spaceNumber||3)+"})+$)","g"),E.separator||",")+(W?"."+W:""):g}return Om=h,Om}var Tm,k1;function LL(){if(k1)return Tm;k1=1;var e=Ns(),t=rF(),r=t(e);return Tm=r,Tm}var Mm,L1;function Yx(){if(L1)return Mm;L1=1;var e=$F(),t=jl();function r(n,l){var a=t(n),i=t(l);return e(a,i)}return Mm=r,Mm}var Im,N1;function kF(){if(N1)return Im;N1=1;var e=eu(),t=wl(),r=Yx();function n(l,a){var i=t(l),d=t(a),s=Math.pow(10,Math.max(e(i),e(d)));return(r(l,s)+r(a,s))/s}return Im=n,Im}var Fm,_1;function NL(){if(_1)return Fm;_1=1;var e=kF(),t=jl();function r(n,l){return e(t(n),t(l))}return Fm=r,Fm}var $m,q1;function _L(){if(q1)return $m;q1=1;var e=eu(),t=wl(),r=jl(),n=jx();function l(a,i){var d=r(a),s=r(i),h=t(d),c=t(s),b=e(h),E=e(c),y=Math.pow(10,Math.max(b,E)),p=b>=E?b:E;return parseFloat(n((d*y-s*y)/y,p))}return $m=l,$m}var Am,H1;function LF(){if(H1)return Am;H1=1;var e=eu(),t=wl(),r=Yx();function n(l,a){var i=t(l),d=t(a),s=e(i),h=e(d),c=h-s,b=c<0,E=Math.pow(10,b?Math.abs(c):c);return r(i.replace(".","")/d.replace(".",""),b?1/E:E)}return Am=n,Am}var Pm,B1;function qL(){if(B1)return Pm;B1=1;var e=LF(),t=jl();function r(n,l){return e(t(n),t(l))}return Pm=r,Pm}var km,V1;function NF(){if(V1)return km;V1=1;var e=kF(),t=Eo(),r=cn(),n=$n(),l=Ls();function a(i,d,s){var h=0;return n(i&&i.length>2&&r(i)?i.sort():i,d?t(d)?function(){h=e(h,d.apply(s,arguments))}:function(c){h=e(h,l(c,d))}:function(c){h=e(h,c)}),h}return km=a,km}var Lm,z1;function HL(){if(z1)return Lm;z1=1;var e=LF(),t=mF(),r=NF();function n(l,a,i){return e(r(l,a,i),t(l))}return Lm=n,Lm}var Nm,G1;function qs(){if(G1)return Nm;G1=1;var e="first";return Nm=e,Nm}var _m,W1;function tu(){if(W1)return _m;W1=1;var e="last";return _m=e,_m}var qm,U1;function Hs(){if(U1)return qm;U1=1;function e(t){return t.getFullYear()}return qm=e,qm}var Hm,j1;function Ni(){if(j1)return Hm;j1=1;var e=864e5;return Hm=e,Hm}var Bm,Y1;function ru(){if(Y1)return Bm;Y1=1;function e(t){return t.getMonth()}return Bm=e,Bm}var Vm,K1;function ea(){if(K1)return Vm;K1=1;var e=yl(),t=Qo();function r(n){return e(n)&&!isNaN(t(n))}return Vm=r,Vm}var zm,X1;function Bs(){if(X1)return zm;X1=1;var e=qs(),t=tu(),r=Ni(),n=Hs(),l=Qo(),a=ru(),i=So(),d=ea(),s=_a();function h(c,b,E){var y=b&&!isNaN(b)?b:0;if(c=i(c),d(c)){if(E===e)return new Date(n(c),a(c)+y,1);if(E===t)return new Date(l(h(c,y+1,e))-1);if(s(E)&&c.setDate(E),y){var p=c.getDate();if(c.setMonth(a(c)+y),p!==c.getDate())return c.setDate(1),new Date(l(c)-r)}}return c}return zm=h,zm}var Gm,Z1;function nu(){if(Z1)return Gm;Z1=1;var e=qs(),t=tu(),r=Hs(),n=Bs(),l=So(),a=ea();function i(d,s,h){var c;if(d=l(d),a(d)&&(s&&(c=s&&!isNaN(s)?s:0,d.setFullYear(r(d)+c)),h||!isNaN(h))){if(h===e)return new Date(r(d),0,1);if(h===t)return d.setMonth(11),n(d,0,t);d.setMonth(h)}return d}return Gm=i,Gm}var Wm,J1;function BL(){if(J1)return Wm;J1=1;var e=Bs(),t=So(),r=ea();function n(a){var i=a.getMonth();return i<3?1:i<6?2:i<9?3:4}function l(a,i,d){var s,h=i&&!isNaN(i)?i*3:0;return a=t(a),r(a)?(s=(n(a)-1)*3,a.setMonth(s),e(a,h,d)):a}return Wm=l,Wm}var Um,Q1;function _F(){if(Q1)return Um;Q1=1;var e=qs(),t=tu(),r=Ns(),n=Hs(),l=ru(),a=Qo(),i=So(),d=ea();function s(h,c,b){if(h=i(h),d(h)&&!isNaN(c)){if(h.setDate(h.getDate()+r(c)),b===e)return new Date(n(h),l(h),h.getDate());if(b===t)return new Date(a(s(h,1,e))-1)}return h}return Um=s,Um}var jm,eO;function qF(){if(eO)return jm;eO=1;function e(t){return t.toUpperCase()}return jm=e,jm}var Ym,tO;function HF(){if(tO)return Ym;tO=1;var e=Ni(),t=e*7;return Ym=t,Ym}var Km,rO;function BF(){if(rO)return Km;rO=1;var e=La(),t=Ni(),r=HF(),n=Qo(),l=So(),a=ea(),i=_a();function d(s,h,c,b){if(s=l(s),a(s)){var E=i(c),y=i(b),p=n(s);if(E||y){var g=y?b:e.firstDayOfWeek,O=s.getDay(),D=E?c:O;if(O!==D){var I=0;g>O?I=-(7-g+O):g<O&&(I=g-O),D>g?p+=((D===0?7:D)-g+I)*t:D<g?p+=(7-g+D+I)*t:p+=I*t}}return h&&!isNaN(h)&&(p+=h*r),new Date(p)}return s}return Km=d,Km}var Xm,nO;function VF(){if(nO)return Xm;nO=1;var e=La(),t=Ni(),r=HF(),n=_a(),l=ki(),a=So(),i=ea(),d=BF(),s=IF(),h=Cl(),c=Qo(),b=h(s(0,7),function(p){return[(p+1)%7,(p+2)%7,(p+3)%7]});function E(p,g){var O=new Date(p).getDay();return l(b[g],O)}function y(p,g){return function(O,D){var I=n(D)?D:e.firstDayOfWeek,W=a(O);if(i(W)){var N=d(W,0,I,I),Y=p(N),L=c(Y),F=c(N),M=F+t*6,q=new Date(M),V=d(Y,0,I,I),j=c(V),U;if(F===j)return 1;if(g(N,q)){for(U=c(p(q));U<M;U+=t)if(E(U,I))return 1}var z=j+t*6,k=new Date(M),ne=1;if(g(V,k)){for(ne=0,U=L;U<z;U+=t)if(E(U,I)){ne++;break}}return Math.floor((F-j)/r)+ne}return NaN}}return Xm=y,Xm}var Zm,oO;function zF(){if(oO)return Zm;oO=1;var e=VF(),t=e(function(r){return new Date(r.getFullYear(),0,1)},function(r,n){return r.getFullYear()!==n.getFullYear()});return Zm=t,Zm}var Jm,aO;function VL(){if(aO)return Jm;aO=1;var e=Hs(),t=ru();function r(n){return new Date(e(n),t(n),n.getDate())}return Jm=r,Jm}var Qm,lO;function zL(){if(lO)return Qm;lO=1;var e=Qo(),t=VL();function r(n){return e(t(n))}return Qm=r,Qm}var eb,iO;function GF(){if(iO)return eb;iO=1;var e=Ni(),t=qs(),r=zL(),n=nu(),l=So(),a=ea();function i(d){return d=l(d),a(d)?Math.floor((r(d)-r(n(d,0,t)))/e)+1:NaN}return eb=i,eb}var tb,sO;function WF(){if(sO)return tb;sO=1;var e=Ro(),t=Na(),r=_s();function n(l,a,i){var d=e(l);return a=a>>0,i=t(i)?" ":""+i,d.padStart?d.padStart(a,i):a>d.length?(a-=d.length,a>i.length&&(i+=r(i,a/i.length)),i.slice(0,a)+d):d}return tb=n,tb}var rb,cO;function UF(){if(cO)return rb;cO=1;var e=La(),t=qF(),r=Hs(),n=ru(),l=So(),a=zF(),i=GF(),d=pa(),s=ea(),h=Eo(),c=WF();function b(p,g,O,D){var I=g[O];return I?h(I)?I(D,O,p):I[D]:D}var E=/\[([^\]]+)]|y{2,4}|M{1,2}|d{1,2}|H{1,2}|h{1,2}|m{1,2}|s{1,2}|S{1,3}|Z{1,2}|W{1,2}|D{1,3}|[aAeEq]/g;function y(p,g,O){if(p){if(p=l(p),s(p)){var D=g||e.parseDateFormat||e.formatString,I=p.getHours(),W=I<12?"am":"pm",N=d({},e.parseDateRules||e.formatStringMatchs,O?O.formats:null),Y=function(G,J){return(""+r(p)).substr(4-J)},L=function(G,J){return c(n(p)+1,J,"0")},F=function(G,J){return c(p.getDate(),J,"0")},M=function(G,J){return c(I,J,"0")},q=function(G,J){return c(I<=12?I:I-12,J,"0")},V=function(G,J){return c(p.getMinutes(),J,"0")},j=function(G,J){return c(p.getSeconds(),J,"0")},U=function(G,J){return c(p.getMilliseconds(),J,"0")},z=function(G,J){var we=p.getTimezoneOffset()/60*-1;return b(p,N,G,(we>=0?"+":"-")+c(we,2,"0")+(J===1?":":"")+"00")},k=function(G,J){return c(b(p,N,G,a(p,(O?O.firstDay:null)||e.firstDayOfWeek)),J,"0")},ne=function(G,J){return c(b(p,N,G,i(p)),J,"0")},fe={yyyy:Y,yy:Y,MM:L,M:L,dd:F,d:F,HH:M,H:M,hh:q,h:q,mm:V,m:V,ss:j,s:j,SSS:U,S:U,ZZ:z,Z:z,WW:k,W:k,DDD:ne,D:ne,a:function(G){return b(p,N,G,W)},A:function(G){return b(p,N,G,t(W))},e:function(G){return b(p,N,G,p.getDay())},E:function(G){return b(p,N,G,p.getDay())},q:function(G){return b(p,N,G,Math.floor((n(p)+3)/3))}};return D.replace(E,function(G,J){return J||(fe[G]?fe[G](G,G.length):G)})}return"Invalid Date"}return""}return rb=y,rb}var nb,uO;function jF(){if(uO)return nb;uO=1;var e=Qo(),t=Qc(),r=Date.now||function(){return e(t())};return nb=r,nb}var ob,dO;function GL(){if(dO)return ob;dO=1;var e=Qo(),t=jF(),r=So(),n=yl(),l=function(a,i){if(a){var d=r(a,i);return n(d)?e(d):d}return t()};return ob=l,ob}var ab,fO;function WL(){if(fO)return ab;fO=1;var e=UF();function t(r,n,l){return r&&n?(r=e(r,l),r!=="Invalid Date"&&r===e(n,l)):!1}return ab=t,ab}var lb,pO;function UL(){if(pO)return lb;pO=1;var e=VF(),t=e(function(r){return new Date(r.getFullYear(),r.getMonth(),1)},function(r,n){return r.getMonth()!==n.getMonth()});return lb=t,lb}var ib,gO;function jL(){if(gO)return ib;gO=1;var e=nu(),t=So(),r=ea(),n=gF();function l(a,i){return a=t(a),r(a)?n(e(a,i))?366:365:NaN}return ib=l,ib}var sb,hO;function YL(){if(hO)return sb;hO=1;var e=Ni(),t=qs(),r=tu(),n=Qo(),l=Bs(),a=So(),i=ea();function d(s,h){return s=a(s),i(s)?Math.floor((n(l(s,h,r))-n(l(s,h,t)))/e)+1:NaN}return sb=d,sb}var cb,vO;function KL(){if(vO)return cb;vO=1;var e=Qo(),t=Qc(),r=So(),n=ea(),l=[["yyyy",31536e6],["MM",2592e6],["dd",864e5],["HH",36e5],["mm",6e4],["ss",1e3],["S",0]];function a(i,d){var s,h,c,b,E,y,p={done:!1,time:0};if(i=r(i),d=d?r(d):t(),n(i)&&n(d)&&(s=e(i),h=e(d),s<h))for(b=p.time=h-s,p.done=!0,y=0,E=l.length;y<E;y++)c=l[y],b>=c[1]?y===E-1?p[c[0]]=b||0:(p[c[0]]=Math.floor(b/c[1]),b-=p[c[0]]*c[1]):p[c[0]]=0;return p}return cb=a,cb}var ub,mO;function XL(){if(mO)return ub;mO=1;var e=Ro(),t=Na(),r=_s();function n(l,a,i){var d=e(l);return a=a>>0,i=t(i)?" ":""+i,d.padEnd?d.padEnd(a,i):a>d.length?(a-=d.length,a>i.length&&(i+=r(i,a/i.length)),d+i.slice(0,a)):d}return ub=n,ub}var db,bO;function ZL(){if(bO)return db;bO=1;var e=Ro(),t=_s();function r(n,l){return t(e(n),l)}return db=r,db}var fb,xO;function YF(){if(xO)return fb;xO=1;var e=Ro();function t(r){return r&&r.trimRight?r.trimRight():e(r).replace(/[\s\uFEFF\xA0]+$/g,"")}return fb=t,fb}var pb,CO;function KF(){if(CO)return pb;CO=1;var e=Ro();function t(r){return r&&r.trimLeft?r.trimLeft():e(r).replace(/^[\s\uFEFF\xA0]+/g,"")}return pb=t,pb}var gb,yO;function XF(){if(yO)return gb;yO=1;var e=YF(),t=KF();function r(n){return n&&n.trim?n.trim():e(t(n))}return gb=r,gb}var hb,wO;function ZF(){if(wO)return hb;wO=1;var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};return hb=e,hb}var vb,EO;function JF(){if(EO)return vb;EO=1;var e=Ro(),t=Xa();function r(n){var l=new RegExp("(?:"+t(n).join("|")+")","g");return function(a){return e(a).replace(l,function(i){return n[i]})}}return vb=r,vb}var mb,SO;function JL(){if(SO)return mb;SO=1;var e=ZF(),t=JF(),r=t(e);return mb=r,mb}var bb,RO;function QL(){if(RO)return bb;RO=1;var e=ZF(),t=JF(),r=$n(),n={};r(e,function(a,i){n[e[i]]=i});var l=t(n);return bb=l,bb}var xb,DO;function QF(){if(DO)return xb;DO=1;function e(t,r,n){return t.substring(r,n)}return xb=e,xb}var Cb,OO;function e$(){if(OO)return Cb;OO=1;function e(t){return t.toLowerCase()}return Cb=e,Cb}var yb,TO;function eN(){if(TO)return yb;TO=1;var e=Ro(),t=QF(),r=qF(),n=e$(),l={};function a(i){if(i=e(i),l[i])return l[i];var d=i.length,s=i.replace(/([-]+)/g,function(h,c,b){return b&&b+c.length<d?"-":""});return d=s.length,s=s.replace(/([A-Z]+)/g,function(h,c,b){var E=c.length;return c=n(c),b?E>2&&b+E<d?r(t(c,0,1))+t(c,1,E-1)+r(t(c,E-1,E)):r(t(c,0,1))+t(c,1,E):E>1&&b+E<d?t(c,0,E-1)+r(t(c,E-1,E)):c}).replace(/(-[a-zA-Z])/g,function(h,c){return r(t(c,1,c.length))}),l[i]=s,s}return yb=a,yb}var wb,MO;function tN(){if(MO)return wb;MO=1;var e=Ro(),t=QF(),r=e$(),n={};function l(a){if(a=e(a),n[a])return n[a];if(/^[A-Z]+$/.test(a))return r(a);var i=a.replace(/^([a-z])([A-Z]+)([a-z]+)$/,function(d,s,h,c){var b=h.length;return b>1?s+"-"+r(t(h,0,b-1))+"-"+r(t(h,b-1,b))+c:r(s+"-"+h+c)}).replace(/^([A-Z]+)([a-z]+)?$/,function(d,s,h){var c=s.length;return r(t(s,0,c-1)+"-"+t(s,c-1,c)+(h||""))}).replace(/([a-z]?)([A-Z]+)([a-z]?)/g,function(d,s,h,c,b){var E=h.length;return E>1&&(s&&(s+="-"),c)?(s||"")+r(t(h,0,E-1))+"-"+r(t(h,E-1,E))+c:(s||"")+(b?"-":"")+r(h)+(c||"")});return i=i.replace(/([-]+)/g,function(d,s,h){return h&&h+s.length<i.length?"-":""}),n[a]=i,i}return wb=l,wb}var Eb,IO;function rN(){if(IO)return Eb;IO=1;var e=Ro();function t(r,n,l){var a=e(r);return(arguments.length===1?a:a.substring(l)).indexOf(n)===0}return Eb=t,Eb}var Sb,FO;function nN(){if(FO)return Sb;FO=1;var e=Ro();function t(r,n,l){var a=e(r),i=arguments.length;return i>1&&(i>2?a.substring(0,l).indexOf(n)===l-1:a.indexOf(n)===a.length-1)}return Sb=t,Sb}var Rb,$O;function t$(){if($O)return Rb;$O=1;var e=La(),t=Ro(),r=XF(),n=Ls();function l(a,i,d){return t(a).replace((d||e).tmplRE||/\{{2}([.\w[\]\s]+)\}{2}/g,function(s,h){return n(i,r(h))})}return Rb=l,Rb}var Db,AO;function oN(){if(AO)return Db;AO=1;var e=t$();function t(r,n){return e(r,n,{tmplRE:/\{([.\w[\]\s]+)\}/g})}return Db=t,Db}var Ob,PO;function aN(){if(PO)return Ob;PO=1;function e(){}return Ob=e,Ob}var Tb,kO;function lN(){if(kO)return Tb;kO=1;var e=Yl();function t(r,n){var l=e(arguments,2);return function(){return r.apply(n,e(arguments).concat(l))}}return Tb=t,Tb}var Mb,LO;function iN(){if(LO)return Mb;LO=1;var e=Yl();function t(r,n){var l=!1,a=null,i=e(arguments,2);return function(){return l||(a=r.apply(n,e(arguments).concat(i)),l=!0),a}}return Mb=t,Mb}var Ib,NO;function sN(){if(NO)return Ib;NO=1;var e=Yl();function t(r,n,l){var a=0,i=[];return function(){var d=arguments;a++,a<=r&&i.push(d[0]),a>=r&&n.apply(l,[i].concat(e(d)))}}return Ib=t,Ib}var Fb,_O;function cN(){if(_O)return Fb;_O=1;var e=Yl();function t(r,n,l){var a=0,i=[];return l=l||this,function(){var d=arguments;a++,a<r&&(i.push(d[0]),n.apply(l,[i].concat(e(d))))}}return Fb=t,Fb}var $b,qO;function uN(){if(qO)return $b;qO=1;function e(t,r,n){var l=null,a=null,i=n||{},d=!1,s=null,h="leading"in i?i.leading:!0,c="trailing"in i?i.trailing:!1,b=function(){l=null,a=null},E=function(){d=!0,t.apply(a,l),s=setTimeout(y,r),b()},y=function(){s=null,!d&&c===!0&&E()},p=function(){var O=s!==null;return O&&clearTimeout(s),b(),s=null,d=!1,O},g=function(){l=arguments,a=this,d=!1,s===null&&(h===!0?E():c===!0&&(s=setTimeout(y,r)))};return g.cancel=p,g}return $b=e,$b}var Ab,HO;function dN(){if(HO)return Ab;HO=1;function e(t,r,n){var l=null,a=null,i=n||{},d=!1,s=null,h=typeof n=="boolean",c="leading"in i?i.leading:h,b="trailing"in i?i.trailing:!h,E=function(){l=null,a=null},y=function(){d=!0,t.apply(a,l),E()},p=function(){c===!0&&(s=null),!d&&b===!0&&y()},g=function(){var D=s!==null;return D&&clearTimeout(s),E(),s=null,d=!1,D},O=function(){d=!1,l=arguments,a=this,s===null?c===!0&&y():clearTimeout(s),s=setTimeout(p,r)};return O.cancel=g,O}return Ab=e,Ab}var Pb,BO;function fN(){if(BO)return Pb;BO=1;var e=Yl();function t(r,n){var l=e(arguments,2),a=this;return setTimeout(function(){r.apply(a,l)},n)}return Pb=t,Pb}var kb,VO;function r$(){if(VO)return kb;VO=1;var e=decodeURIComponent;return kb=e,kb}var Lb,zO;function n$(){if(zO)return Lb;zO=1;var e=r$(),t=co(),r=Qa();function n(l){var a,i={};return l&&r(l)&&t(l.split("&"),function(d){a=d.split("="),i[e(a[0])]=e(a[1]||"")}),i}return Lb=n,Lb}var Nb,GO;function o$(){if(GO)return Nb;GO=1;var e=encodeURIComponent;return Nb=e,Nb}var _b,WO;function pN(){if(WO)return _b;WO=1;var e=o$(),t=$n(),r=cn(),n=Za(),l=Na(),a=Pi();function i(s,h,c){var b,E=[];return t(s,function(y,p){b=r(y),a(y)||b?E=E.concat(i(y,h+"["+p+"]",b)):E.push(e(h+"["+(c?"":p)+"]")+"="+e(n(y)?"":y))}),E}function d(s){var h,c=[];return t(s,function(b,E){l(b)||(h=r(b),a(b)||h?c=c.concat(i(b,E,h)):c.push(e(E)+"="+e(n(b)?"":b)))}),c.join("&").replace(/%20/g,"+")}return _b=d,_b}var qb,UO;function ou(){if(UO)return qb;UO=1;var e=ga(),t=typeof location===e?0:location;return qb=t,qb}var Hb,jO;function a$(){if(jO)return Hb;jO=1;var e=ou();function t(){return e?e.origin||e.protocol+"//"+e.host:""}return Hb=t,Hb}var Bb,YO;function l$(){if(YO)return Bb;YO=1;var e=ou(),t=n$(),r=a$();function n(a){return t(a.split("?")[1]||"")}function l(a){var i,d,s,h,c=""+a;return c.indexOf("//")===0?c=(e?e.protocol:"")+c:c.indexOf("/")===0&&(c=r()+c),s=c.replace(/#.*/,"").match(/(\?.*)/),h={href:c,hash:"",host:"",hostname:"",protocol:"",port:"",search:s&&s[1]&&s[1].length>1?s[1]:""},h.path=c.replace(/^([a-z0-9.+-]*:)\/\//,function(b,E){return h.protocol=E,""}).replace(/^([a-z0-9.+-]*)(:\d+)?\/?/,function(b,E,y){return d=y||"",h.port=d.replace(":",""),h.hostname=E,h.host=E+d,"/"}).replace(/(#.*)/,function(b,E){return h.hash=E.length>1?E:"",""}),i=h.hash.match(/#((.*)\?|(.*))/),h.pathname=h.path.replace(/(\?|#.*).*/,""),h.origin=h.protocol+"//"+h.host,h.hashKey=i&&(i[2]||i[1])||"",h.hashQuery=n(h.hash),h.searchQuery=n(h.search),h}return Bb=l,Bb}var Vb,KO;function gN(){if(KO)return Vb;KO=1;var e=ou(),t=a$(),r=vF();function n(){if(e){var l=e.pathname,a=r(l,"/")+1;return t()+(a===l.length?l:l.substring(0,a))}return""}return Vb=n,Vb}var zb,XO;function hN(){if(XO)return zb;XO=1;var e=ou(),t=l$();function r(){return e?t(e.href):{}}return zb=r,zb}var Gb,ZO;function vN(){if(ZO)return Gb;ZO=1;var e=La(),t=zx(),r=r$(),n=o$(),l=cn(),a=Zc(),i=yl(),d=Na(),s=ki(),h=Xa(),c=pa(),b=co(),E=Qc(),y=Qo(),p=nu(),g=Bs(),O=_F();function D(V,j){var U=parseFloat(j),z=E(),k=y(z);switch(V){case"y":return y(p(z,U));case"M":return y(g(z,U));case"d":return y(O(z,U));case"h":case"H":return k+U*60*60*1e3;case"m":return k+U*60*1e3;case"s":return k+U*1e3}return k}function I(V){return(i(V)?V:new Date(V)).toUTCString()}function W(V,j,U){if(t){var z,k,ne,fe,G,J,we=[],se=arguments;return l(V)?we=V:se.length>1?we=[c({name:V,value:j},U)]:a(V)&&(we=[V]),we.length>0?(b(we,function(re){z=c({},e.cookies,re),ne=[],z.name&&(k=z.expires,ne.push(n(z.name)+"="+n(a(z.value)?JSON.stringify(z.value):z.value)),k&&(isNaN(k)?k=k.replace(/^([0-9]+)(y|M|d|H|h|m|s)$/,function(ve,Ee,Re){return I(D(Re,Ee))}):/^[0-9]{11,13}$/.test(k)||i(k)?k=I(k):k=I(D("d",k)),z.expires=k),b(["expires","path","domain","secure"],function(ve){d(z[ve])||ne.push(z[ve]&&ve==="secure"?ve:ve+"="+z[ve])})),t.cookie=ne.join("; ")}),!0):(fe={},G=t.cookie,G&&b(G.split("; "),function(re){J=re.indexOf("="),fe[r(re.substring(0,J))]=r(re.substring(J+1)||"")}),se.length===1?fe[V]:fe)}return!1}function N(V){return s(M(),V)}function Y(V){return W(V)}function L(V,j,U){return W(V,j,U),W}function F(V,j){W(V,"",c({expires:-1},e.cookies,j))}function M(){return h(W())}function q(){return W()}return c(W,{has:N,set:L,setItem:L,get:Y,getItem:Y,remove:F,removeItem:F,keys:M,getJSON:q}),Gb=W,Gb}var Wb,JO;function mN(){if(JO)return Wb;JO=1;var e=ga(),t=zx(),r=EF(),n=pa(),l=co();function a(s){try{var h="__xe_t";return s.setItem(h,1),s.removeItem(h),!0}catch(c){return!1}}function i(s){return navigator.userAgent.indexOf(s)>-1}function d(){var s,h,c,b=!1,E=!1,y=!1,p={isNode:!1,isMobile:b,isPC:!1,isDoc:!!t};if(!r&&typeof process!==e)p.isNode=!0;else{c=i("Edge"),h=i("Chrome"),b=/(Android|webOS|iPhone|iPad|iPod|SymbianOS|BlackBerry|Windows Phone)/.test(navigator.userAgent),p.isDoc&&(s=t.body||t.documentElement,l(["webkit","khtml","moz","ms","o"],function(g){p["-"+g]=!!s[g+"MatchesSelector"]}));try{E=a(r.localStorage)}catch(g){}try{y=a(r.sessionStorage)}catch(g){}n(p,{edge:c,firefox:i("Firefox"),msie:!c&&p["-ms"],safari:!h&&!c&&i("Safari"),isMobile:b,isPC:!b,isLocalStorage:E,isSessionStorage:y})}return p}return Wb=d,Wb}var Ub,QO;function bN(){if(QO)return Ub;QO=1;var e=$k(),t=pa(),r=ks(),n=jI(),l=Ak(),a=Pk(),i=Cl(),d=KI(),s=XI(),h=ZI(),c=co(),b=_x(),E=JI(),y=kk(),p=qx(),g=Lk(),O=Bx(),D=tF(),I=Nk(),W=Yl(),N=_k(),Y=qk(),L=ki(),F=Hk(),M=Bk(),q=Vk(),V=zk(),j=Gk(),U=Wk(),z=lF(),k=Uk(),ne=jk(),fe=nF(),G=Yk(),J=Kk(),we=Xk(),se=Zk(),re=dF(),ve=Jk(),Ee=Qk(),Re=eL(),Pe=fF(),le=pF(),Xe=fa(),me=cn(),Te=Za(),Ae=tL(),tt=Na(),Ue=Eo(),ut=Zc(),_e=Qa(),te=Pi(),$e=gF(),ce=yl(),Le=Ja(),nt=$n(),et=nL(),vt=oL(),xt=aL(),Dt=vF(),gt=Xa(),Tt=Li(),ht=Nx(),yt=mF(),Lt=sF(),Vt=uF(),Bt=cF(),Nt=lL(),Kt=iL(),Wt=bF(),Fe=xF(),Oe=_a(),Ye=Vx(),rt=CF(),at=sL(),ee=yF(),Ie=wF(),Ne=cL(),pt=uL(),He=dL(),dt=fL(),Ze=pL(),$=gL(),H=hL(),Z=vL(),xe=mL(),De=bL(),ke=OF(),Be=xL(),qe=CL(),it=yL(),ft=Gx(),Ve=wL(),wt=EL(),ir=SL(),be=RL(),Ke=DL(),Ft=OL(),Ct=TL(),Pt=ML(),zt=IL(),Xt=Ls(),_t=FL(),st=MF(),Et=$L(),Ut=IF(),qt=AL(),cr=eF(),or=aF(),Tr=PL(),nn=kL(),Fr=Ux(),Xr=AF(),zr=PF(),Hr=jx(),Zr=LL(),Or=jl(),er=wl(),Ur=NL(),Nr=_L(),jr=Yx(),Jr=qL(),on=NF(),qn=HL(),Hn=nu(),uo=BL(),fo=Bs(),Dn=_F(),Yn=So(),Oo=UF(),ha=jF(),An=GL(),qa=ea(),C=WL(),To=BF(),ta=GF(),Ar=zF(),Vo=UL(),zo=jL(),Tn=YL(),po=KL(),go=XL(),Mo=WF(),Pn=ZL(),Kn=XF(),Io=YF(),ho=KF(),Go=JL(),va=QL(),ma=eN(),Xn=tN(),ba=rN(),xa=nN(),Zn=t$(),Ca=oN(),kn=Ro(),an=aN(),vo=Ai(),ra=lN(),Bn=iN(),Fo=sN(),Wo=cN(),ya=uN(),Uo=dN(),wa=fN(),A=n$(),pe=pN(),Me=l$(),Je=gN(),Rt=hN(),ot=vN(),Mt=mN();return t(e,{assign:t,objectEach:r,lastObjectEach:n,objectMap:l,merge:a,uniq:E,union:y,sortBy:g,orderBy:O,shuffle:D,sample:I,some:d,every:s,slice:W,filter:N,find:F,findLast:M,findKey:Y,includes:L,arrayIndexOf:Pe,arrayLastIndexOf:le,map:i,reduce:q,copyWithin:V,chunk:j,zip:U,unzip:z,zipObject:k,flatten:ne,toArray:p,includeArrays:h,pluck:fe,invoke:G,arrayEach:c,lastArrayEach:b,toArrayTree:J,toTreeArray:we,findTree:se,eachTree:re,mapTree:ve,filterTree:Ee,searchTree:Re,hasOwnProp:Xe,eqNull:Le,isNaN:Ae,isFinite:Nt,isUndefined:tt,isArray:me,isFloat:Kt,isInteger:Wt,isFunction:Ue,isBoolean:Fe,isString:_e,isNumber:Oe,isRegExp:Ye,isObject:ut,isPlainObject:te,isDate:ce,isError:rt,isTypeError:at,isEmpty:ee,isNull:Te,isSymbol:Ie,isArguments:Ne,isElement:pt,isDocument:He,isWindow:dt,isFormData:Ze,isMap:$,isWeakMap:H,isSet:Z,isWeakSet:xe,isLeapYear:$e,isMatch:De,isEqual:ke,isEqualWith:Be,getType:qe,uniqueId:it,getSize:yt,indexOf:xt,lastIndexOf:Dt,findIndexOf:ft,findLastIndexOf:Ve,toStringJSON:wt,toJSONString:ir,keys:gt,values:Tt,entries:be,pick:Ke,omit:Ft,first:Ct,last:Pt,each:nt,forOf:et,lastForOf:vt,lastEach:Lt,has:zt,get:Xt,set:_t,groupBy:st,countBy:Et,clone:ht,clear:Bt,remove:Vt,range:Ut,destructuring:qt,random:cr,min:Tr,max:or,commafy:nn,round:Fr,ceil:Xr,floor:zr,toFixed:Hr,toNumber:Or,toNumberString:er,toInteger:Zr,add:Ur,subtract:Nr,multiply:jr,divide:Jr,sum:on,mean:qn,now:ha,timestamp:An,isValidDate:qa,isDateSame:C,toStringDate:Yn,toDateString:Oo,getWhatYear:Hn,getWhatQuarter:uo,getWhatMonth:fo,getWhatWeek:To,getWhatDay:Dn,getYearDay:ta,getYearWeek:Ar,getMonthWeek:Vo,getDayOfYear:zo,getDayOfMonth:Tn,getDateDiff:po,trim:Kn,trimLeft:ho,trimRight:Io,escape:Go,unescape:va,camelCase:ma,kebabCase:Xn,repeat:Pn,padStart:Mo,padEnd:go,startsWith:ba,endsWith:xa,template:Zn,toFormatString:Ca,toString:kn,toValueString:kn,noop:an,property:vo,bind:ra,once:Bn,after:Fo,before:Wo,throttle:ya,debounce:Uo,delay:wa,unserialize:A,serialize:pe,parseUrl:Me,getBaseURL:Je,locat:Rt,browse:Mt,cookie:ot}),Ub=e,Ub}var xN=bN();const u=_c(xN);let es;const vi=rn({modals:[],drawers:[],globalLoading:null,globalWatermark:null}),CN=so({setup(){const e=Se.getComponent("vxe-modal"),t=Se.getComponent("vxe-drawer"),r=Se.getComponent("vxe-loading"),n=Se.getComponent("vxe-watermark");return()=>{const{modals:l,drawers:a,globalWatermark:i,globalLoading:d}=vi;return[l.length?m("div",{key:1,class:"vxe-dynamics--modal"},l.map(s=>m(e,s))):Ht(),a.length?m("div",{key:2,class:"vxe-dynamics--drawer"},a.map(s=>m(t,s))):Ht(),i?m(n,i):Ht(),d?m(r,d):Ht()]}}}),Do=WA(CN);function i$(){es||(es=document.createElement("div"),es.className="vxe-dynamics",document.body.appendChild(es),Do.mount(es))}const s$="ui v4.9.29",Wa=Xo.create("warn",s$),Kx=Xo.create("error",s$),yN="4.9.29";Se.uiVersion=yN;Se.dynamicApp=Do;function wN(e){return Wa("vxe.error.delFunc",["config","setConfig"]),Kc(e)}function EN(e){return Wa("vxe.error.delFunc",["setup","setConfig"]),Kc(e)}Se.config=wN;Se.setup=EN;Kc({alert:{},anchor:{},anchorLink:{},avatar:{},badge:{},breadcrumb:{separator:"/"},breadcrumbItem:{},button:{trigger:"hover",prefixTooltip:{enterable:!0},suffixTooltip:{enterable:!0}},buttonGroup:{},calendar:{minDate:new Date(1900,0,1),maxDate:new Date(2100,0,1),startDay:1,selectDay:1},card:{border:!0,padding:!0},carousel:{height:200,loop:!0,interval:5e3},carouselItem:{},checkbox:{},checkboxButton:{},checkboxGroup:{},col:{},collapse:{padding:!0,expandConfig:{showIcon:!0}},collapsePane:{},countdown:{},colorPicker:{type:"rgb",clearable:!0,showAlpha:!0,clickToCopy:!0,showColorExtractor:!0,showQuick:!0},datePanel:{startDate:new Date(1900,0,1),endDate:new Date(2100,0,1),startDay:1,selectDay:1},datePicker:{shortcutConfig:{align:"left",mode:"text",autoClose:!0},startDay:1,selectDay:1,autoClose:!0,showClearButton:null,showConfirmButton:null},dateRangePicker:{shortcutConfig:{align:"left",mode:"text",autoClose:!0},startDay:1,selectDay:1,separator:" ~ ",autoClose:!0,showClearButton:null,showConfirmButton:null},drawer:{position:"right",showHeader:!0,lockView:!0,mask:!0,showTitleOverflow:!0,showClose:!0,padding:!0,cancelClosable:!0,confirmClosable:!0},empty:{},form:{validConfig:{showErrorMessage:!0,autoPos:!0,theme:"beautify"},tooltipConfig:{enterable:!0},titleAsterisk:!0,titleOverflow:!1,padding:!0},formDesign:{height:400,showHeader:!0,showPc:!0},formGather:{},formGroup:{},formItem:{},formView:{},icon:{},iconPicker:{icons:["home","company","comment","setting","send","envelope","envelope-open","bell","search","print","pc","goods","chart-line","edit","delete","save","folder","microphone","flag","link","location","sunny","rmb","usd","user","add-user","add-users","star","unlock","time","text","feedback","calendar","association-form","cloud-download","cloud-upload","file","subtable","chart-bar-x","chart-bar-y","chart-line","chart-pie","chart-radar"]},image:{showPreview:!0,showPrintButton:!0,maskClosable:!0},imageGroup:{showPreview:!0,showPrintButton:!0},imagePreview:{showPrintButton:!0},input:{startDate:new Date(1900,0,1),endDate:new Date(2100,0,1),startDay:1,selectDay:1,digits:2,controls:!0},layoutAside:{},layoutBody:{},layoutContainer:{},layoutFooter:{},layoutHeader:{},link:{underline:!0},listDesign:{height:400,showPc:!0},listView:{},list:{virtualYConfig:{enabled:!0,gt:100}},loading:{showIcon:!0,showText:!0},menu:{},modal:{top:16,showHeader:!0,minWidth:340,minHeight:140,lockView:!0,mask:!0,duration:3e3,marginSize:0,dblclickZoom:!0,showTitleOverflow:!0,animat:!0,showClose:!0,padding:!0,draggable:!0,showConfirmButton:null,cancelClosable:!0,confirmClosable:!0,zoomConfig:{minimizeMaxSize:10,minimizeVerticalOffset:{top:-24,left:0},minimizeHorizontalOffset:{top:0,left:32}},storageKey:"VXE_MODAL_POSITION"},noticeBar:{},numberInput:{digits:2,autoFill:!0,controlConfig:{enabled:!0,layout:"right",showButton:!0,isWheel:!0,isArrow:!0}},optgroup:{},option:{},pager:{pageSizePlacement:"top"},print:{pageStyle:{}},passwordInput:{controls:!0},printPageBreak:{},pulldown:{destroyOnClose:!0},radio:{strict:!0},radioButton:{strict:!0},radioGroup:{strict:!0},rate:{},result:{},row:{},select:{multiCharOverflow:8,remoteConfig:{enabled:!0,autoLoad:!0},virtualYConfig:{enabled:!0,gt:50,oSize:2}},split:{resize:!0,itemConfig:{minWidth:40,minHeight:40},resizeConfig:{showTip:!0}},splitPane:{},slider:{max:100,min:0},steps:{},switch:{},tabPane:{},tableSelect:{gridConfig:{showOverflow:!0,showHeaderOverflow:!0,showFooterOverflow:!0,rowConfig:{isHover:!0},virtualXConfig:{enabled:!0,gt:0},virtualYConfig:{enabled:!0,gt:0}}},tabs:{},tag:{},textEllipsis:{underline:!0},text:{copyConfig:{showMessage:!0}},textarea:{resize:"none"},tip:{},tooltip:{trigger:"hover",theme:"dark",enterDelay:500,leaveDelay:300,isArrow:!0},tree:{indent:20,minHeight:60,radioConfig:{strict:!0},virtualYConfig:{enabled:!0,gt:50,oSize:2}},treeSelect:{autoClose:!0,virtualYConfig:{enabled:!0,gt:0,oSize:2},treeConfig:{maxHeight:300,radioConfig:{},checkboxConfig:{},filterConfig:{autoExpandAll:!0}}},upload:{mode:"all",imageTypes:["jpg","jpeg","png","gif"],showList:!0,showUploadButton:!0,showButtonText:!0,showRemoveButton:!0,showButtonIcon:!0,showPreview:!0,dragToUpload:!0,showLimitSize:!0,showLimitCount:!0,autoSubmit:!0,maxSimultaneousUploads:5},watermark:{rotate:-30,gap:[100,100]},table:{},colgroup:{},column:{},toolbar:{},grid:{},gantt:{}});const lt="vxe-icon-";kI({LOADING:lt+"spinner roll vxe-loading--default-icon",BUTTON_DROPDOWN:lt+"arrow-down",BUTTON_LOADING:lt+"spinner roll",BUTTON_TOOLTIP_ICON:lt+"question-circle-fill",MENU_ITEM_EXPAND_OPEN:lt+"arrow-down rotate180",MENU_ITEM_EXPAND_CLOSE:lt+"arrow-down",SELECT_LOADED:lt+"spinner roll",SELECT_OPEN:lt+"caret-down rotate180",SELECT_CLOSE:lt+"caret-down",SELECT_ADD_OPTION:lt+"add",ICON_PICKER_OPEN:lt+"caret-down rotate180",ICON_PICKER_CLOSE:lt+"caret-down",PAGER_HOME:lt+"home-page",PAGER_END:lt+"end-page",PAGER_JUMP_PREV:lt+"arrow-double-left",PAGER_JUMP_NEXT:lt+"arrow-double-right",PAGER_PREV_PAGE:lt+"arrow-left",PAGER_NEXT_PAGE:lt+"arrow-right",PAGER_JUMP_MORE:lt+"ellipsis-h",RADIO_CHECKED:lt+"radio-checked-fill",RADIO_UNCHECKED:lt+"radio-unchecked",RADIO_DISABLED_UNCHECKED:lt+"radio-unchecked-fill",CHECKBOX_INDETERMINATE:lt+"checkbox-indeterminate-fill",CHECKBOX_CHECKED:lt+"checkbox-checked-fill",CHECKBOX_UNCHECKED:lt+"checkbox-unchecked",CHECKBOX_DISABLED_UNCHECKED:lt+"checkbox-unchecked-fill",INPUT_CLEAR:lt+"error-circle-fill",INPUT_SEARCH:lt+"search",INPUT_PLUS_NUM:lt+"caret-up",INPUT_MINUS_NUM:lt+"caret-down",NUMBER_INPUT_MINUS_NUM:lt+"minus",NUMBER_INPUT_PLUS_NUM:lt+"add",DATE_PICKER_DATE:lt+"calendar",PASSWORD_INPUT_SHOW_PWD:lt+"eye-fill-close",PASSWORD_INPUT_HIDE_PWD:lt+"eye-fill",MODAL_ZOOM_MIN:lt+"minus",MODAL_ZOOM_REVERT:lt+"recover",MODAL_ZOOM_IN:lt+"square",MODAL_ZOOM_OUT:lt+"maximize",MODAL_CLOSE:lt+"close",MODAL_INFO:lt+"info-circle-fill",MODAL_SUCCESS:lt+"success-circle-fill",MODAL_WARNING:lt+"warning-circle-fill",MODAL_ERROR:lt+"error-circle-fill",MODAL_QUESTION:lt+"question-circle-fill",MODAL_LOADING:lt+"spinner roll",DRAWER_CLOSE:lt+"close",FORM_PREFIX:lt+"question-circle-fill",FORM_SUFFIX:lt+"question-circle-fill",FORM_FOLDING:lt+"arrow-up rotate180",FORM_UNFOLDING:lt+"arrow-up",FORM_VALID_ERROR_ICON:lt+"warning-circle-fill",FORM_DESIGN_STYLE_SETTING:lt+"layout",FORM_DESIGN_PROPS_PC:lt+"pc",FORM_DESIGN_PROPS_MOBILE:lt+"mobile",FORM_DESIGN_PROPS_ADD:lt+"add",FORM_DESIGN_PROPS_EDIT:lt+"edit",FORM_DESIGN_WIDGET_ADD:lt+"square-plus-fill",FORM_DESIGN_WIDGET_COPY:lt+"copy",FORM_DESIGN_WIDGET_DELETE:lt+"delete",FORM_DESIGN_WIDGET_SWAP_LR:lt+"swap",FORM_DESIGN_WIDGET_OPTION_DELETE:lt+"delete",FORM_DESIGN_WIDGET_OPTION_EXPAND_OPEN:lt+"square-plus",FORM_DESIGN_WIDGET_OPTION_EXPAND_CLOSE:lt+"square-minus",LIST_DESIGN_FIELD_SETTING:lt+"custom-column",LIST_DESIGN_LIST_SETTING:lt+"menu",LIST_DESIGN_LIST_SETTING_SEARCH_DELETE:lt+"delete",LIST_DESIGN_LIST_SETTING_ACTIVE_DELETE:lt+"delete",UPLOAD_FILE_ERROR:lt+"warning-circle-fill",UPLOAD_FILE_ADD:lt+"upload",UPLOAD_FILE_REMOVE:lt+"delete",UPLOAD_FILE_DOWNLOAD:lt+"download",UPLOAD_IMAGE_UPLOAD:lt+"upload",UPLOAD_IMAGE_RE_UPLOAD:lt+"repeat",UPLOAD_IMAGE_ADD:lt+"add",UPLOAD_IMAGE_REMOVE:lt+"close",UPLOAD_LOADING:lt+"spinner roll vxe-loading--default-icon",UPLOAD_FILE_TYPE_DEFAULT:lt+"file",UPLOAD_FILE_TYPE_XLSX:lt+"file-excel",UPLOAD_FILE_TYPE_XLS:lt+"file-excel",UPLOAD_FILE_TYPE_PDF:lt+"file-pdf",UPLOAD_FILE_TYPE_PNG:lt+"file-image",UPLOAD_FILE_TYPE_GIF:lt+"file-image",UPLOAD_FILE_TYPE_JPG:lt+"file-image",UPLOAD_FILE_TYPE_JPEG:lt+"file-image",UPLOAD_FILE_TYPE_MD:lt+"file-markdown",UPLOAD_FILE_TYPE_PPD:lt+"file-ppt",UPLOAD_FILE_TYPE_DOCX:lt+"file-word",UPLOAD_FILE_TYPE_DOC:lt+"file-word",UPLOAD_FILE_TYPE_ZIP:lt+"file-zip",UPLOAD_FILE_TYPE_TXT:lt+"file-txt",IMAGE_PREVIEW_CLOSE:lt+"close",IMAGE_PREVIEW_PREVIOUS:lt+"arrow-left",IMAGE_PREVIEW_NEXT:lt+"arrow-right",IMAGE_PREVIEW_PCT_FULL:lt+"pct-full",IMAGE_PREVIEW_PCT_1_1:lt+"pct-1-1",IMAGE_PREVIEW_ZOOM_OUT:lt+"search-zoom-out",IMAGE_PREVIEW_ZOOM_IN:lt+"search-zoom-in",IMAGE_PREVIEW_ROTATE_LEFT:lt+"rotate-left",IMAGE_PREVIEW_ROTATE_RIGHT:lt+"rotate-right",IMAGE_PREVIEW_PRINT:lt+"print",IMAGE_PREVIEW_DOWNLOAD:lt+"download",ALERT_CLOSE:lt+"close",ALERT_INFO:lt+"info-circle-fill",ALERT_SUCCESS:lt+"success-circle-fill",ALERT_WARNING:lt+"warning-circle-fill",ALERT_ERROR:lt+"error-circle-fill",TREE_NODE_OPEN:lt+"caret-right rotate90",TREE_NODE_CLOSE:lt+"caret-right",TREE_NODE_LOADED:lt+"spinner roll",TREE_SELECT_LOADED:lt+"spinner roll",TREE_SELECT_OPEN:lt+"caret-down rotate180",TREE_SELECT_CLOSE:lt+"caret-down",TABLE_SELECT_LOADED:lt+"spinner roll",TABLE_SELECT_OPEN:lt+"caret-down rotate180",TABLE_SELECT_CLOSE:lt+"caret-down",TABS_TAB_BUTTON_TOP:lt+"arrow-up",TABS_TAB_BUTTON_BOTTOM:lt+"arrow-down",TABS_TAB_BUTTON_LEFT:lt+"arrow-left",TABS_TAB_BUTTON_RIGHT:lt+"arrow-right",TABS_TAB_CLOSE:lt+"close",TABS_TAB_REFRESH:lt+"refresh",TABS_TAB_REFRESH_LOADING:lt+"refresh roll",TEXT_COPY:lt+"copy",TEXT_LOADING:lt+"spinner roll",CAROUSEL_HORIZONTAL_PREVIOUS:lt+"arrow-left",CAROUSEL_HORIZONTAL_NEXT:lt+"arrow-right",CAROUSEL_VERTICAL_PREVIOUS:lt+"arrow-up",CAROUSEL_VERTICAL_NEXT:lt+"arrow-down",COLLAPSE_OPEN:lt+"arrow-right rotate90",COLLAPSE_CLOSE:lt+"arrow-right",EMPTY_DEFAULT:lt+"empty",RESULT_INFO:lt+"info-circle-fill",RESULT_SUCCESS:lt+"success-circle-fill",RESULT_WARNING:lt+"warning-circle-fill",RESULT_ERROR:lt+"error-circle-fill",RESULT_QUESTION:lt+"question-circle-fill",RESULT_LOADING:lt+"spinner roll",RATE_CHECKED:lt+"star-fill",RATE_UNCHECKED:lt+"star",COLOR_PICKER_COLOR_COPY:lt+"copy",COLOR_PICKER_EYE_DROPPER:lt+"dropper",COLOR_PICKER_TPTY_OPEN:lt+"arrow-down rotate180",COLOR_PICKER_TPTY_CLOSE:lt+"arrow-down",SPLIT_TOP_ACTION:lt+"arrow-up",SPLIT_BOTTOM_ACTION:lt+"arrow-down",SPLIT_LEFT_ACTION:lt+"arrow-left",SPLIT_RIGHT_ACTION:lt+"arrow-right"});let di;function c$(){return di||(di=new Image,di.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="),di}function SN(){return di||c$()}const jb={};function RN(e){return jb[e]||(jb[e]=new RegExp(`(?:^|\\s)${e}(?!\\S)`,"g")),jb[e]}function Ic(e,t){return!!(e&&e.className&&e.className.match&&e.className.match(RN(t)))}function u$(e){return e.ctrlKey||e.metaKey}function ro(e,t="px"){return u.isNumber(e)||/^\d+$/.test(`${e}`)?`${e}${t}`:`${e||""}`}function hs(){const e=document.documentElement,t=document.body;return{scrollTop:e.scrollTop||t.scrollTop,scrollLeft:e.scrollLeft||t.scrollLeft,visibleHeight:e.clientHeight||t.clientHeight,visibleWidth:e.clientWidth||t.clientWidth}}function oo(e,t,r,n){let l,a=e.target.shadowRoot&&e.composed&&e.composedPath()[0]||e.target;for(;a&&a.nodeType&&a!==document;){if(r&&Ic(a,r))l=a;else if(a===t)return{flag:r?!!l:!0,container:t,targetElem:l};a=a.parentNode}return{flag:!1}}function d$(e){const t=e.getBoundingClientRect(),r=t.top,n=t.left,{scrollTop:l,scrollLeft:a,visibleHeight:i,visibleWidth:d}=hs();return{boundingTop:r,top:l+r,boundingLeft:n,left:a+n,visibleHeight:i,visibleWidth:d}}function f$(e,t,r){const{placement:n,teleportTo:l,marginSize:a}=Object.assign({teleportTo:!1,marginSize:18},r);let i="bottom",d="",s="",h="";const c="";let b="";const E={};if(t&&e){const y=document.documentElement,p=document.body,g=e.offsetHeight,O=t.offsetHeight,D=t.offsetWidth,I=t.getBoundingClientRect(),W=e.getBoundingClientRect(),N=y.clientHeight||p.clientHeight,Y=y.clientWidth||p.clientWidth;b=e.offsetWidth,l?(h=W.left,d=W.top+g,n==="top"?(i="top",d=W.top-O):n||(d+O+a>N&&(i="top",d=W.top-O),d<a&&(i="bottom",d=W.top+g)),h+D+a>Y&&(h-=h+D+a-Y),h<a&&(h=a)):(n==="top"?(i="top",s=g):n||(d=g,W.top+W.height+a>N&&W.top-g-O>a&&(i="top",d="",s=g)),I.left+I.width+a>Y&&(h=-(I.left+I.width+a-Y))),u.isNumber(d)&&(E.top=ro(d)),u.isNumber(s)&&(E.bottom=ro(s)),u.isNumber(h)&&(E.left=ro(h)),u.isNumber(c)&&(E.right=ro(c)),u.isNumber(b)&&(E.minWidth=ro(b))}return{top:d||0,bottom:s||0,left:h||0,right:0,style:E,placement:i}}function Yb(e){return e&&e.enabled!==!1}function Ei(){return Ul.getNext()}function Vs(){return Ul.getCurrent()}function DN(){return Ul.getSubNext()}function ON(){return Ul.getSubCurrent()}function qo(e,t){if(e){const r=ze().translate;return u.toValueString(r?r(""+e,t):e)}return""}function Pl(e){return e==null||e===""}function eT(e){return u.isBoolean(e)?e:null}function dn(e){return u.isArray(e)?e:e?[e]:[]}const vs=so({name:"VxeTooltip",props:{modelValue:Boolean,size:{type:String,default:()=>ze().tooltip.size||ze().size},selector:String,trigger:{type:String,default:()=>ze().tooltip.trigger||"hover"},theme:{type:String,default:()=>ze().tooltip.theme||"dark"},content:{type:[String,Number],default:null},useHTML:Boolean,zIndex:[String,Number],popupClassName:[String,Function],width:{type:[String,Number],default:()=>ze().tooltip.Width},height:{type:[String,Number],default:()=>ze().tooltip.height},minWidth:{type:[String,Number],default:()=>ze().tooltip.minWidth},minHeight:{type:[String,Number],default:()=>ze().tooltip.minHeight},maxWidth:{type:[String,Number],default:()=>ze().tooltip.maxWidth},maxHeight:{type:[String,Number],default:()=>ze().tooltip.maxHeight},isArrow:{type:Boolean,default:()=>ze().tooltip.isArrow},enterable:{type:Boolean,default:()=>ze().tooltip.enterable},enterDelay:{type:Number,default:()=>ze().tooltip.enterDelay},leaveDelay:{type:Number,default:()=>ze().tooltip.leaveDelay}},emits:["update:modelValue"],setup(e,t){const{slots:r,emit:n}=t,l=u.uniqueId(),{computeSize:a}=io(e),i=rn({target:null,isUpdate:!1,visible:!1,tipContent:"",tipActive:!1,tipTarget:null,tipZindex:0,tipStore:{style:{},placement:"",arrowStyle:{}}}),d={},s=mt(),h=mt(),c=ue(()=>{const{width:z,height:k,minHeight:ne,minWidth:fe,maxHeight:G,maxWidth:J}=e,we={};return z&&(we.width=ro(z)),k&&(we.height=ro(k)),fe&&(we.minWidth=ro(fe)),ne&&(we.minHeight=ro(ne)),J&&(we.maxWidth=ro(J)),G&&(we.maxHeight=ro(G)),we}),b={refElem:s},E={xID:l,props:e,context:t,reactData:i,internalData:d,getRefMaps:()=>b};let y={};const p=()=>{const{tipTarget:z,tipStore:k}=i;if(z){const{scrollTop:ne,scrollLeft:fe,visibleWidth:G}=hs(),{top:J,left:we}=d$(z),se=s.value;if(!se)return;const re=6,ve=se.offsetHeight,Ee=se.offsetWidth;let Re=we,Pe=J-ve-re;Re=Math.max(re,we+Math.floor((z.offsetWidth-Ee)/2)),Re+Ee+re>fe+G&&(Re=fe+G-Ee-re),J-ve<ne+re&&(k.placement="bottom",Pe=J+z.offsetHeight+re),k.style.top=`${Pe}px`,k.style.left=`${Re}px`,k.arrowStyle.left=`${we-Re+z.offsetWidth/2}px`}},g=z=>{z!==i.visible&&(i.visible=z,i.isUpdate=!0,n("update:modelValue",z))},O=()=>{i.tipZindex<Vs()&&(i.tipZindex=Ei())},D=()=>{i.visible?y.close():M(i.target||q(),e.content)},I=()=>{M(i.target||q(),e.content)},W=()=>{const{trigger:z,enterable:k,leaveDelay:ne}=e;i.tipActive=!1,k&&z==="hover"?setTimeout(()=>{i.tipActive||y.close()},ne):y.close()},N=()=>{i.tipActive=!0},Y=()=>{const{trigger:z,enterable:k,leaveDelay:ne}=e;i.tipActive=!1,k&&z==="hover"&&setTimeout(()=>{i.tipActive||y.close()},ne)},L=()=>{const{tipStore:z}=i,k=s.value;return k&&(k.parentNode||document.body.appendChild(k)),g(!0),O(),z.placement="top",z.style={width:"auto",left:0,top:0,zIndex:e.zIndex||i.tipZindex},z.arrowStyle={left:"50%"},y.updatePlacement()},F=()=>{d.showDelayTip=u.debounce(()=>{i.tipActive&&L()},e.enterDelay,{leading:!1,trailing:!0})},M=(z,k)=>{if(!r.content&&(k===""||u.eqNull(k)))return ge();if(z){const{showDelayTip:fe}=d,{trigger:G,enterDelay:J}=e;if(i.tipActive=!0,i.tipTarget=z,i.tipContent=k,J&&G==="hover")fe&&fe();else return L()}return ge()},q=()=>{const{selector:z}=e;if(z){if(u.isElement(z))return z;if(u.isString(z))return document.querySelector(z)}return null};y={dispatchEvent(z,k,ne){n(z,Un(ne,{$tooltip:E},k))},open(z,k){return M(z||i.target||q(),k)},close(){return i.tipTarget=null,i.tipActive=!1,Object.assign(i.tipStore,{style:{},placement:"",arrowStyle:null}),g(!1),ge()},toVisible(z,k){return M(z,k)},updatePlacement(){return ge().then(()=>{const{tipTarget:z}=i,k=s.value;if(z&&k)return p(),ge().then(()=>{p()})})},isActived(){return i.tipActive},setActived(z){i.tipActive=!!z}};const V=z=>{z.stopPropagation()};Object.assign(E,y);const j=()=>{const{useHTML:z}=e,{tipContent:k}=i,ne=c.value,fe=r.content,G=[];return fe?G.push(m("div",{key:1},dn(fe({})))):z?G.push(m("div",{key:2,innerHTML:k})):G.push(m("span",{key:3},`${k}`)),m("div",{key:3,ref:h,class:"vxe-tooltip--content",style:ne},G)},U=()=>{const{popupClassName:z,theme:k,isArrow:ne,enterable:fe}=e,{tipActive:G,visible:J,tipStore:we}=i,se=r.default,re=a.value;let ve;return fe&&(ve={onMouseenter:N,onMouseleave:Y}),m("div",Object.assign({ref:s,class:["vxe-tooltip--wrapper",`theme--${k}`,z?u.isFunction(z)?z({$tooltip:E}):z:"",{[`size--${re}`]:re,[`placement--${we.placement}`]:we.placement,"is--enterable":fe,"is--visible":J,"is--arrow":ne,"is--active":G}],style:we.style},ve),[j(),m("div",{class:"vxe-tooltip--arrow",style:we.arrowStyle}),...se?dn(se({})):[]])};return sr(()=>e.enterDelay,()=>{F()}),sr(()=>e.content,z=>{i.tipContent=z}),sr(()=>e.modelValue,z=>{i.isUpdate||(z?M(i.target||q(),e.content):y.close()),i.isUpdate=!1}),jn(()=>{const z=h.value;z&&z.addEventListener("wheel",V,{passive:!1}),ge(()=>{const{trigger:k,content:ne}=e,fe=s.value;if(fe){const G=fe.parentNode;if(G){i.tipContent=ne,i.tipZindex=Ei(),u.arrayEach(fe.children,(we,se)=>{se>1&&(G.insertBefore(we,fe),i.target||(i.target=we))}),G.removeChild(fe);const{target:J}=i;J&&(k==="hover"?(J.onmouseenter=I,J.onmouseleave=W):k==="click"&&(J.onclick=D)),e.modelValue&&M(J||q(),ne)}}})}),Rs(()=>{const{target:z}=i,k=s.value;z&&(z.onmouseenter=null,z.onmouseleave=null,z.onclick=null);const ne=h.value;if(ne&&ne.removeEventListener("wheel",V),k){const fe=k.parentNode;fe&&fe.removeChild(k)}}),F(),E.renderVN=U,E},render(){return this.renderVN()}}),no=so({name:"VxeButton",props:{type:String,mode:String,className:[String,Function],popupClassName:[String,Function],size:{type:String,default:()=>ze().button.size||ze().size},zIndex:Number,name:[String,Number],routerLink:Object,permissionCode:[String,Number],content:String,placement:String,status:String,title:String,icon:String,iconRender:Object,prefixIcon:String,prefixRender:Object,suffixIcon:String,suffixRender:Object,round:Boolean,circle:Boolean,disabled:Boolean,loading:Boolean,trigger:{type:String,default:()=>ze().button.trigger},align:String,prefixTooltip:Object,suffixTooltip:Object,options:Array,destroyOnClose:{type:Boolean,default:()=>ze().button.destroyOnClose},transfer:{type:Boolean,default:null}},emits:["click","mouseenter","mouseleave","dropdown-click","dropdownClick"],setup(e,t){const{slots:r,emit:n}=t,l=mr("$xeModal",null),a=mr("$xeDrawer",null),i=mr("$xeTable",null),d=mr("$xeForm",null),s=mr("$xeButtonGroup",null),h=u.uniqueId(),{computeSize:c}=io(e),{computePermissionInfo:b}=WI(e),E=rn({initialized:!1,visiblePanel:!1,isAniVisible:!1,isActivated:!1,panelIndex:0,panelStyle:{},panelPlacement:""}),y={showTime:void 0,tooltipTimeout:void 0},p=mt(),g=mt(),O=mt(),D={refElem:p},I={xID:h,props:e,context:t,reactData:E,internalData:y,getRefMaps:()=>D};let W={};const N=ue(()=>{const{transfer:ce}=e;if(ce===null){const Le=ze().button.transfer;if(u.isBoolean(Le))return Le;if(i||l||a||d)return!0}return ce}),Y=ue(()=>{const{disabled:ce}=e,Le=b.value;return ce||Le.disabled}),L=ue(()=>{const{type:ce}=e;return ce?["submit","reset","button"].indexOf(ce)>-1:!1}),F=ue(()=>{const{type:ce,mode:Le}=e;return Le==="text"||ce==="text"||s&&s.props.mode==="text"?"text":"button"}),M=ue(()=>{const{status:ce}=e;return ce||(s?s.props.status:"")}),q=ue(()=>{const{align:ce}=e;return ce||(s?s.props.align:!1)}),V=ue(()=>{const{round:ce}=e;return ce||(s?s.props.round:!1)}),j=ue(()=>{const{circle:ce}=e;return ce||(s?s.props.circle:!1)}),U=ue(()=>{const{options:ce}=e;return ce?ce.filter(Le=>{const{permissionCode:nt}=Le;return!nt||GI.checkVisible(nt)}):[]}),z=ue(()=>Object.assign({},ze().button.prefixTooltip,e.prefixTooltip)),k=ue(()=>Object.assign({},ze().button.suffixTooltip,e.suffixTooltip)),ne=()=>{const{zIndex:ce}=e;ce?E.panelIndex=ce:E.panelIndex<Vs()&&(E.panelIndex=Ei())},fe=()=>{const{placement:ce}=e,{panelIndex:Le}=E,nt=g.value,et=O.value,vt=N.value,xt=()=>{const Dt=f$(nt,et,{placement:ce,teleportTo:vt}),gt=Object.assign(Dt.style,{zIndex:Le});E.panelStyle=gt,E.panelPlacement=Dt.placement};return xt(),ge().then(xt)},G=ce=>{s&&s.handleClick({name:e.name},ce),Ue("click",{$event:ce},ce)},J=(ce,Le)=>{const{$event:nt}=ce;me(),Ue("dropdown-click",{name:Le.name,option:Le},nt)},we=ce=>{ce.button===0&&ce.stopPropagation()},se=ce=>{const Le=ce.currentTarget,nt=O.value,{flag:et,targetElem:vt}=oo(ce,Le,"vxe-button");et&&(nt&&(nt.dataset.active="N"),E.visiblePanel=!1,setTimeout(()=>{(!nt||nt.dataset.active!=="Y")&&(E.isAniVisible=!1)},350),Ue("dropdown-click",{name:vt.getAttribute("name"),option:null},ce))},re=()=>{const ce=O.value;ce&&(ce.dataset.active="Y",E.isAniVisible=!0,setTimeout(()=>{ce.dataset.active==="Y"&&(E.visiblePanel=!0,ne(),fe(),setTimeout(()=>{E.visiblePanel&&fe()},50))},20))},ve=ce=>{const{loading:Le}=e;Y.value||Le||(Xe(),Re(ce))},Ee=ce=>{me(),Pe(ce)},Re=ce=>{Ue("mouseenter",{},ce)},Pe=ce=>{Ue("mouseleave",{},ce)},le=ce=>{const{loading:Le,trigger:nt}=e;Y.value||Le||(nt==="click"&&(E.visiblePanel?me():Xe()),G(ce))},Xe=()=>{const{trigger:ce}=e,Le=O.value;return Le&&(Le.dataset.active="Y",E.initialized||(E.initialized=!0),y.showTime=setTimeout(()=>{Le.dataset.active==="Y"?re():E.isAniVisible=!1},ce==="click"?50:250)),ge()},me=()=>{const ce=O.value;return clearTimeout(y.showTime),ce?(ce.dataset.active="N",setTimeout(()=>{ce.dataset.active!=="Y"&&(E.visiblePanel=!1,setTimeout(()=>{ce.dataset.active!=="Y"&&(E.isAniVisible=!1)},350))},100)):(E.isAniVisible=!1,E.visiblePanel=!1),ge()},Te=()=>{me()},Ae=(ce,Le)=>m(vs,{useHTML:ce.useHTML,content:ce.content,enterable:ce.enterable,theme:ce.theme},{default(){return m("span",{class:`vxe-button--item vxe-button--tooltip-${Le}-icon`},[m("i",{class:ce.icon||gr().BUTTON_TOOLTIP_ICON})])}}),tt=()=>{const{content:ce,suffixIcon:Le,loading:nt,prefixTooltip:et,suffixTooltip:vt,suffixRender:xt}=e,Dt=e.prefixIcon||e.icon,gt=e.prefixRender||e.iconRender,Tt=z.value,ht=k.value,yt=r.prefix||r.icon,Lt=r.suffix,Vt=r.default,Bt=[];if(et&&Bt.push(Ae(Tt,"prefix")),nt)Bt.push(m("i",{class:["vxe-button--item vxe-button--loading-icon",gr().BUTTON_LOADING]}));else if(yt)Bt.push(m("span",{class:"vxe-button--item vxe-button--custom-prefix-icon"},yt({})));else if(gt){const Nt=dl.get(gt.name),Kt=Nt?Nt.renderButtonPrefix:null;Bt.push(m("span",{class:["vxe-button--item vxe-button--custom-prefix-icon"]},Kt?dn(Kt(gt,{$button:I})):[]))}else Dt&&Bt.push(m("i",{class:["vxe-button--item vxe-button--prefix-icon",Dt]}));if(Vt?Bt.push(m("span",{class:"vxe-button--item vxe-button--content"},Vt({}))):ce&&Bt.push(m("span",{class:"vxe-button--item vxe-button--content"},qo(ce))),Lt)Bt.push(m("span",{class:"vxe-button--item vxe-button--custom-suffix-icon"},Lt({})));else if(xt){const Nt=dl.get(xt.name),Kt=Nt?Nt.renderButtonSuffix:null;Bt.push(m("span",{class:["vxe-button--item vxe-button--custom-suffix-icon"]},Kt?dn(Kt(xt,{$button:I})):[]))}else Le&&Bt.push(m("i",{class:["vxe-button--item vxe-button--suffix-icon",Le]}));return vt&&Bt.push(Ae(ht,"suffix")),Bt},Ue=(ce,Le,nt)=>{n(ce,Un(nt,{$button:I},Le))};W={dispatchEvent:Ue,openPanel:Xe,closePanel:me,focus(){const ce=g.value;return ce&&ce.focus(),ge()},blur(){const ce=g.value;return ce&&ce.blur(),ge()}};const ut=ce=>{const Le=O.value;E.visiblePanel&&!oo(ce,Le).flag&&me()},_e=ce=>{const Le=Y.value,{visiblePanel:nt}=E;if(!Le){const et=p.value,vt=O.value;E.isActivated=oo(ce,et).flag||oo(ce,vt).flag,nt&&!E.isActivated&&me()}},te=()=>{const{visiblePanel:ce}=E;ce&&fe()};Object.assign(I,W);const $e=()=>{const{className:ce,popupClassName:Le,trigger:nt,title:et,routerLink:vt,type:xt,destroyOnClose:Dt,name:gt,loading:Tt}=e,{initialized:ht,isAniVisible:yt,visiblePanel:Lt}=E,Vt=L.value,Bt=F.value,Nt=M.value,Kt=V.value,Wt=q.value,Fe=j.value,Oe=N.value,Ye=Y.value,rt=b.value,at=U.value,ee=c.value,Ie=r.dropdowns;if(!rt.visible)return vr();if(Ie||at.length){const Ne={},pt={};return nt==="hover"&&(Ne.onMouseenter=ve,Ne.onMouseleave=Ee,pt.onMouseenter=re,pt.onMouseleave=Te),m("div",{ref:p,class:["vxe-button--dropdown",ce?u.isFunction(ce)?ce({$button:I}):ce:"",{[`size--${ee}`]:ee,"is--active":Lt}]},[vt?m(ux("router-link"),Object.assign({ref:g,class:["vxe-button","vxe-button--link",`type--${Bt}`,Wt?`align--${Wt}`:"",ce?u.isFunction(ce)?ce({$button:I}):ce:"",{[`size--${ee}`]:ee,[`theme--${Nt}`]:Nt,"is--round":Kt,"is--circle":Fe,"is--disabled":Ye||Tt,"is--loading":Tt}],title:et,name:gt,type:Vt?xt:"button",disabled:Ye||Tt,to:vt,onClick:le},Ne),{default(){return tt().concat([m("i",{class:`vxe-button--dropdown-arrow ${gr().BUTTON_DROPDOWN}`})])}}):m("button",Object.assign({ref:g,class:["vxe-button",`type--${Bt}`,Wt?`align--${Wt}`:"",ce?u.isFunction(ce)?ce({$button:I}):ce:"",{[`size--${ee}`]:ee,[`theme--${Nt}`]:Nt,"is--round":Kt,"is--circle":Fe,"is--disabled":Ye||Tt,"is--loading":Tt}],title:et,name:gt,type:Vt?xt:"button",disabled:Ye||Tt,onClick:le},Ne),tt().concat([m("i",{class:`vxe-button--dropdown-arrow ${gr().BUTTON_DROPDOWN}`})])),m(Bl,{to:"body",disabled:Oe?!ht:!0},[m("div",Object.assign({ref:O,class:["vxe-button--dropdown-panel",Le?u.isFunction(Le)?Le({$button:I}):Le:"",{[`size--${ee}`]:ee,"is--transfer":Oe,"ani--leave":yt,"ani--enter":Lt}],placement:E.panelPlacement,style:E.panelStyle},pt),ht&&(Lt||yt)?[Ie?m("div",{class:"vxe-button--dropdown-wrapper",onMousedown:we,onClick:se},ht&&(!Dt||Lt||yt)?Ie({}):[]):m("div",{class:"vxe-button--dropdown-wrapper"},ht&&(!Dt||Lt||yt)?at.map((He,dt)=>m(no,{key:dt,type:He.type,mode:He.mode||Bt,className:He.className,name:He.name,routerLink:He.routerLink,permissionCode:He.permissionCode,title:He.title,content:He.content,status:He.status,icon:He.icon,round:u.isBoolean(He.round)?He.round:Bt==="text"?!1:Kt,circle:u.isBoolean(He.circle)?He.circle:Bt==="text"?!1:Fe,disabled:He.disabled,loading:He.loading,align:He.align,onClick(Ze){J(Ze,He)}})):[])]:[])])])}return vt?m(ux("router-link"),{ref:g,class:["vxe-button","vxe-button--link",`type--${Bt}`,Wt?`align--${Wt}`:"",ce?u.isFunction(ce)?ce({$button:I}):ce:"",{[`size--${ee}`]:ee,[`theme--${Nt}`]:Nt,"is--round":Kt,"is--circle":Fe,"is--disabled":Ye||Tt,"is--loading":Tt}],title:et,name:gt,type:Vt?xt:"button",disabled:Ye||Tt,to:vt,onClick:G,onMouseenter:Re,onMouseleave:Pe},{default(){return tt()}}):m("button",{ref:g,class:["vxe-button",`type--${Bt}`,Wt?`align--${Wt}`:"",ce?u.isFunction(ce)?ce({$button:I}):ce:"",{[`size--${ee}`]:ee,[`theme--${Nt}`]:Nt,"is--round":Kt,"is--circle":Fe,"is--disabled":Ye||Tt,"is--loading":Tt}],title:et,name:gt,type:Vt?xt:"button",disabled:Ye||Tt,onClick:G,onMouseenter:Re,onMouseleave:Pe},tt())};return I.renderVN=$e,jn(()=>{e.type==="text"&&Wa("vxe.error.delProp",["type=text","mode=text"]),rr.on(I,"mousewheel",ut),rr.on(I,"mousedown",_e),rr.on(I,"resize",te)}),xo(()=>{rr.off(I,"mousewheel"),rr.off(I,"mousedown"),rr.off(I,"resize")}),I},render(){return this.renderVN()}}),Xx=Object.assign({},no,{install(e){e.component(no.name,no)}});Do.use(Xx);Se.component(no);const bc=so({name:"VxeCheckbox",props:{modelValue:[String,Number,Boolean],label:{type:[String,Number],default:null},indeterminate:Boolean,title:[String,Number],checkedValue:{type:[String,Number,Boolean],default:!0},uncheckedValue:{type:[String,Number,Boolean],default:!1},content:[String,Number],disabled:{type:Boolean,default:null},size:{type:String,default:()=>ze().checkbox.size||ze().size}},emits:["update:modelValue","change"],setup(e,t){const{slots:r,emit:n}=t,l=mr("$xeForm",null),a=mr("xeFormItemInfo",null),i=mr("$xeCheckboxGroup",null),d=u.uniqueId(),s=rn({}),h={xID:d,props:e,context:t,reactData:s};let c={};const{computeSize:b}=io(e),E=ue(()=>i?u.includes(i.props.modelValue,e.label):e.modelValue===e.checkedValue),y=ue(()=>{const{disabled:D}=e,I=E.value;if(D===null&&i){const{computeIsDisabled:W,computeIsMaximize:N}=i.getComputeMaps(),Y=W.value,L=N.value;return Y||L&&!I}return D}),p=D=>{const{checkedValue:I,uncheckedValue:W}=e;if(!y.value){const Y=D.target.checked,L=Y?I:W,F={checked:Y,value:L,label:e.label};i?i.handleChecked(F,D):(n("update:modelValue",L),c.dispatchEvent("change",F,D),l&&a&&l.triggerItemEvent(D,a.itemConfig.field,L))}};c={dispatchEvent:(D,I,W)=>{n(D,Un(W,{$checkbox:h},I))}},Object.assign(h,c);const O=()=>{const{label:D}=e,I=b.value,W=y.value,N=E.value,Y=!N&&e.indeterminate;return m("label",{key:D,class:["vxe-checkbox vxe-checkbox--default",{[`size--${I}`]:I,"is--indeterminate":Y,"is--disabled":W,"is--checked":N}],title:e.title},[m("input",{class:"vxe-checkbox--input",type:"checkbox",disabled:W,checked:N,onChange:p}),m("span",{class:["vxe-checkbox--icon",Y?gr().CHECKBOX_INDETERMINATE:N?gr().CHECKBOX_CHECKED:W?gr().CHECKBOX_DISABLED_UNCHECKED:gr().CHECKBOX_UNCHECKED]}),m("span",{class:"vxe-checkbox--label"},r.default?r.default({}):qo(e.content))])};return h.renderVN=O,h},render(){return this.renderVN()}}),p$=Object.assign(bc,{install(e){e.component(bc.name,bc)}});Do.use(p$);Se.component(bc);const xc=so({name:"VxeIcon",props:{name:String,className:String,roll:Boolean,status:String,size:{type:String,default:()=>ze().icon.size||ze().size}},emits:["click"],setup(e,t){const{emit:r}=t,n=u.uniqueId(),{computeSize:l}=io(e),a={xID:n,props:e,context:t},i=b=>{r("click",Un(b,{}))};Object.assign(a,{dispatchEvent:(b,E,y)=>{r(b,Un(y,{$icon:a},E))}},{});const c=()=>{const{name:b,roll:E,status:y,className:p}=e,g=l.value;return m("i",{class:["vxe-icon",`vxe-icon-${b}`,`${p||""}`,{[`size--${g}`]:g,[`theme--${y}`]:y,roll:E}],onClick:i})};return a.renderVN=c,a},render(){return this.renderVN()}}),g$=Object.assign({},xc,{install(e){e.component(xc.name,xc)}});Do.use(g$);Se.component(xc);function TN(e){const t=new Date(2e3,0,1);if(e){let r=0,n=0,l=0;if((u.isNumber(e)||/^[0-9]{11,15}$/.test(`${e}`))&&(e=new Date(Number(e))),u.isDate(e))r=e.getHours(),n=e.getMinutes(),l=e.getSeconds();else{e=u.toValueString(e);const a=e.match(/^(\d{1,2})(:(\d{1,2}))?(:(\d{1,2}))?/);a&&(r=u.toNumber(a[1]),n=u.toNumber(a[3]),l=u.toNumber(a[5]))}return t.setHours(r),t.setMinutes(n),t.setSeconds(l),t}return t}function tT(e){const t=e.getMonth();return t<3?1:t<6?2:t<9?3:4}function sa(e){return u.isString(e)?e.replace(/[^0-9e.-]/g,""):e}function ms(e,t){return/^-/.test(""+e)?u.toFixed(u.ceil(e,t),t):u.toFixed(u.floor(e,t),t)}const mi=so({name:"VxeInput",props:{modelValue:[String,Number,Date],immediate:{type:Boolean,default:!0},name:String,title:String,type:{type:String,default:"text"},clearable:{type:Boolean,default:()=>ze().input.clearable},readonly:{type:Boolean,default:null},disabled:{type:Boolean,default:null},placeholder:{type:String,default:null},maxLength:{type:[String,Number],default:()=>ze().input.maxLength},autoComplete:{type:String,default:"off"},autoFocus:{type:Boolean,default:null},align:String,form:String,className:String,size:{type:String,default:()=>ze().input.size||ze().size},multiple:Boolean,showWordCount:Boolean,countMethod:Function,min:{type:[String,Number],default:null},max:{type:[String,Number],default:null},step:[String,Number],trim:{type:Boolean,default:()=>ze().input.trim},exponential:{type:Boolean,default:()=>ze().input.exponential},controls:{type:Boolean,default:()=>ze().input.controls},digits:{type:[String,Number],default:()=>ze().input.digits},startDate:{type:[String,Number,Date],default:()=>ze().input.startDate},endDate:{type:[String,Number,Date],default:()=>ze().input.endDate},minDate:[String,Number,Date],maxDate:[String,Number,Date],startWeek:Number,startDay:{type:[String,Number],default:()=>ze().input.startDay},labelFormat:String,valueFormat:String,editable:{type:Boolean,default:!0},festivalMethod:{type:Function,default:()=>ze().input.festivalMethod},disabledMethod:{type:Function,default:()=>ze().input.disabledMethod},selectDay:{type:[String,Number],default:()=>ze().input.selectDay},prefixIcon:String,suffixIcon:String,placement:String,transfer:{type:Boolean,default:null},maxlength:[String,Number],autocomplete:String},emits:["update:modelValue","input","change","keydown","keyup","wheel","click","focus","blur","clear","search-click","toggle-visible","prev-number","next-number","prefix-click","suffix-click","date-prev","date-today","date-next"],setup(e,t){const{slots:r,emit:n}=t,l=mr("$xeSelect",null),a=mr("$xeTreeSelect",null),i=mr("$xeModal",null),d=mr("$xeDrawer",null),s=mr("$xeTable",null),h=mr("$xeForm",null),c=mr("xeFormItemInfo",null),b=u.uniqueId(),{computeSize:E}=io(e),y=rn({initialized:!1,panelIndex:0,showPwd:!1,visiblePanel:!1,isAniVisible:!1,panelStyle:{},panelPlacement:"",isActivated:!1,inputValue:e.modelValue,datetimePanelValue:null,datePanelValue:null,datePanelLabel:"",datePanelType:"day",selectMonth:null,currentDate:null}),p={yearSize:12,monthSize:20,quarterSize:8,hpTimeout:void 0,dnTimeout:void 0},g=mt(),O=mt(),D=mt(),I=mt(),W=mt(),N={refElem:g,refInput:O},Y={xID:b,props:e,context:t,reactData:y,internalData:p,getRefMaps:()=>N};let L={};const F=(A,pe)=>{const{type:Me}=e;return Me==="time"?TN(A):u.toStringDate(A,pe)},M=ue(()=>{const{transfer:A}=e;if(A===null){const pe=ze().input.transfer;if(u.isBoolean(pe))return pe;if(s||i||d||h)return!0}return A}),q=ue(()=>h?h.props.readonly:!1),V=ue(()=>{const{readonly:A}=e;return A}),j=ue(()=>{const{disabled:A}=e;return A===null?h?h.props.disabled:!1:A}),U=ue(()=>{const{maxLength:A,maxlength:pe}=e,Me=A||pe;return k.value&&!u.toNumber(Me)?16:Me}),z=ue(()=>{const{type:A}=e;return A==="time"||A==="datetime"}),k=ue(()=>["number","integer","float"].indexOf(e.type)>-1),ne=ue(()=>u.getSize(y.inputValue)),fe=ue(()=>{const A=ne.value,pe=U.value;return pe&&A>u.toNumber(pe)}),G=ue(()=>z.value||["date","week","month","quarter","year"].indexOf(e.type)>-1),J=ue(()=>e.type==="password"),we=ue(()=>e.type==="search"),se=ue(()=>u.toInteger(e.digits)||1),re=ue(()=>{const{type:A}=e,pe=se.value,Me=e.step;return A==="integer"?u.toInteger(Me)||1:A==="float"?u.toNumber(Me)||1/Math.pow(10,pe):u.toNumber(Me)||1}),ve=ue(()=>{const{type:A}=e,pe=k.value,Me=G.value,Je=J.value;return e.clearable&&(Je||pe||Me||A==="text"||A==="search")}),Ee=ue(()=>e.startDate?u.toStringDate(e.startDate):null),Re=ue(()=>e.endDate?u.toStringDate(e.endDate):null),Pe=ue(()=>["date","week","month","quarter","year"].indexOf(e.type)>-1),le=ue(()=>{const{modelValue:A,multiple:pe}=e,Me=G.value,Je=Te.value;return pe&&A&&Me?u.toValueString(A).split(",").map(Rt=>{const ot=F(Rt,Je);return u.isValidDate(ot)?ot:null}):[]}),Xe=ue(()=>{const A=le.value,pe=Te.value;return A.map(Me=>u.toDateString(Me,pe))}),me=ue(()=>{const A=le.value,pe=te.value;return A.map(Me=>u.toDateString(Me,pe)).join(", ")}),Te=ue(()=>{const{type:A,valueFormat:pe}=e;return pe||(A==="time"?"HH:mm:ss":A==="datetime"?"yyyy-MM-dd HH:mm:ss":"yyyy-MM-dd")}),Ae=ue(()=>{const{modelValue:A}=e,pe=G.value,Me=Te.value;let Je=null;if(A&&pe){const Rt=F(A,Me);u.isValidDate(Rt)&&(Je=Rt)}return Je}),tt=ue(()=>{const A=Ee.value,{selectMonth:pe}=y;return pe&&A?pe<=A:!1}),Ue=ue(()=>{const A=Re.value,{selectMonth:pe}=y;return pe&&A?pe>=A:!1}),ut=ue(()=>{const{datetimePanelValue:A}=y,pe=Wt.value;return A?u.toDateString(A,pe?"HH:mm:ss":"HH:mm"):""}),_e=ue(()=>{const A=Ae.value,pe=z.value;return A&&pe?(A.getHours()*3600+A.getMinutes()*60+A.getSeconds())*1e3:0}),te=ue(()=>{const{labelFormat:A}=e;return G.value?A||lr(`vxe.input.date.labelFormat.${e.type}`):""}),$e=ue(()=>{const{selectMonth:A,currentDate:pe}=y,{yearSize:Me}=p,Je=[];if(A&&pe){const Rt=pe.getFullYear(),ot=A.getFullYear(),Mt=new Date(ot-ot%Me,0,1);for(let kt=-4;kt<Me+4;kt++){const Ge=u.getWhatYear(Mt,kt,"first"),$t=Ge.getFullYear();Je.push({date:Ge,isCurrent:!0,isPrev:kt<0,isNow:Rt===$t,isNext:kt>=Me,year:$t})}}return Je}),ce=ue(()=>{const A=G.value;let pe="",Me="";if(A){const{datePanelType:Je,selectMonth:Rt}=y,ot=$e.value;let Mt="",kt;Rt&&(Mt=Rt.getFullYear(),kt=Rt.getMonth()+1),Je==="quarter"||Je==="month"?pe=lr("vxe.datePicker.yearTitle",[Mt]):Je==="year"?pe=ot.length?`${ot[0].year} - ${ot[ot.length-1].year}`:"":(pe=lr("vxe.datePicker.yearTitle",[Mt]),Me=kt?lr(`vxe.input.date.m${kt}`):"-")}return{y:pe,m:Me}}),Le=ue(()=>{const{startDay:A,startWeek:pe}=e;return u.toNumber(u.isNumber(A)||u.isString(A)?A:pe)}),nt=ue(()=>{const A=[];if(G.value){let Me=Le.value;A.push(Me);for(let Je=0;Je<6;Je++)Me>=6?Me=0:Me++,A.push(Me)}return A}),et=ue(()=>G.value?nt.value.map(Me=>({value:Me,label:lr(`vxe.input.date.weeks.w${Me}`)})):[]),vt=ue(()=>{if(G.value){const pe=et.value;return[{label:lr("vxe.input.date.weeks.w")}].concat(pe)}return[]}),xt=ue(()=>{const A=$e.value;return u.chunk(A,4)}),Dt=ue(()=>{const{selectMonth:A,currentDate:pe}=y,{quarterSize:Me}=p,Je=[];if(A&&pe){const Rt=pe.getFullYear(),ot=tT(pe),Mt=u.getWhatYear(A,0,"first"),kt=Mt.getFullYear();for(let Ge=-2;Ge<Me-2;Ge++){const $t=u.getWhatQuarter(Mt,Ge),dr=$t.getFullYear(),fr=tT($t),Qr=dr<kt;Je.push({date:$t,isPrev:Qr,isCurrent:dr===kt,isNow:dr===Rt&&fr===ot,isNext:!Qr&&dr>kt,quarter:fr})}}return Je}),gt=ue(()=>{const A=Dt.value;return u.chunk(A,2)}),Tt=ue(()=>{const{selectMonth:A,currentDate:pe}=y,{monthSize:Me}=p,Je=[];if(A&&pe){const Rt=pe.getFullYear(),ot=pe.getMonth(),Mt=u.getWhatYear(A,0,"first").getFullYear();for(let kt=-4;kt<Me-4;kt++){const Ge=u.getWhatYear(A,0,kt),$t=Ge.getFullYear(),dr=Ge.getMonth(),fr=$t<Mt;Je.push({date:Ge,isPrev:fr,isCurrent:$t===Mt,isNow:$t===Rt&&dr===ot,isNext:!fr&&$t>Mt,month:dr})}}return Je}),ht=ue(()=>{const A=Tt.value;return u.chunk(A,4)}),yt=ue(()=>{const{selectMonth:A,currentDate:pe}=y,Me=[];if(A&&pe){const Je=_e.value,Rt=nt.value,ot=pe.getFullYear(),Mt=pe.getMonth(),kt=pe.getDate(),Ge=A.getFullYear(),$t=A.getMonth(),dr=A.getDay(),fr=-Rt.indexOf(dr),Qr=new Date(u.getWhatDay(A,fr).getTime()+Je);for(let Jn=0;Jn<42;Jn++){const Vn=u.getWhatDay(Qr,Jn),mo=Vn.getFullYear(),xn=Vn.getMonth(),On=Vn.getDate(),Ea=Vn<A;Me.push({date:Vn,isPrev:Ea,isCurrent:mo===Ge&&xn===$t,isNow:mo===ot&&xn===Mt&&On===kt,isNext:!Ea&&$t!==xn,label:On})}}return Me}),Lt=ue(()=>{const A=yt.value;return u.chunk(A,7)}),Vt=ue(()=>{const A=Lt.value,pe=Le.value;return A.map(Me=>{const Je=Me[0];return[{date:Je.date,isWeekNumber:!0,isPrev:!1,isCurrent:!1,isNow:!1,isNext:!1,label:u.getYearWeek(Je.date,pe)}].concat(Me)})}),Bt=ue(()=>{const A=[];if(z.value)for(let Me=0;Me<24;Me++)A.push({value:Me,label:(""+Me).padStart(2,"0")});return A}),Nt=ue(()=>{const A=[];if(z.value)for(let Me=0;Me<60;Me++)A.push({value:Me,label:(""+Me).padStart(2,"0")});return A}),Kt=ue(()=>{const A=Te.value;return!/HH/.test(A)||/mm/.test(A)}),Wt=ue(()=>{const A=Te.value;return!/HH/.test(A)||/ss/.test(A)}),Fe=ue(()=>Nt.value),Oe=ue(()=>{const{type:A,editable:pe,multiple:Me}=e;return V.value||Me||!pe||A==="week"||A==="quarter"}),Ye=ue(()=>{const{type:A}=e,{showPwd:pe}=y,Me=k.value,Je=G.value,Rt=J.value;return Je||Me||Rt&&pe||A==="number"?"text":A}),rt=ue(()=>{const{placeholder:A}=e;if(A)return qo(A);if(u.eqNull(A)){const pe=ze().input.placeholder;return pe?qo(pe):lr("vxe.base.pleaseInput")}return A}),at=ue(()=>{const{type:A,immediate:pe}=e;return pe||!(A==="text"||A==="number"||A==="integer"||A==="float")}),ee=ue(()=>{const{type:A}=e,{inputValue:pe}=y;return k.value?A==="integer"?u.toInteger(sa(pe)):u.toNumber(sa(pe)):0}),Ie=ue(()=>{const{min:A}=e,{inputValue:pe}=y,Me=k.value,Je=ee.value;return(pe||pe===0)&&Me&&A!==null?Je<=u.toNumber(A):!1}),Ne=ue(()=>{const{max:A}=e,{inputValue:pe}=y,Me=k.value,Je=ee.value;return(pe||pe===0)&&Me&&A!==null?Je>=u.toNumber(A):!1}),pt=A=>{const{type:pe,exponential:Me}=e,Je=U.value,Rt=se.value,ot=pe==="float"?ms(A,Rt):u.toValueString(A);return Me&&(A===ot||u.toValueString(A).toLowerCase()===u.toNumber(ot).toExponential())?A:ot.slice(0,Je)},He=A=>{n("update:modelValue",A)},dt=A=>{const{inputValue:pe}=y;L.dispatchEvent(A.type,{value:pe},A)},Ze=(A,pe)=>{e.trim&&(A=`${A||""}`.trim()),y.inputValue=A,He(A),L.dispatchEvent("input",{value:A},pe),u.toValueString(e.modelValue)!==A&&(L.dispatchEvent("change",{value:A},pe),!l&&!a&&h&&c&&h.triggerItemEvent(pe,c.itemConfig.field,A))},$=(A,pe)=>{const Me=G.value,Je=at.value;y.inputValue=A,Me||(Je?Ze(A,pe):L.dispatchEvent("input",{value:A},pe))},H=A=>{const Me=A.target.value;$(Me,A)},Z=A=>{at.value||dt(A)},xe=A=>{const{inputValue:pe}=y,Me=at.value,Je=pe;Me||Ze(Je,A),Pt(),y.visiblePanel||(y.isActivated=!1),L.dispatchEvent("blur",{value:Je},A),!l&&!a&&h&&c&&h.triggerItemEvent(A,c.itemConfig.field,Je)},De=A=>{const{inputValue:pe}=y,Me=k.value,Je=G.value;y.isActivated=!0,Me?y.inputValue=Pl(pe)?"":`${u.toNumber(pe)}`:Je&&po(A),dt(A)},ke=A=>{if(!j.value){const{inputValue:Me}=y;L.dispatchEvent("prefix-click",{value:Me},A)}},Be=()=>new Promise(A=>{y.visiblePanel=!1,p.hpTimeout=setTimeout(()=>{y.isAniVisible=!1,A()},350)}),qe=(A,pe)=>{const{type:Me,autoFocus:Je}=e,Rt=k.value;G.value&&Be(),(Je||Je===null)&&(Rt||["text","search","password"].indexOf(Me)>-1)&&focus(),Ze("",A),L.dispatchEvent("clear",{value:pe},A)},it=A=>{if(!j.value){const{inputValue:Me}=y;L.dispatchEvent("suffix-click",{value:Me},A)}},ft=A=>{const{type:pe}=e,Me=te.value,Je=Te.value,Rt=Le.value;let ot=null,Mt="";if(A&&(ot=F(A,Je)),u.isValidDate(ot)){if(Mt=u.toDateString(ot,Me,{firstDay:Rt}),Me&&pe==="week"){const kt=u.getYearWeek(ot,Rt),$t=u.getWhatWeek(ot,0,kt===1?(6+Rt)%7:Rt,Rt).getFullYear();if($t!==ot.getFullYear()){const dr=Me.indexOf("yyyy");if(dr>-1){const fr=Number(Mt.substring(dr,dr+4));fr&&!isNaN(fr)&&(Mt=Mt.replace(`${fr}`,`${$t}`))}}}}else ot=null;y.datePanelValue=ot,y.datePanelLabel=Mt},Ve=()=>{const A=G.value,{inputValue:pe}=y;A&&(ft(pe),y.inputValue=e.multiple?me.value:y.datePanelLabel)},wt=()=>{const{type:A}=e,{inputValue:pe}=y,Me=G.value,Je=se.value;if(Me)Ve();else if(A==="float"&&pe){const Rt=ms(pe,Je);pe!==Rt&&Ze(Rt,{type:"init"})}},ir=A=>e.max===null||e.max===""||u.toNumber(A)<=u.toNumber(e.max),be=A=>e.min===null||e.min===""||u.toNumber(A)>=u.toNumber(e.min),Ke=()=>{y.inputValue=e.multiple?me.value:y.datePanelLabel},Ft=A=>{const pe=Le.value,Me=u.getYearWeek(A,pe),Je=u.getWhatWeek(A,0,pe,pe),Rt=u.getWhatMonth(Me===1?u.getWhatDay(Je,6):A,0,"first");u.isEqual(Rt,y.selectMonth)||(y.selectMonth=Rt)},Ct=A=>{const{modelValue:pe,multiple:Me}=e,{datetimePanelValue:Je}=y,Rt=z.value,ot=Te.value,Mt=Le.value;if(e.type==="week"){const Ge=u.toNumber(e.selectDay);A=u.getWhatWeek(A,0,Ge,Mt)}else Rt&&(A.setHours(Je.getHours()),A.setMinutes(Je.getMinutes()),A.setSeconds(Je.getSeconds()));const kt=u.toDateString(A,ot,{firstDay:Mt});if(Ft(A),Me){const Ge=Xe.value;if(Rt){const $t=[...le.value],dr=[],fr=u.findIndexOf($t,Qr=>u.isDateSame(A,Qr,"yyyyMMdd"));fr===-1?$t.push(A):$t.splice(fr,1),$t.forEach(Qr=>{Qr&&(Qr.setHours(Je.getHours()),Qr.setMinutes(Je.getMinutes()),Qr.setSeconds(Je.getSeconds()),dr.push(Qr))}),Ze(dr.map(Qr=>u.toDateString(Qr,ot)).join(","),{type:"update"})}else Ge.some($t=>u.isEqual($t,kt))?Ze(Ge.filter($t=>!u.isEqual($t,kt)).join(","),{type:"update"}):Ze(Ge.concat([kt]).join(","),{type:"update"})}else u.isEqual(pe,kt)||Ze(kt,{type:"update"})},Pt=()=>{const{type:A,min:pe,max:Me,exponential:Je}=e,{inputValue:Rt,datetimePanelValue:ot}=y,Mt=k.value,kt=G.value,Ge=te.value;if(!Oe.value){if(Mt){if(Rt){const dr=`${sa(Rt)}`;if(dr){let fr=A==="integer"?u.toInteger(dr):u.toNumber(dr);if(be(fr)?ir(fr)||(fr=Me):fr=pe,Je){const Qr=u.toValueString(Rt).toLowerCase();Qr===u.toNumber(fr).toExponential()&&(fr=Qr)}Ze(pt(fr),{type:"check"})}else{let fr="";(pe||pe===0)&&(fr=`${pe}`),Ze(fr,{type:"check"})}}}else if(kt)if(Rt){let dr=F(Rt,Ge);if(u.isValidDate(dr))if(A==="time")dr=u.toDateString(dr,Ge),Rt!==dr&&Ze(dr,{type:"check"}),y.inputValue=dr;else{let fr=!1;const Qr=Le.value;if(A==="datetime"){const Jn=Ae.value;(Rt!==u.toDateString(Jn,Ge)||Rt!==u.toDateString(dr,Ge))&&(fr=!0,ot.setHours(dr.getHours()),ot.setMinutes(dr.getMinutes()),ot.setSeconds(dr.getSeconds()))}else fr=!0;y.inputValue=u.toDateString(dr,Ge,{firstDay:Qr}),fr&&Ct(dr)}else Ke()}else Ze("",{type:"check"})}},zt=A=>{const{showPwd:pe}=y,Me=j.value,Je=V.value;!Me&&!Je&&(y.showPwd=!pe),L.dispatchEvent("toggle-visible",{visible:y.showPwd},A)},Xt=A=>{L.dispatchEvent("search-click",{},A)},_t=(A,pe)=>{const{min:Me,max:Je,type:Rt}=e,{inputValue:ot}=y,Mt=re.value,kt=Rt==="integer"?u.toInteger(sa(ot)):u.toNumber(sa(ot)),Ge=A?u.add(kt,Mt):u.subtract(kt,Mt);let $t;be(Ge)?ir(Ge)?$t=Ge:$t=Je:$t=Me,$(pt($t),pe)},st=A=>{const pe=j.value,Me=V.value,Je=Ie.value;Tr(),!pe&&!Me&&!Je&&_t(!1,A),L.dispatchEvent("next-number",{value:y.inputValue},A)},Et=A=>{p.dnTimeout=setTimeout(()=>{st(A),Et(A)},60)},Ut=A=>{const pe=j.value,Me=V.value,Je=Ne.value;Tr(),!pe&&!Me&&!Je&&_t(!0,A),L.dispatchEvent("prev-number",{value:y.inputValue},A)},qt=A=>{const pe=rr.hasKey(A,Mr.ARROW_UP),Me=rr.hasKey(A,Mr.ARROW_DOWN);(pe||Me)&&(A.preventDefault(),pe?Ut(A):st(A))},cr=A=>{const{type:pe,exponential:Me,controls:Je}=e;if(k.value){const ot=u$(A),Mt=A.shiftKey,kt=A.altKey,Ge=A.keyCode,$t=rr.hasKey(A,Mr.ESCAPE),dr=rr.hasKey(A,Mr.ARROW_UP),fr=rr.hasKey(A,Mr.ARROW_DOWN);!ot&&!Mt&&!kt&&(rr.hasKey(A,Mr.SPACEBAR)||pe==="integer"&&Ge===110||(!Me||Ge!==69)&&Ge>=65&&Ge<=90||Ge>=186&&Ge<=188||Ge>=191)&&A.preventDefault(),$t?Pt():(dr||fr)&&Je&&qt(A)}dt(A)},or=A=>{dt(A)},Tr=()=>{const{dnTimeout:A}=p;A&&(clearTimeout(A),p.dnTimeout=void 0)},nn=A=>{p.dnTimeout=setTimeout(()=>{Ut(A),nn(A)},60)},Fr=A=>{if(Tr(),A.button===0){const pe=Ic(A.currentTarget,"is--prev");pe?Ut(A):st(A),p.dnTimeout=setTimeout(()=>{pe?nn(A):Et(A)},500)}},Xr=A=>{if(k.value&&e.controls&&y.isActivated){const Me=A.deltaY;Me>0?st(A):Me<0&&Ut(A),A.preventDefault()}dt(A)},zr=(A,pe)=>{const Me=Le.value,Je=u.getYearWeek(A,Me),Rt=u.getWhatWeek(A,0,Me,Me),ot=u.getWhatMonth(Je===1?u.getWhatDay(Rt,6):A,pe,"first");y.selectMonth=ot},Hr=()=>{const A=u.getWhatDay(Date.now(),0,"first");y.currentDate=A,zr(A,0)},Zr=()=>{y.datePanelType="year"},Or=()=>{let{datePanelType:A}=y;A==="month"||A==="quarter"?A="year":A="month",y.datePanelType=A},er=A=>{const{type:pe}=e,{datePanelType:Me,selectMonth:Je,inputValue:Rt}=y,{yearSize:ot}=p,Mt=Rt;if(!tt.value){let Ge;pe==="year"?Ge=u.getWhatYear(Je,-ot,"first"):pe==="month"||pe==="quarter"?Me==="year"?Ge=u.getWhatYear(Je,-ot,"first"):Ge=u.getWhatYear(Je,-1,"first"):Me==="year"?Ge=u.getWhatYear(Je,-ot,"first"):Me==="month"?Ge=u.getWhatYear(Je,-1,"first"):Ge=u.getWhatMonth(Je,-1,"first"),y.selectMonth=Ge,L.dispatchEvent("date-prev",{viewType:Me,viewDate:Ge,value:Mt,type:pe},A)}},Ur=A=>{Hr(),e.multiple||(Ct(y.currentDate),Be()),L.dispatchEvent("date-today",{type:e.type},A)},Nr=A=>{const{type:pe}=e,{datePanelType:Me,selectMonth:Je,inputValue:Rt}=y,{yearSize:ot}=p,Mt=Rt;if(!Ue.value){let Ge;pe==="year"?Ge=u.getWhatYear(Je,ot,"first"):pe==="month"||pe==="quarter"?Me==="year"?Ge=u.getWhatYear(Je,ot,"first"):Ge=u.getWhatYear(Je,1,"first"):Me==="year"?Ge=u.getWhatYear(Je,ot,"first"):Me==="month"?Ge=u.getWhatYear(Je,1,"first"):Ge=u.getWhatMonth(Je,1,"first"),y.selectMonth=Ge,L.dispatchEvent("date-next",{viewType:Me,viewDate:Ge,value:Mt,type:pe},A)}},jr=A=>{const{disabledMethod:pe}=e,{datePanelType:Me}=y,Je=Ee.value,Rt=Re.value,{date:ot}=A;return Je&&Je.getTime()>ot.getTime()||Rt&&Rt.getTime()<ot.getTime()?!0:pe?pe({type:Me,viewType:Me,date:ot,$input:Y}):!1},Jr=A=>{const{type:pe,multiple:Me}=e,{datePanelType:Je}=y;pe==="month"?Je==="year"?(y.datePanelType="month",Ft(A)):(Ct(A),Me||Be()):pe==="year"?(Ct(A),Me||Be()):pe==="quarter"?Je==="year"?(y.datePanelType="quarter",Ft(A)):(Ct(A),Me||Be()):Je==="month"?(y.datePanelType=pe==="week"?pe:"day",Ft(A)):Je==="year"?(y.datePanelType="month",Ft(A)):(Ct(A),pe==="datetime"||Me||Be())},on=A=>{jr(A)||Jr(A.date)},qn=A=>{jr({date:A})||(yt.value.some(Me=>u.isDateSame(Me.date,A,"yyyyMMdd"))||Ft(A),ft(A))},Hn=A=>{jr({date:A})||($e.value.some(Me=>u.isDateSame(Me.date,A,"yyyy"))||Ft(A),ft(A))},uo=A=>{jr({date:A})||(Dt.value.some(Me=>u.isDateSame(Me.date,A,"yyyyq"))||Ft(A),ft(A))},fo=A=>{jr({date:A})||(Tt.value.some(Me=>u.isDateSame(Me.date,A,"yyyyMM"))||Ft(A),ft(A))},Dn=A=>{if(!jr(A)){const{datePanelType:pe}=y;pe==="month"?fo(A.date):pe==="quarter"?uo(A.date):pe==="year"?Hn(A.date):qn(A.date)}},Yn=A=>{if(A){const pe=A.offsetHeight,Me=A.parentNode;Me.scrollTop=A.offsetTop-pe*4}},Oo=A=>{y.datetimePanelValue=new Date(y.datetimePanelValue.getTime()),Yn(A.currentTarget)},ha=(A,pe)=>{y.datetimePanelValue.setHours(pe.value),Oo(A)},An=()=>{const{multiple:A}=e,{datetimePanelValue:pe}=y,Me=Ae.value,Je=z.value;if(Je){const Rt=Te.value;if(A){const ot=Xe.value;if(Je){const Mt=[...le.value],kt=[];Mt.forEach(Ge=>{Ge&&(Ge.setHours(pe.getHours()),Ge.setMinutes(pe.getMinutes()),Ge.setSeconds(pe.getSeconds()),kt.push(Ge))}),Ze(kt.map(Ge=>u.toDateString(Ge,Rt)).join(","),{type:"update"})}else Ze(ot.join(","),{type:"update"})}else Ct(Me||y.currentDate)}Be()},qa=(A,pe)=>{y.datetimePanelValue.setMinutes(pe.value),Oo(A)},C=(A,pe)=>{y.datetimePanelValue.setSeconds(pe.value),Oo(A)},To=A=>{const{isActivated:pe,datePanelValue:Me,datePanelType:Je}=y;if(pe){A.preventDefault();const Rt=rr.hasKey(A,Mr.ARROW_LEFT),ot=rr.hasKey(A,Mr.ARROW_UP),Mt=rr.hasKey(A,Mr.ARROW_RIGHT),kt=rr.hasKey(A,Mr.ARROW_DOWN);if(Je==="year"){let Ge=u.getWhatYear(Me||Date.now(),0,"first");Rt?Ge=u.getWhatYear(Ge,-1):ot?Ge=u.getWhatYear(Ge,-4):Mt?Ge=u.getWhatYear(Ge,1):kt&&(Ge=u.getWhatYear(Ge,4)),Hn(Ge)}else if(Je==="quarter"){let Ge=u.getWhatQuarter(Me||Date.now(),0,"first");Rt?Ge=u.getWhatQuarter(Ge,-1):ot?Ge=u.getWhatQuarter(Ge,-2):Mt?Ge=u.getWhatQuarter(Ge,1):kt&&(Ge=u.getWhatQuarter(Ge,2)),uo(Ge)}else if(Je==="month"){let Ge=u.getWhatMonth(Me||Date.now(),0,"first");Rt?Ge=u.getWhatMonth(Ge,-1):ot?Ge=u.getWhatMonth(Ge,-4):Mt?Ge=u.getWhatMonth(Ge,1):kt&&(Ge=u.getWhatMonth(Ge,4)),fo(Ge)}else{let Ge=Me||u.getWhatDay(Date.now(),0,"first");const $t=Le.value;Rt?Ge=u.getWhatDay(Ge,-1):ot?Ge=u.getWhatWeek(Ge,-1,$t):Mt?Ge=u.getWhatDay(Ge,1):kt&&(Ge=u.getWhatWeek(Ge,1,$t)),qn(Ge)}}},ta=A=>{const{isActivated:pe}=y;if(pe){const Me=rr.hasKey(A,Mr.PAGE_UP);A.preventDefault(),Me?er(A):Nr(A)}},Ar=()=>{const{type:A}=e,pe=z.value,Me=Ae.value;["year","quarter","month","week"].indexOf(A)>-1?y.datePanelType=A:y.datePanelType="day",y.currentDate=u.getWhatDay(Date.now(),0,"first"),Me?(zr(Me,0),ft(Me)):Hr(),pe&&(y.datetimePanelValue=y.datePanelValue||u.getWhatDay(Date.now(),0,"first"),ge(()=>{const Je=W.value;u.arrayEach(Je.querySelectorAll("li.is--selected"),Rt=>{Yn(Rt)})}))},Vo=()=>{y.panelIndex<Vs()&&(y.panelIndex=Ei())},zo=()=>ge().then(()=>{const{placement:A}=e,{panelIndex:pe}=y,Me=O.value,Je=D.value,Rt=M.value;if(Me&&Je){const ot=Me.offsetHeight,Mt=Me.offsetWidth,kt=Je.offsetHeight,Ge=Je.offsetWidth,$t=5,dr={zIndex:pe},{boundingTop:fr,boundingLeft:Qr,visibleHeight:Jn,visibleWidth:Vn}=d$(Me);let mo="bottom";if(Rt){let xn=Qr,On=fr+ot;A==="top"?(mo="top",On=fr-kt):A||(On+kt+$t>Jn&&(mo="top",On=fr-kt),On<$t&&(mo="bottom",On=fr+ot)),xn+Ge+$t>Vn&&(xn-=xn+Ge+$t-Vn),xn<$t&&(xn=$t),Object.assign(dr,{left:`${xn}px`,top:`${On}px`,minWidth:`${Mt}px`})}else A==="top"?(mo="top",dr.bottom=`${ot}px`):A||(dr.top=`${ot}px`,fr+ot+kt>Jn&&fr-ot-kt>$t&&(mo="top",dr.top="",dr.bottom=`${ot}px`));return y.panelStyle=dr,y.panelPlacement=mo,ge()}}),Tn=()=>{const{visiblePanel:A}=y,{hpTimeout:pe}=p,Me=j.value,Je=G.value;return!Me&&!A?(y.initialized||(y.initialized=!0),pe&&(clearTimeout(pe),p.hpTimeout=void 0),y.isActivated=!0,y.isAniVisible=!0,Je&&Ar(),setTimeout(()=>{y.visiblePanel=!0},10),Vo(),zo()):ge()},po=A=>{V.value||(A.preventDefault(),Tn())},go=A=>{dt(A)},Mo=A=>{const{visiblePanel:pe,isActivated:Me}=y,Je=G.value,Rt=g.value,ot=I.value;!j.value&&Me&&(y.isActivated=oo(A,Rt).flag||oo(A,ot).flag,y.isActivated||(Je?pe&&(Be(),Pt()):Pt()))},Pn=A=>{const{clearable:pe}=e,{visiblePanel:Me}=y,Je=j.value,Rt=G.value;if(!Je){const ot=rr.hasKey(A,Mr.TAB),Mt=rr.hasKey(A,Mr.DELETE),kt=rr.hasKey(A,Mr.ESCAPE),Ge=rr.hasKey(A,Mr.ENTER),$t=rr.hasKey(A,Mr.ARROW_LEFT),dr=rr.hasKey(A,Mr.ARROW_UP),fr=rr.hasKey(A,Mr.ARROW_RIGHT),Qr=rr.hasKey(A,Mr.ARROW_DOWN),Jn=rr.hasKey(A,Mr.PAGE_UP),Vn=rr.hasKey(A,Mr.PAGE_DOWN),mo=$t||dr||fr||Qr;let xn=y.isActivated;ot?(xn&&Pt(),xn=!1,y.isActivated=xn):mo?Rt&&xn&&(Me?To(A):(dr||Qr)&&po(A)):Ge?Rt&&(Me?y.datePanelValue?Jr(y.datePanelValue):Be():xn&&po(A)):(Jn||Vn)&&Rt&&xn&&ta(A),ot||kt?Me&&Be():Mt&&pe&&xn&&qe(A,null)}},Kn=A=>{const{visiblePanel:pe}=y;if(!j.value&&pe){const Je=I.value;oo(A,Je).flag?zo():(Be(),Pt())}},Io=()=>{const{isActivated:A,visiblePanel:pe}=y;if(pe&&Be(),A&&(y.isActivated=!1),pe||A){const Me=O.value;Pt(),Me&&Me.blur()}},ho=(A,pe)=>{const{festivalMethod:Me}=e;if(Me){const{datePanelType:Je}=y,Rt=Me({type:Je,viewType:Je,date:A.date,$input:Y}),ot=Rt?u.isString(Rt)?{label:Rt}:Rt:{},Mt=ot.extra?u.isString(ot.extra)?{label:ot.extra}:ot.extra:null,kt=[m("span",{class:["vxe-input--date-label",{"is-notice":ot.notice}]},Mt&&Mt.label?[m("span",`${pe||""}`),m("span",{class:["vxe-input--date-label--extra",Mt.important?"is-important":"",Mt.className],style:Mt.style},u.toValueString(Mt.label))]:[`${pe||""}`])],Ge=ot.label;if(Ge){const $t=u.toValueString(Ge).split(",");kt.push(m("span",{class:["vxe-input--date-festival",ot.important?"is-important":"",ot.className],style:ot.style},[$t.length>1?m("span",{class:["vxe-input--date-festival--overlap",`overlap--${$t.length}`]},$t.map(dr=>m("span",dr.substring(0,3)))):m("span",{class:"vxe-input--date-festival--label"},$t[0].substring(0,3))]))}return kt}return[`${pe||""}`]},Go=()=>{const{multiple:A}=e,{datePanelType:pe,datePanelValue:Me}=y,Je=Ae.value,Rt=et.value,ot=Lt.value,Mt=le.value,kt="yyyyMMdd";return[m("table",{class:`vxe-input--date-${pe}-view`,cellspacing:0,cellpadding:0,border:0},[m("thead",[m("tr",Rt.map(Ge=>m("th",Ge.label)))]),m("tbody",ot.map(Ge=>m("tr",Ge.map($t=>m("td",{class:{"is--prev":$t.isPrev,"is--current":$t.isCurrent,"is--now":$t.isNow,"is--next":$t.isNext,"is--disabled":jr($t),"is--selected":A?Mt.some(dr=>u.isDateSame(dr,$t.date,kt)):u.isDateSame(Je,$t.date,kt),"is--hover":u.isDateSame(Me,$t.date,kt)},onClick:()=>on($t),onMouseenter:()=>Dn($t)},ho($t,$t.label))))))])]},va=()=>{const{multiple:A}=e,{datePanelType:pe,datePanelValue:Me}=y,Je=Ae.value,Rt=vt.value,ot=Vt.value,Mt=le.value,kt="yyyyMMdd";return[m("table",{class:`vxe-input--date-${pe}-view`,cellspacing:0,cellpadding:0,border:0},[m("thead",[m("tr",Rt.map(Ge=>m("th",Ge.label)))]),m("tbody",ot.map(Ge=>{const $t=A?Ge.some(fr=>Mt.some(Qr=>u.isDateSame(Qr,fr.date,kt))):Ge.some(fr=>u.isDateSame(Je,fr.date,kt)),dr=Ge.some(fr=>u.isDateSame(Me,fr.date,kt));return m("tr",Ge.map(fr=>m("td",{class:{"is--prev":fr.isPrev,"is--current":fr.isCurrent,"is--now":fr.isNow,"is--next":fr.isNext,"is--disabled":jr(fr),"is--selected":$t,"is--hover":dr},onClick:()=>on(fr),onMouseenter:()=>Dn(fr)},ho(fr,fr.label))))}))])]},ma=()=>{const{multiple:A}=e,{datePanelType:pe,datePanelValue:Me}=y,Je=Ae.value,Rt=ht.value,ot=le.value,Mt="yyyyMM";return[m("table",{class:`vxe-input--date-${pe}-view`,cellspacing:0,cellpadding:0,border:0},[m("tbody",Rt.map(kt=>m("tr",kt.map(Ge=>m("td",{class:{"is--prev":Ge.isPrev,"is--current":Ge.isCurrent,"is--now":Ge.isNow,"is--next":Ge.isNext,"is--disabled":jr(Ge),"is--selected":A?ot.some($t=>u.isDateSame($t,Ge.date,Mt)):u.isDateSame(Je,Ge.date,Mt),"is--hover":u.isDateSame(Me,Ge.date,Mt)},onClick:()=>on(Ge),onMouseenter:()=>Dn(Ge)},ho(Ge,lr(`vxe.input.date.months.m${Ge.month}`)))))))])]},Xn=()=>{const{multiple:A}=e,{datePanelType:pe,datePanelValue:Me}=y,Je=Ae.value,Rt=gt.value,ot=le.value,Mt="yyyyq";return[m("table",{class:`vxe-input--date-${pe}-view`,cellspacing:0,cellpadding:0,border:0},[m("tbody",Rt.map(kt=>m("tr",kt.map(Ge=>m("td",{class:{"is--prev":Ge.isPrev,"is--current":Ge.isCurrent,"is--now":Ge.isNow,"is--next":Ge.isNext,"is--disabled":jr(Ge),"is--selected":A?ot.some($t=>u.isDateSame($t,Ge.date,Mt)):u.isDateSame(Je,Ge.date,Mt),"is--hover":u.isDateSame(Me,Ge.date,Mt)},onClick:()=>on(Ge),onMouseenter:()=>Dn(Ge)},ho(Ge,lr(`vxe.input.date.quarters.q${Ge.quarter}`)))))))])]},ba=()=>{const{multiple:A}=e,{datePanelType:pe,datePanelValue:Me}=y,Je=Ae.value,Rt=xt.value,ot=le.value,Mt="yyyy";return[m("table",{class:`vxe-input--date-${pe}-view`,cellspacing:0,cellpadding:0,border:0},[m("tbody",Rt.map(kt=>m("tr",kt.map(Ge=>m("td",{class:{"is--prev":Ge.isPrev,"is--current":Ge.isCurrent,"is--now":Ge.isNow,"is--next":Ge.isNext,"is--disabled":jr(Ge),"is--selected":A?ot.some($t=>u.isDateSame($t,Ge.date,Mt)):u.isDateSame(Je,Ge.date,Mt),"is--hover":u.isDateSame(Me,Ge.date,Mt)},onClick:()=>on(Ge),onMouseenter:()=>Dn(Ge)},ho(Ge,Ge.year))))))])]},xa=()=>{const{datePanelType:A}=y;switch(A){case"week":return va();case"month":return ma();case"quarter":return Xn();case"year":return ba()}return Go()},Zn=()=>{const{multiple:A}=e,{datePanelType:pe}=y,Me=tt.value,Je=Ue.value,Rt=ce.value;return[m("div",{class:"vxe-input--date-picker-header"},[m("div",{class:"vxe-input--date-picker-type-wrapper"},[pe==="year"?m("span",{class:"vxe-input--date-picker-label"},Rt.y):m("span",{class:"vxe-input--date-picker-btns"},[m("span",{class:"vxe-input--date-picker-btn",onClick:Zr},Rt.y),Rt.m?m("span",{class:"vxe-input--date-picker-btn",onClick:Or},Rt.m):vr()])]),m("div",{class:"vxe-input--date-picker-btn-wrapper"},[m("span",{class:["vxe-input--date-picker-btn vxe-input--date-picker-prev-btn",{"is--disabled":Me}],onClick:er},[m("i",{class:"vxe-icon-caret-left"})]),m("span",{class:"vxe-input--date-picker-btn vxe-input--date-picker-current-btn",onClick:Ur},[m("i",{class:"vxe-icon-dot"})]),m("span",{class:["vxe-input--date-picker-btn vxe-input--date-picker-next-btn",{"is--disabled":Je}],onClick:Nr},[m("i",{class:"vxe-icon-caret-right"})]),A&&Pe.value?m("span",{class:"vxe-input--date-picker-btn vxe-input--date-picker-confirm-btn"},[m("button",{class:"vxe-input--date-picker-confirm",type:"button",onClick:An},lr("vxe.button.confirm"))]):null])]),m("div",{class:"vxe-input--date-picker-body"},xa())]},Ca=()=>{const{datetimePanelValue:A}=y,pe=ut.value,Me=Bt.value,Je=Kt.value,Rt=Nt.value,ot=Wt.value,Mt=Fe.value;return[m("div",{class:"vxe-input--time-picker-header"},[Je?m("span",{class:"vxe-input--time-picker-title"},pe):Ht(),m("div",{class:"vxe-input--time-picker-btn"},[m("button",{class:"vxe-input--time-picker-confirm",type:"button",onClick:An},lr("vxe.button.confirm"))])]),m("div",{ref:W,class:"vxe-input--time-picker-body"},[m("ul",{class:"vxe-input--time-picker-hour-list"},Me.map((kt,Ge)=>m("li",{key:Ge,class:{"is--selected":A&&A.getHours()===kt.value},onClick:$t=>ha($t,kt)},kt.label))),Je?m("ul",{class:"vxe-input--time-picker-minute-list"},Rt.map((kt,Ge)=>m("li",{key:Ge,class:{"is--selected":A&&A.getMinutes()===kt.value},onClick:$t=>qa($t,kt)},kt.label))):Ht(),Je&&ot?m("ul",{class:"vxe-input--time-picker-second-list"},Mt.map((kt,Ge)=>m("li",{key:Ge,class:{"is--selected":A&&A.getSeconds()===kt.value},onClick:$t=>C($t,kt)},kt.label))):Ht()])]},kn=()=>{const{type:A}=e,{initialized:pe,isAniVisible:Me,visiblePanel:Je,panelPlacement:Rt,panelStyle:ot}=y,Mt=E.value,kt=M.value,Ge=G.value,$t=[];return Ge?(A==="datetime"?$t.push(m("div",{key:A,ref:I,class:"vxe-input--panel-layout-wrapper"},[m("div",{class:"vxe-input--panel-left-wrapper"},Zn()),m("div",{class:"vxe-input--panel-right-wrapper"},Ca())])):A==="time"?$t.push(m("div",{key:A,ref:I,class:"vxe-input--panel-wrapper"},Ca())):$t.push(m("div",{key:A||"default",ref:I,class:"vxe-input--panel-wrapper"},Zn())),m(Bl,{to:"body",disabled:kt?!pe:!0},[m("div",{ref:D,class:["vxe-table--ignore-clear vxe-input--panel",`type--${A}`,{[`size--${Mt}`]:Mt,"is--transfer":kt,"ani--leave":Me,"ani--enter":Je}],placement:Rt,style:ot},Je||Me?$t:[])])):Ht()},an=()=>{const A=Ne.value,pe=Ie.value;return m("div",{class:"vxe-input--control-icon"},[m("div",{class:"vxe-input--number-icon"},[m("div",{class:["vxe-input--number-btn is--prev",{"is--disabled":A}],onMousedown:Fr,onMouseup:Tr,onMouseleave:Tr},[m("i",{class:gr().INPUT_PLUS_NUM})]),m("div",{class:["vxe-input--number-btn is--next",{"is--disabled":pe}],onMousedown:Fr,onMouseup:Tr,onMouseleave:Tr},[m("i",{class:gr().INPUT_MINUS_NUM})])])])},vo=()=>m("div",{class:"vxe-input--control-icon",onClick:po},[m("i",{class:["vxe-input--date-picker-icon",gr().DATE_PICKER_DATE]})]),ra=()=>m("div",{class:"vxe-input--control-icon",onClick:Xt},[m("i",{class:["vxe-input--search-icon",gr().INPUT_SEARCH]})]),Bn=()=>{const{showPwd:A}=y;return m("div",{class:"vxe-input--control-icon",onClick:zt},[m("i",{class:["vxe-input--password-icon",A?gr().PASSWORD_INPUT_SHOW_PWD:gr().PASSWORD_INPUT_HIDE_PWD]})])},Fo=()=>{const{prefixIcon:A}=e,pe=r.prefix;return pe||A?m("div",{class:"vxe-input--prefix",onClick:ke},[m("div",{class:"vxe-input--prefix-icon"},pe?dn(pe({})):[m("i",{class:A})])]):null},Wo=()=>{const{suffixIcon:A}=e,{inputValue:pe}=y,Me=r.suffix,Je=j.value,Rt=k.value,ot=G.value,Mt=J.value,kt=we.value,Ge=ve.value,$t=Mt||Rt||ot||kt;return Ge||Me||A||$t?m("div",{class:["vxe-input--suffix",{"is--clear":Ge&&!Je&&!(pe===""||u.eqNull(pe))}]},[Ge?m("div",{class:"vxe-input--clear-icon",onClick:qe},[m("i",{class:gr().INPUT_CLEAR})]):Ht(),$t?ya():Ht(),Me||A?m("div",{class:"vxe-input--suffix-icon",onClick:it},Me?dn(Me({})):[m("i",{class:A})]):Ht()]):null},ya=()=>{const{controls:A}=e,pe=k.value,Me=G.value,Je=J.value,Rt=we.value;return Je?Bn():pe&&A?an():Me?vo():Rt?ra():Ht()};L={dispatchEvent:(A,pe,Me)=>{n(A,Un(Me,{$input:Y},pe))},focus(){const A=O.value;return y.isActivated=!0,A.focus(),ge()},blur(){return O.value.blur(),y.isActivated=!1,ge()},select(){return O.value.select(),y.isActivated=!1,ge()},showPanel:Tn,hidePanel:Be,updatePlacement:zo},Object.assign(Y,L);const wa=()=>{const{className:A,controls:pe,type:Me,title:Je,align:Rt,showWordCount:ot,countMethod:Mt,name:kt,autoComplete:Ge,autocomplete:$t}=e,{inputValue:dr,visiblePanel:fr,isActivated:Qr}=y,Jn=E.value,Vn=j.value;if(q.value)return m("div",{ref:g,class:["vxe-input--readonly",`type--${Me}`,A]},dr);const xn=fe.value,On=ne.value,Ea=Oe.value,na=U.value,_i=Ye.value,uu=rt.value,du=ve.value,qi=ot&&["text","search"].includes(Me),Hi=Fo(),Bi=Wo();return m("div",{ref:g,class:["vxe-input",`type--${Me}`,A,{[`size--${Jn}`]:Jn,[`is--${Rt}`]:Rt,"is--controls":pe,"is--prefix":!!Hi,"is--suffix":!!Bi,"is--visible":fr,"is--count":qi,"is--disabled":Vn,"is--active":Qr,"show--clear":du&&!Vn&&!(dr===""||u.eqNull(dr))}],spellcheck:!1},[Hi||Ht(),m("div",{class:"vxe-input--wrapper",title:Je||null},[m("input",{ref:O,class:"vxe-input--inner",value:dr,name:kt,type:_i,placeholder:uu,maxlength:na,readonly:Ea,disabled:Vn,autocomplete:Ge||$t,onKeydown:cr,onKeyup:or,onClick:go,onInput:H,onChange:Z,onFocus:De,onBlur:xe})]),Bi||Ht(),kn(),qi?m("span",{class:["vxe-input--count",{"is--error":xn}]},Mt?`${Mt({value:dr})}`:`${On}${na?`/${na}`:""}`):Ht()])};return sr(()=>e.modelValue,A=>{y.inputValue=A,Ve()}),sr(()=>e.type,()=>{Object.assign(y,{inputValue:e.modelValue,datetimePanelValue:null,datePanelValue:null,datePanelLabel:"",datePanelType:"day",selectMonth:null,currentDate:null}),wt()}),sr(te,()=>{G.value&&(ft(y.datePanelValue),y.inputValue=e.multiple?me.value:y.datePanelLabel)}),jn(()=>{const{type:A}=e;["date","time","datetime","week","month","quarter","year"].includes(A)?Wa("vxe.error.useNew",[`<vxe-input type="${A}" ... />`,`<vxe-date-picker type="${A}" ... />`]):["number","integer","float"].includes(A)?Wa("vxe.error.useNew",[`<vxe-input type="${A}" ... />`,`<vxe-number-input type="${A}" ... />`]):["password"].includes(A)&&Wa("vxe.error.useNew",[`<vxe-input type="${A}" ... />`,"<vxe-password-input ... />"]);const pe=O.value;pe&&pe.addEventListener("wheel",Xr,{passive:!1}),rr.on(Y,"mousewheel",Kn),rr.on(Y,"mousedown",Mo),rr.on(Y,"keydown",Pn),rr.on(Y,"blur",Io)}),Rs(()=>{Tr(),Pt();const A=O.value;A&&A.removeEventListener("wheel",Xr),rr.off(Y,"mousewheel"),rr.off(Y,"mousedown"),rr.off(Y,"keydown"),rr.off(Y,"blur")}),wt(),Y.renderVN=wa,Y},render(){return this.renderVN()}}),h$=Object.assign(mi,{install(e){e.component(mi.name,mi)}});Do.use(h$);Se.component(mi);const Cc=so({name:"VxeLoading",props:{modelValue:Boolean,icon:{type:String,default:()=>ze().loading.icon},showIcon:{type:Boolean,default:()=>ze().loading.showIcon},text:{type:String,default:()=>ze().loading.text},showText:{type:Boolean,default:()=>ze().loading.showText},status:String,size:{type:String,default:()=>ze().loading.size||ze().size}},setup(e,t){const{slots:r,emit:n}=t,l=u.uniqueId(),{computeSize:a}=io(e),i=rn({initialized:!1}),d={computeSize:a},s={xID:l,props:e,context:t,reactData:i,getComputeMaps:()=>d},h=ue(()=>e.icon||gr().LOADING),c=ue(()=>{const{text:O}=e;return u.isString(O)?O:lr("vxe.loading.text")}),b=()=>{i.initialized||(i.initialized=!!i.initialized)};Object.assign(s,{dispatchEvent:(O,D,I)=>{n(O,Un(I,{$loading:s},D))}},{});const g=()=>{const{modelValue:O,showIcon:D,status:I}=e,{initialized:W}=i,N=a.value,Y=r.default,L=r.text,F=r.icon,M=h.value,q=c.value;return!W&&!O?vr():m("div",{class:["vxe-loading",{[`size--${N}`]:N,[`theme--${I}`]:I,"is--visible":O}]},Y?[m("div",{class:"vxe-loading--wrapper"},dn(Y({})))]:[m("div",{class:"vxe-loading--chunk"},[D&&(F||M)?m("div",{class:"vxe-loading--icon"},F?dn(F({})):[m("i",{class:M})]):m("div",{class:"vxe-loading--spinner"}),L||q?m("div",{class:"vxe-loading--text"},L?dn(L({})):`${q}`):null])])};return sr(()=>e.modelValue,()=>{b()}),b(),s.renderVN=g,s},render(){return this.renderVN()}}),Zx=Object.assign({},Cc,{install(e){e.component(Cc.name,Cc)}}),MN={open(e){const t=Object.assign({},e);vi.globalLoading={modelValue:!0,text:t.text,icon:t.icon},i$()},close(){vi.globalLoading=null}};Do.use(Zx);Se.component(Cc);Se.loading=MN;const fl=[],Kb=[],Xb=[],ts="data-vxe-lock-scroll",rT="--vxe-ui-modal-lock-scroll-view-width",yc=so({name:"VxeModal",props:{modelValue:Boolean,id:String,type:{type:String,default:"modal"},loading:{type:Boolean,default:null},status:String,iconStatus:String,className:String,top:{type:[Number,String],default:()=>ze().modal.top},position:[String,Object],title:String,duration:{type:[Number,String],default:()=>ze().modal.duration},content:[Number,String],showCancelButton:{type:Boolean,default:null},cancelButtonText:{type:String,default:()=>ze().modal.cancelButtonText},showConfirmButton:{type:Boolean,default:()=>ze().modal.showConfirmButton},confirmButtonText:{type:String,default:()=>ze().modal.confirmButtonText},lockView:{type:Boolean,default:()=>ze().modal.lockView},lockScroll:Boolean,mask:{type:Boolean,default:()=>ze().modal.mask},maskClosable:{type:Boolean,default:()=>ze().modal.maskClosable},escClosable:{type:Boolean,default:()=>ze().modal.escClosable},cancelClosable:{type:Boolean,default:()=>ze().modal.cancelClosable},confirmClosable:{type:Boolean,default:()=>ze().modal.confirmClosable},resize:Boolean,showHeader:{type:Boolean,default:()=>ze().modal.showHeader},showFooter:{type:Boolean,default:()=>ze().modal.showFooter},showZoom:Boolean,zoomConfig:Object,showMaximize:{type:Boolean,default:()=>eT(ze().modal.showMaximize)},showMinimize:{type:Boolean,default:()=>eT(ze().modal.showMinimize)},showClose:{type:Boolean,default:()=>ze().modal.showClose},dblclickZoom:{type:Boolean,default:()=>ze().modal.dblclickZoom},width:[Number,String],height:[Number,String],minWidth:{type:[Number,String],default:()=>ze().modal.minWidth},minHeight:{type:[Number,String],default:()=>ze().modal.minHeight},zIndex:Number,marginSize:{type:[Number,String],default:()=>ze().modal.marginSize},fullscreen:Boolean,draggable:{type:Boolean,default:()=>ze().modal.draggable},remember:{type:Boolean,default:()=>ze().modal.remember},destroyOnClose:{type:Boolean,default:()=>ze().modal.destroyOnClose},showTitleOverflow:{type:Boolean,default:()=>ze().modal.showTitleOverflow},transfer:{type:Boolean,default:()=>ze().modal.transfer},storage:{type:Boolean,default:()=>ze().modal.storage},storageKey:{type:String,default:()=>ze().modal.storageKey},padding:{type:Boolean,default:()=>ze().modal.padding},size:{type:String,default:()=>ze().modal.size||ze().size},beforeHideMethod:Function,slots:Object,message:[Number,String],animat:{type:Boolean,default:()=>ze().modal.animat}},emits:["update:modelValue","show","hide","before-hide","close","confirm","cancel","zoom","resize","move"],setup(e,t){const{slots:r,emit:n}=t,l=u.uniqueId(),a=mr("$xeModal",null),i=mr("$xeDrawer",null),d=mr("$xeTable",null),s=mr("$xeForm",null),{computeSize:h}=io(e),c=rn({initialized:!1,visible:!1,contentVisible:!1,modalTop:0,modalZindex:0,prevZoomStatus:"",zoomStatus:"",revertLocat:null,prevLocat:null,firstOpen:!0,resizeFlag:1}),b={msgTimeout:void 0},E=mt(),y=mt(),p=mt(),g=mt(),O=mt(),D={refElem:E},I=ue(()=>{const{transfer:Fe}=e;if(Fe===null){const Oe=ze().modal.transfer;if(u.isBoolean(Oe))return Oe;if(d||a||i||s)return!0}return Fe}),W=ue(()=>e.type==="message"||e.type==="notification"),N=ue(()=>c.zoomStatus==="minimize"),Y=ue(()=>c.zoomStatus==="maximize"),L=ue(()=>Object.assign({},ze().modal.zoomConfig,e.zoomConfig)),F={computeSize:h,computeZoomOpts:L},M={xID:l,props:e,context:t,reactData:c,internalData:b,getRefMaps:()=>D,getComputeMaps:()=>F};let q={};const V=()=>y.value,j=()=>{const{width:Fe,height:Oe}=e,Ye=V();return Ye&&(Ye.style.width=Fe?ro(Fe):"",Ye.style.height=Oe?ro(Oe):""),ge()},U=()=>{const{zIndex:Fe}=e,{modalZindex:Oe}=c;Fe?c.modalZindex=Fe:W.value?Oe<ON()&&(c.modalZindex=DN()):Oe<Vs()&&(c.modalZindex=Ei())},z=()=>ge().then(()=>{const{position:Fe}=e,Oe=u.toNumber(e.marginSize),Ye=V();if(!Ye)return;const rt=document.documentElement.clientWidth||document.body.clientWidth,at=document.documentElement.clientHeight||document.body.clientHeight,ee=Fe==="center",{top:Ie,left:Ne}=u.isString(Fe)?{top:Fe,left:Fe}:Object.assign({},Fe),pt=ee||Ie==="center",He=ee||Ne==="center";let dt="",Ze="";Ne&&!He?Ze=isNaN(Ne)?Ne:`${Ne}px`:Ze=`${Math.max(Oe,rt/2-Ye.offsetWidth/2)}px`,Ie&&!pt?dt=isNaN(Ie)?Ie:`${Ie}px`:dt=`${Math.max(Oe,at/2-Ye.offsetHeight/2)}px`,Ye.style.top=dt,Ye.style.left=Ze}),k=()=>{ge(()=>{const{type:Fe}=e,Oe=Fe==="notification"?Xb:Kb;let Ye=0;Oe.forEach(rt=>{const at=rt.getBox();at&&(Ye+=u.toNumber(rt.props.top),rt.reactData.modalTop=Ye,Ye+=at.clientHeight)})})},ne=()=>{const{type:Fe}=e,Oe=Fe==="notification"?Xb:Kb;Oe.indexOf(M)>-1&&u.remove(Oe,Ye=>Ye===M),k()},fe=Fe=>{const{remember:Oe}=e,{visible:Ye}=c,rt=W.value,at=e.beforeHideMethod||ze().modal.beforeHideMethod,ee={type:Fe};return Ye&&Promise.resolve(at?at(ee):null).then(Ie=>{u.isError(Ie)||(rt&&ne(),c.contentVisible=!1,Oe||ce(),u.remove(fl,Ne=>Ne===M),ht("before-hide",ee,null),setTimeout(()=>{c.visible=!1,yt(!1),ht("hide",ee,null)},200),me())}).catch(Ie=>Ie),ge()},G=Fe=>{const Oe="close";ht(Oe,{type:Oe},Fe),fe(Oe)},J=Fe=>{const{confirmClosable:Oe}=e,Ye="confirm";ht(Ye,{type:Ye},Fe),Oe&&fe(Ye)},we=Fe=>{const{cancelClosable:Oe}=e,Ye="cancel";ht(Ye,{type:Ye},Fe),Oe&&fe(Ye)},se=Fe=>{const Oe=ze().version,Ye=u.toStringJSON(localStorage.getItem(Fe)||"");return Ye&&Ye._v===Oe?Ye:{_v:Oe}},re=()=>{const{id:Fe,storage:Oe,storageKey:Ye}=e;return!!(Fe&&Oe&&se(Ye)[Fe])},ve=()=>{const{id:Fe,storage:Oe,storageKey:Ye}=e;if(Fe&&Oe){const rt=se(Ye)[Fe];if(rt){const at=V(),[ee,Ie,Ne,pt,He,dt,Ze,$]=rt.split(",");at&&(ee&&(at.style.left=`${ee}px`),Ie&&(at.style.top=`${Ie}px`),Ne&&(at.style.width=`${Ne}px`),pt&&(at.style.height=`${pt}px`)),He&&dt&&(c.revertLocat={left:He,top:dt,width:Ze,height:$})}}},Ee=()=>{const{type:Fe}=e,Oe=Fe==="notification"?Xb:Kb;Oe.indexOf(M)===-1&&Oe.push(M),k()},Re=()=>{const{id:Fe,storage:Oe,storageKey:Ye}=e,{zoomStatus:rt,revertLocat:at}=c;if(!rt&&Fe&&Oe){const ee=V();if(!ee)return;const Ie=se(Ye);Ie[Fe]=[ee.style.left,ee.style.top,ee.style.width,ee.style.height].concat(at?[at.left,at.top,at.width,at.height]:[]).map(Ne=>Ne?u.toNumber(Ne):"").join(","),localStorage.setItem(Ye,u.toJSONString(Ie))}},Pe=()=>{const Fe=L.value,{minimizeLayout:Oe,minimizeMaxSize:Ye,minimizeHorizontalOffset:rt,minimizeVerticalOffset:at,minimizeOffsetMethod:ee}=Fe,Ie=Oe==="horizontal",Ne=c.zoomStatus,pt=[],He=[];fl.forEach(Ze=>{Ze.xID!==M.xID&&Ze.props.type==="modal"&&Ze.reactData.zoomStatus==="minimize"&&(Ze.getComputeMaps().computeZoomOpts.value.minimizeLayout==="horizontal"?pt.push(Ze):He.push(Ze))});const dt=Ie?pt:He;return Ye&&dt.length>=Ye?(Se.modal&&Se.modal.message({status:"error",content:lr("vxe.modal.miniMaxSize",[Ye])}),Promise.resolve({status:!1})):(c.prevZoomStatus=Ne,c.zoomStatus="minimize",ge().then(()=>{const Ze=V();if(!Ze)return{status:!1};const $=p.value;if(!$)return{status:!1};const{visibleHeight:H}=hs();Ne||(c.revertLocat={top:Ze.offsetTop,left:Ze.offsetLeft,width:Ze.offsetWidth+(Ze.style.width?0:1),height:Ze.offsetHeight+(Ze.style.height?0:1)});const Z=u[Ie?"max":"min"](dt,ke=>{const Be=ke.getBox();return Be?u.toNumber(Be.style[Ie?"left":"top"]):0});let xe=H-$.offsetHeight-16,De=16;if(Z){const ke=Z.getBox();if(ke){const Be=u.toNumber(ke.style.left),qe=u.toNumber(ke.style.top);let it={};Ie?it=Object.assign({},rt):it=Object.assign({},at),De=Be+u.toNumber(it.left),xe=qe+u.toNumber(it.top),ee&&(it=ee({$modal:M,left:De,top:xe}),De=u.toNumber(it.left),xe=u.toNumber(it.top))}}return Object.assign(Ze.style,{top:`${xe}px`,left:`${De}px`,width:"200px",height:`${$.offsetHeight}px`}),Re(),{status:!0}}))},le=()=>{const Fe=c.zoomStatus;return c.prevZoomStatus=Fe,c.zoomStatus="maximize",ge().then(()=>{const Oe=V();if(Oe){if(!Fe){const Ye=u.toNumber(e.marginSize),rt=document.documentElement.clientWidth||document.body.clientWidth,at=document.documentElement.clientHeight||document.body.clientHeight;c.revertLocat={top:Math.max(Ye,at/2-Oe.offsetHeight/2),left:Math.max(Ye,rt/2-Oe.offsetWidth/2),width:Oe.offsetWidth+(Oe.style.width?0:1),height:Oe.offsetHeight+(Oe.style.height?0:1)}}Object.assign(Oe.style,{top:"0",left:"0",width:"100%",height:"100%"})}return Re(),{status:!0}})},Xe=()=>{const{duration:Fe}=e;Fe!==-1&&(b.msgTimeout=setTimeout(()=>fe("close"),u.toNumber(Fe)))},me=()=>{const Fe=document.documentElement,Oe=Fe.getAttribute(ts);if(Oe){const Ye=Oe.split(",").filter(rt=>rt!==l);Ye.length?Fe.setAttribute(ts,Ye.join(",")):(Fe.removeAttribute(ts),Fe.style.removeProperty(rT))}},Te=()=>{const{lockScroll:Fe}=e,Oe=W.value;if(Fe&&!Oe){const Ye=document.documentElement,rt=document.body.clientWidth,at=Ye.getAttribute(ts),ee=at?at.split(","):[];ee.includes(l)||(ee.push(l),Ye.setAttribute(ts,ee.join(","))),Ye.style.setProperty(rT,`${rt}px`)}},Ae=()=>{const{remember:Fe,showFooter:Oe}=e,{initialized:Ye,visible:rt}=c,at=W.value;return Ye||(c.initialized=!0),rt||(Te(),c.visible=!0,c.contentVisible=!1,U(),fl.push(M),setTimeout(()=>{c.contentVisible=!0,ge(()=>{if(Oe){const Ne=g.value,pt=O.value,He=Ne||pt;He&&He.focus()}const Ie={type:""};yt(!0),ht("show",Ie,null)})},10),at?(Ee(),Xe()):ge(()=>{const{fullscreen:ee}=e,{firstOpen:Ie}=c;Ie?(c.firstOpen=!1,re()?ve():ee?ge(()=>le()):(j(),z().then(()=>{setTimeout(()=>z(),20)}))):Fe||(j(),z().then(()=>{setTimeout(()=>z(),20)}))})),ge()},tt=Fe=>{const Oe=E.value;e.maskClosable&&Fe.target===Oe&&fe("mask")},Ue=()=>{const{msgTimeout:Fe}=b;if(!Fe)return;W.value&&(clearTimeout(Fe),b.msgTimeout=void 0)},ut=()=>{const{msgTimeout:Fe}=b;Fe||W.value&&Xe()},_e=Fe=>{if(rr.hasKey(Fe,Mr.ESCAPE)){const Ye=u.max(fl,rt=>rt.reactData.modalZindex);Ye&&setTimeout(()=>{if(Ye===M&&Ye.props.escClosable){const rt="exit";ht("close",{type:rt},Fe),fe(rt)}},10)}},te=()=>c.zoomStatus==="minimize",$e=()=>c.zoomStatus==="maximize",ce=()=>(c.prevZoomStatus=c.zoomStatus,c.zoomStatus="",ge().then(()=>{const{revertLocat:Fe}=c;if(Fe){const Oe=V();return c.revertLocat=null,Oe&&Object.assign(Oe.style,{top:`${Fe.top}px`,left:`${Fe.left}px`,width:`${Fe.width}px`,height:`${Fe.height}px`}),Re(),ge().then(()=>({status:!0}))}return{status:!1}})),Le=Fe=>{const{zoomStatus:Oe}=c;return new Promise(Ye=>{if(Fe){if(Fe==="maximize"){Ye(le());return}if(Fe==="minimize"){Ye(Pe());return}Ye(ce());return}Ye(Oe?ce():le())}).then(()=>c.zoomStatus||"revert")},nt=Fe=>{const{zoomStatus:Oe,prevZoomStatus:Ye}=c;return Le(Oe==="minimize"?Ye||"revert":"minimize").then(rt=>{ht("zoom",{type:rt},Fe)})},et=Fe=>Le().then(Oe=>{ht("zoom",{type:Oe},Fe)}),vt=()=>{if(!W.value){const Oe=V();if(Oe)return{top:Oe.offsetTop,left:Oe.offsetLeft}}return null},xt=(Fe,Oe)=>{if(!W.value){const rt=V();rt&&(u.isNumber(Fe)&&(rt.style.top=`${Fe}px`),u.isNumber(Oe)&&(rt.style.left=`${Oe}px`))}return ge()},Dt=()=>{const{modalZindex:Fe}=c;fl.some(Oe=>Oe.reactData.visible&&Oe.reactData.modalZindex>Fe)&&U()},gt=Fe=>{const{storage:Oe}=e,{zoomStatus:Ye}=c,rt=u.toNumber(e.marginSize),at=V();if(at&&Ye!=="maximize"&&Fe.button===0&&!oo(Fe,at,"trigger--btn").flag){Fe.preventDefault();const ee=Fe.clientX-at.offsetLeft,Ie=Fe.clientY-at.offsetTop,{visibleHeight:Ne,visibleWidth:pt}=hs();document.onmousemove=He=>{He.preventDefault();const dt=at.offsetWidth,Ze=at.offsetHeight,$=rt,H=pt-dt-rt-1,Z=rt,xe=Ne-Ze-rt-1;let De=He.clientX-ee,ke=He.clientY-Ie;De>H&&(De=H),De<$&&(De=$),ke>xe&&(ke=xe),ke<Z&&(ke=Z),at.style.left=`${De}px`,at.style.top=`${ke}px`,at.className=at.className.replace(/\s?is--drag/,"")+" is--drag",ht("move",{type:"move"},He),c.resizeFlag++},document.onmouseup=()=>{document.onmousemove=null,document.onmouseup=null,Oe&&ge(()=>{Re()}),c.resizeFlag++,setTimeout(()=>{at.className=at.className.replace(/\s?is--drag/,"")},50)}}},Tt=Fe=>{Fe.preventDefault();const{storage:Oe}=e,{visibleHeight:Ye,visibleWidth:rt}=hs(),at=u.toNumber(e.marginSize),Ie=Fe.target.getAttribute("type"),Ne=u.toNumber(e.minWidth),pt=u.toNumber(e.minHeight),He=rt,dt=Ye,Ze=V(),$=Ze.clientWidth,H=Ze.clientHeight,Z=Fe.clientX,xe=Fe.clientY,De=Ze.offsetTop,ke=Ze.offsetLeft,Be={type:"resize"};document.onmousemove=qe=>{qe.preventDefault();let it,ft,Ve,wt;switch(Ie){case"wl":it=Z-qe.clientX,Ve=it+$,ke-it>at&&Ve>Ne&&(Ze.style.width=`${Ve<He?Ve:He}px`,Ze.style.left=`${ke-it}px`);break;case"swst":it=Z-qe.clientX,ft=xe-qe.clientY,Ve=it+$,wt=ft+H,ke-it>at&&Ve>Ne&&(Ze.style.width=`${Ve<He?Ve:He}px`,Ze.style.left=`${ke-it}px`),De-ft>at&&wt>pt&&(Ze.style.height=`${wt<dt?wt:dt}px`,Ze.style.top=`${De-ft}px`);break;case"swlb":it=Z-qe.clientX,ft=qe.clientY-xe,Ve=it+$,wt=ft+H,ke-it>at&&Ve>Ne&&(Ze.style.width=`${Ve<He?Ve:He}px`,Ze.style.left=`${ke-it}px`),De+wt+at<Ye&&wt>pt&&(Ze.style.height=`${wt<dt?wt:dt}px`);break;case"st":ft=xe-qe.clientY,wt=H+ft,De-ft>at&&wt>pt&&(Ze.style.height=`${wt<dt?wt:dt}px`,Ze.style.top=`${De-ft}px`);break;case"wr":it=qe.clientX-Z,Ve=it+$,ke+Ve+at<rt&&Ve>Ne&&(Ze.style.width=`${Ve<He?Ve:He}px`);break;case"sest":it=qe.clientX-Z,ft=xe-qe.clientY,Ve=it+$,wt=ft+H,ke+Ve+at<rt&&Ve>Ne&&(Ze.style.width=`${Ve<He?Ve:He}px`),De-ft>at&&wt>pt&&(Ze.style.height=`${wt<dt?wt:dt}px`,Ze.style.top=`${De-ft}px`);break;case"selb":it=qe.clientX-Z,ft=qe.clientY-xe,Ve=it+$,wt=ft+H,ke+Ve+at<rt&&Ve>Ne&&(Ze.style.width=`${Ve<He?Ve:He}px`),De+wt+at<Ye&&wt>pt&&(Ze.style.height=`${wt<dt?wt:dt}px`);break;case"sb":ft=qe.clientY-xe,wt=ft+H,De+wt+at<Ye&&wt>pt&&(Ze.style.height=`${wt<dt?wt:dt}px`);break}Ze.className=Ze.className.replace(/\s?is--drag/,"")+" is--drag",Oe&&Re(),ht("resize",Be,qe)},document.onmouseup=()=>{c.revertLocat=null,document.onmousemove=null,document.onmouseup=null,setTimeout(()=>{Ze.className=Ze.className.replace(/\s?is--drag/,"")},50)}},ht=(Fe,Oe,Ye)=>{n(Fe,Un(Ye,{$modal:M},Oe))},yt=Fe=>{n("update:modelValue",Fe)};q={dispatchEvent:ht,open:Ae,close(){return fe("close")},getBox:V,getPosition:vt,setPosition:xt,isMinimized:te,isMaximized:$e,zoom(){return Le()},minimize(){return c.visible?Pe():Promise.resolve({status:!1})},maximize(){return c.visible?le():Promise.resolve({status:!1})},revert(){return c.visible?ce():Promise.resolve({status:!1})}},Object.assign(M,q);const Lt=()=>{const{slots:Fe={},showClose:Oe,showZoom:Ye,showMaximize:rt,showMinimize:at,title:ee}=e,{zoomStatus:Ie}=c,Ne=r.title||Fe.title,pt=r.corner||Fe.corner,He=N.value,dt=Y.value;return[m("div",{class:"vxe-modal--header-title"},Ne?dn(Ne({$modal:M,minimized:He,maximized:dt})):ee?qo(ee):lr("vxe.alert.title")),m("div",{class:"vxe-modal--header-right"},[pt&&!He?m("div",{class:"vxe-modal--corner-wrapper"},dn(pt({$modal:M}))):vr(),(u.isBoolean(at)?at:Ye)?m("div",{class:["vxe-modal--zoom-btn","trigger--btn"],title:lr(`vxe.modal.zoom${Ie==="minimize"?"Out":"Min"}`),onClick:nt},[m("i",{class:Ie==="minimize"?gr().MODAL_ZOOM_REVERT:gr().MODAL_ZOOM_MIN})]):vr(),(u.isBoolean(rt)?rt:Ye)&&Ie!=="minimize"?m("div",{class:["vxe-modal--zoom-btn","trigger--btn"],title:lr(`vxe.modal.zoom${Ie==="maximize"?"Out":"In"}`),onClick:et},[m("i",{class:Ie==="maximize"?gr().MODAL_ZOOM_OUT:gr().MODAL_ZOOM_IN})]):vr(),Oe?m("div",{class:["vxe-modal--close-btn","trigger--btn"],title:lr("vxe.modal.close"),onClick:G},[m("i",{class:gr().MODAL_CLOSE})]):vr()])]},Vt=()=>{const{slots:Fe={},showZoom:Oe,showMaximize:Ye,draggable:rt}=e,at=r.header||Fe.header;if(e.showHeader){const ee={};return rt&&(ee.onMousedown=gt),(u.isBoolean(Ye)?Ye:Oe)&&e.dblclickZoom&&e.type==="modal"&&(ee.onDblclick=et),m("div",Object.assign({ref:p,class:["vxe-modal--header",{"is--ellipsis":e.showTitleOverflow}]},ee),at?dn(at({$modal:M})):Lt())}return vr()},Bt=()=>{const{slots:Fe={},status:Oe,message:Ye,iconStatus:rt}=e,at=e.content||Ye,ee=W.value,Ie=r.default||Fe.default,Ne=r.left||Fe.left,pt=r.right||Fe.right,He=[];return!ee&&(Oe||rt)&&He.push(m("div",{class:"vxe-modal--status-wrapper"},[m("i",{class:["vxe-modal--status-icon",rt||gr()[`MODAL_${Oe}`.toLocaleUpperCase()]]})])),He.push(m("div",{class:"vxe-modal--content"},Ie?dn(Ie({$modal:M})):qo(at))),m("div",{class:"vxe-modal--body"},[Ne?m("div",{class:"vxe-modal--body-left"},dn(Ne({$modal:M}))):vr(),m("div",{class:"vxe-modal--body-default"},He),pt?m("div",{class:"vxe-modal--body-right"},dn(pt({$modal:M}))):vr(),ee?vr():m(Zx,{class:"vxe-modal--loading",modelValue:e.loading})])},Nt=()=>{const{slots:Fe={},showCancelButton:Oe,showConfirmButton:Ye,type:rt,loading:at}=e,ee=r.leftfoot||Fe.leftfoot,Ie=r.rightfoot||Fe.rightfoot,Ne=[];return(u.isBoolean(Oe)?Oe:rt==="confirm")&&Ne.push(m(no,{key:1,ref:O,content:e.cancelButtonText||lr("vxe.button.cancel"),onClick:we})),(u.isBoolean(Ye)?Ye:rt==="confirm"||rt==="alert")&&Ne.push(m(no,{key:2,ref:g,loading:at,status:"primary",content:e.confirmButtonText||lr("vxe.button.confirm"),onClick:J})),m("div",{class:"vxe-modal--footer-wrapper"},[m("div",{class:"vxe-modal--footer-left"},ee?dn(ee({$modal:M})):[]),m("div",{class:"vxe-modal--footer-right"},Ie?dn(Ie({$modal:M})):Ne)])},Kt=()=>{const{slots:Fe={}}=e,Oe=r.footer||Fe.footer;return e.showFooter?m("div",{class:"vxe-modal--footer"},Oe?dn(Oe({$modal:M})):[Nt()]):vr()},Wt=()=>{const{slots:Fe={},className:Oe,type:Ye,animat:rt,draggable:at,iconStatus:ee,position:Ie,loading:Ne,destroyOnClose:pt,status:He,lockScroll:dt,padding:Ze,lockView:$,mask:H,resize:Z}=e,{initialized:xe,modalTop:De,contentVisible:ke,visible:Be,zoomStatus:qe}=c,it=r.aside||Fe.aside,ft=h.value,Ve=W.value,wt=N.value,ir=I.value,be={};return Ve&&(be.onMouseover=Ue,be.onMouseout=ut),m(Bl,{to:"body",disabled:ir?!xe:!0},[m("div",Object.assign({ref:E,class:["vxe-modal--wrapper",`type--${Ye}`,`zoom--${qe||"revert"}`,Oe||"",Ie?`pos--${Ie}`:"",{[`size--${ft}`]:ft,[`status--${He}`]:He,"is--padding":Ze,"is--animat":rt,"lock--scroll":dt,"lock--view":$,"is--draggable":at,"is--resize":Z,"is--mask":H,"is--visible":ke,"is--active":Be,"is--loading":Ne}],style:{zIndex:c.modalZindex,top:De?`${De}px`:null},onClick:tt},be),[m("div",{ref:y,class:"vxe-modal--box",onMousedown:Dt},[(Ve||it)&&!wt?m("div",{class:"vxe-modal--aside"},it?dn(it({$modal:M})):[He||ee?m("div",{class:"vxe-modal--status-wrapper"},[m("i",{class:["vxe-modal--status-icon",ee||gr()[`MODAL_${He}`.toLocaleUpperCase()]]})]):vr()]):vr(),m("div",{class:"vxe-modal--container"},!c.initialized||pt&&!c.visible?[]:[Vt(),Bt(),Kt(),!Ve&&Z?m("span",{class:"vxe-modal--resize"},["wl","wr","swst","sest","st","swlb","selb","sb"].map(Ke=>m("span",{class:`${Ke}-resize`,type:Ke,onMousedown:Tt}))):vr()])])])])};return M.renderVN=Wt,sr(()=>e.width,j),sr(()=>e.height,j),sr(()=>e.modelValue,Fe=>{Fe?Ae():fe("model")}),jn(()=>{e.type==="modal"&&e.showFooter&&!(e.showConfirmButton||e.showCancelButton||r.footer)&&Wa("vxe.modal.footPropErr"),ge(()=>{e.storage&&!e.id&&Kx("vxe.error.reqProp",["modal.id"]),e.modelValue&&Ae(),j()}),e.escClosable&&rr.on(M,"keydown",_e)}),xo(()=>{rr.off(M,"keydown"),ne(),me()}),ao("$xeModal",M),M},render(){return this.renderVN()}});function IN(e){return i$(),new Promise(t=>{const r=Object.assign({},e);if(r.id&&fl.some(n=>n.props.id===r.id))t("exist");else{const n=r.onHide,l=Object.assign(r,{key:u.uniqueId(),modelValue:!0,onHide(a){const i=vi.modals;n&&n(a),vi.modals=i.filter(d=>d.key!==l.key),t(a.type)}});vi.modals.push(l)}})}function v$(e){return u.find(fl,t=>t.props.id===e)}function FN(e){const t=e?[v$(e)]:fl,r=[];return t.forEach(n=>{n&&r.push(n.close())}),Promise.all(r)}function zs(e,t,r,n){let l;return u.isObject(t)?l=t:l={content:u.toValueString(t),title:r},IN(Object.assign(Object.assign(Object.assign({},e),n),l))}function $N(e){return zs({type:"modal"},e)}function AN(e,t,r){return zs({type:"alert",lockScroll:!0,showHeader:!0,showFooter:!0},e,t,r)}function PN(e,t,r){return zs({type:"confirm",status:"question",lockScroll:!0,showHeader:!0,showFooter:!0},e,t,r)}function kN(e,t){return zs({type:"message",mask:!1,lockView:!1,lockScroll:!1,showHeader:!1},e,"",t)}function LN(e,t,r){return zs({type:"notification",mask:!1,lockView:!1,lockScroll:!1,showHeader:!0,draggable:!1,position:"top-right",width:320},e,t,r)}const NN={get:v$,close:FN,open:$N,alert:AN,confirm:PN,message:kN,notification:LN},m$=Object.assign(yc,{install:function(e){e.component(yc.name,yc)}});Se.modal=NN;Do.use(m$);Se.component(yc);const bs=so({name:"VxeNumberInput",props:{modelValue:[String,Number],immediate:{type:Boolean,default:!0},name:String,type:{type:String,default:"number"},clearable:{type:Boolean,default:()=>ze().numberInput.clearable},readonly:{type:Boolean,default:null},disabled:{type:Boolean,default:null},placeholder:String,maxLength:{type:[String,Number],default:()=>ze().numberInput.maxLength},autoComplete:{type:String,default:"off"},align:String,form:String,className:String,size:{type:String,default:()=>ze().numberInput.size||ze().size},min:{type:[String,Number],default:null},max:{type:[String,Number],default:null},step:[String,Number],exponential:{type:Boolean,default:()=>ze().numberInput.exponential},showCurrency:{type:Boolean,default:()=>ze().numberInput.showCurrency},currencySymbol:{type:String,default:()=>ze().numberInput.currencySymbol},controlConfig:Object,digits:{type:[String,Number],default:null},autoFill:{type:Boolean,default:()=>ze().numberInput.autoFill},editable:{type:Boolean,default:!0},plusIcon:String,minusIcon:String,prefixIcon:String,suffixIcon:String,controls:{type:Boolean,default:null},maxlength:[String,Number],autocomplete:String},emits:["update:modelValue","input","change","keydown","keyup","wheel","click","focus","blur","clear","plus-number","minus-number","prefix-click","suffix-click","prev-number","next-number"],setup(e,t){const{slots:r,emit:n}=t,l=mr("$xeForm",null),a=mr("xeFormItemInfo",null),i=u.uniqueId(),{computeSize:d}=io(e),s=rn({isFocus:!1,isActivated:!1,inputValue:e.modelValue}),h={},c=mt(),b=mt(),E=mt(),y=ue(()=>{const{readonly:ee}=e;return ee===null?l?l.props.readonly:!1:ee}),p=ue(()=>{const{disabled:ee}=e;return ee===null?l?l.props.disabled:!1:ee}),g=ue(()=>{const{type:ee,digits:Ie}=e;let Ne=Ie;return Ne===null&&(Ne=ze().numberInput.digits,Ne===null&&ee==="amount"&&(Ne=2)),u.toInteger(Ne)||1}),O=ue(()=>Object.assign({},ze().numberInput.controlConfig,e.controlConfig)),D=ue(()=>{const{type:ee}=e;return ee==="float"||ee==="amount"}),I=ue(()=>{const{type:ee}=e,Ie=g.value,Ne=D.value,pt=e.step;return ee==="integer"?u.toInteger(pt)||1:Ne?u.toNumber(pt)||1/Math.pow(10,Ie):u.toNumber(pt)||1}),W=ue(()=>e.clearable),N=ue(()=>{const{editable:ee}=e;return y.value||!ee}),Y=ue(()=>{const{placeholder:ee}=e;if(ee)return qo(ee);const Ie=ze().numberInput.placeholder;return Ie?qo(Ie):lr("vxe.base.pleaseInput")}),L=ue(()=>{const{maxLength:ee,maxlength:Ie}=e;return u.toNumber(ee||Ie)||16}),F=ue(()=>{const{immediate:ee}=e;return ee}),M=ue(()=>{const{type:ee}=e,{inputValue:Ie}=s;return ee==="integer"?u.toInteger(sa(Ie)):u.toNumber(sa(Ie))}),q=ue(()=>{const{type:ee,showCurrency:Ie,currencySymbol:Ne,autoFill:pt}=e,{inputValue:He}=s,dt=g.value;if(ee==="amount"){const Ze=u.toNumber(He);let $=u.commafy(Ze,{digits:dt});if(!pt){const[H,Z]=$.split(".");if(Z){const xe=Z.replace(/0+$/,"");$=xe?[H,".",xe].join(""):H}}return Ie?`${Ne||lr("vxe.numberInput.currencySymbol")||""}${$}`:$}return u.toString(He)}),V=ue(()=>{const{min:ee}=e,{inputValue:Ie}=s,Ne=M.value;return(Ie||Ie===0)&&ee!==null?Ne<=u.toNumber(ee):!1}),j=ue(()=>{const{max:ee}=e,{inputValue:Ie}=s,Ne=M.value;return(Ie||Ie===0)&&ee!==null?Ne>=u.toNumber(ee):!1}),U={refElem:c,refInput:b},z={computeControlOpts:O},k={xID:i,props:e,context:t,reactData:s,internalData:h,getRefMaps:()=>U,getComputeMaps:()=>z};let ne={};const fe=ee=>u.eqNull(ee)?"":`${ee}`,G=ee=>{const{exponential:Ie,autoFill:Ne}=e,pt=L.value,He=g.value,dt=D.value;let Ze="";return dt?(Ze=ms(ee,He),Ne||(Ze=fe(u.toNumber(Ze)))):Ze=fe(ee),Ie&&(ee===Ze||fe(ee).toLowerCase()===u.toNumber(Ze).toExponential())?ee:Ze.slice(0,pt)},J=ee=>{const{inputValue:Ie}=s;ne.dispatchEvent(ee.type,{value:Ie},ee)},we=(ee,Ie,Ne)=>{const pt=Pl(ee)?null:Number(ee),He=pt!==e.modelValue;He&&(h.isUM=!0,n("update:modelValue",pt)),s.inputValue!==Ie&&ge(()=>{s.inputValue=Ie||""}),ne.dispatchEvent("input",{value:pt},Ne),He&&(ne.dispatchEvent("change",{value:pt},Ne),l&&a&&l.triggerItemEvent(Ne,a.itemConfig.field,pt))},se=(ee,Ie)=>{const Ne=F.value,pt=Pl(ee)?null:u.toNumber(ee);s.inputValue=ee,Ne?we(pt,ee,Ie):ne.dispatchEvent("input",{value:pt},Ie)},re=ee=>{const Ne=ee.target.value;se(Ne,ee)},ve=ee=>{F.value||J(ee)},Ee=ee=>{if(!N.value){const{inputValue:Ne}=s;s.inputValue=Pl(Ne)?"":`${u.toNumber(Ne)}`,s.isFocus=!0,s.isActivated=!0,J(ee)}},Re=ee=>{if(!p.value){const{inputValue:Ne}=s;ne.dispatchEvent("prefix-click",{value:Ne},ee)}},Pe=(ee,Ie)=>{focus(),we(null,"",ee),ne.dispatchEvent("clear",{value:Ie},ee)},le=ee=>{if(!p.value){const{inputValue:Ne}=s;ne.dispatchEvent("suffix-click",{value:Ne},ee)}},Xe=ee=>{const{autoFill:Ie}=e,{inputValue:Ne}=s,pt=g.value,He=D.value;if(Pl(ee))s.inputValue="";else{let dt=`${ee}`;He&&(dt=ms(ee,pt),Ie||(dt=`${u.toNumber(dt)}`)),dt!==Ne&&(s.inputValue=dt)}},me=()=>{const{autoFill:ee}=e,{inputValue:Ie}=s,Ne=g.value;if(D.value&&Ie){let He="",dt=null;Ie&&(He=ms(Ie,Ne),dt=u.toNumber(He),ee||(He=`${dt}`)),Ie!==dt?we(dt,He,{type:"init"}):s.inputValue=He}},Te=ee=>e.max===null||e.max===""||u.toNumber(ee)<=u.toNumber(e.max),Ae=ee=>e.min===null||e.min===""||u.toNumber(ee)>=u.toNumber(e.min),tt=()=>{const{type:ee,min:Ie,max:Ne,exponential:pt}=e,{inputValue:He}=s;if(!N.value){if(Pl(He)){let Ze=null,$=He;(Ie||Ie===0)&&(Ze=u.toNumber(Ie),$=`${Ze}`),we(Ze,`${$||""}`,{type:"check"});return}if(He||Ie||Ne){let Ze=ee==="integer"?u.toInteger(sa(He)):u.toNumber(sa(He));if(Ae(Ze)?Te(Ze)||(Ze=Ne):Ze=Ie,pt){const H=fe(He).toLowerCase();H===u.toNumber(Ze).toExponential()&&(Ze=H)}const $=G(Ze);we(Pl($)?null:Number($),$,{type:"check"})}}},Ue=ee=>{const{inputValue:Ie}=s,Ne=F.value,pt=Ie?Number(Ie):null;Ne||we(pt,fe(Ie),ee),tt(),s.isFocus=!1,s.isActivated=!1,ne.dispatchEvent("blur",{value:pt},ee),l&&a&&l.triggerItemEvent(ee,a.itemConfig.field,pt)},ut=(ee,Ie)=>{const{min:Ne,max:pt,type:He}=e,{inputValue:dt}=s,Ze=I.value,$=He==="integer"?u.toInteger(sa(dt)):u.toNumber(sa(dt)),H=ee?u.add($,Ze):u.subtract($,Ze);let Z;Ae(H)?Te(H)?Z=H:Z=pt:Z=Ne,se(G(Z),Ie)},_e=ee=>{const Ie=p.value,Ne=y.value,pt=j.value;!Ie&&!Ne&&!pt&&ut(!0,ee),s.isActivated=!0,ne.dispatchEvent("plus-number",{value:s.inputValue},ee),ne.dispatchEvent("next-number",{value:s.inputValue},ee)},te=ee=>{const Ie=p.value,Ne=y.value,pt=V.value;!Ie&&!Ne&&!pt&&ut(!1,ee),s.isActivated=!0,ne.dispatchEvent("minus-number",{value:s.inputValue},ee),ne.dispatchEvent("prev-number",{value:s.inputValue},ee)},$e=ee=>{const Ie=rr.hasKey(ee,Mr.ARROW_UP),Ne=rr.hasKey(ee,Mr.ARROW_DOWN);(Ie||Ne)&&(ee.preventDefault(),Ie?_e(ee):te(ee))},ce=ee=>{const{type:Ie,exponential:Ne,controls:pt}=e,He=O.value,{isArrow:dt}=He,Ze=N.value,$=u$(ee),H=ee.shiftKey,Z=ee.altKey,xe=ee.keyCode,De=rr.hasKey(ee,Mr.ESCAPE),ke=rr.hasKey(ee,Mr.ARROW_UP),Be=rr.hasKey(ee,Mr.ARROW_DOWN);!$&&!H&&!Z&&(rr.hasKey(ee,Mr.SPACEBAR)||Ie==="integer"&&xe===110||(!Ne||xe!==69)&&xe>=65&&xe<=90||xe>=186&&xe<=188||xe>=191)&&ee.preventDefault(),De?tt():(ke||Be)&&Yb(He)&&(pt===!1?pt:dt)&&!Ze&&$e(ee),J(ee)},Le=ee=>{J(ee)},nt=()=>{const{dnTimeout:ee}=h;ee&&(clearTimeout(ee),h.dnTimeout=void 0)},et=()=>{const{ainTimeout:ee}=h;ee&&(clearTimeout(ee),h.ainTimeout=void 0)},vt=ee=>{Dt(),h.ainTimeout=setTimeout(()=>{te(ee),vt(ee)},60)},xt=ee=>{Dt(),h.ainTimeout=setTimeout(()=>{_e(ee),xt(ee)},60)},Dt=()=>{nt(),et()},gt=ee=>{h.isMouseDown?h.isMouseDown=!1:(Dt(),Ic(ee.currentTarget,"is--plus")?_e(ee):te(ee))},Tt=ee=>{if(Dt(),h.isMouseDown=!0,ee.button===0){const Ie=Ic(ee.currentTarget,"is--plus");Ie?_e(ee):te(ee),h.dnTimeout=setTimeout(()=>{Ie?xt(ee):vt(ee)},500)}},ht=ee=>{const{controls:Ie}=e,Ne=O.value,{isWheel:pt}=Ne,He=N.value;if(Yb(Ne)&&(Ie===!1?Ie:pt)&&!He&&s.isActivated){ee.stopPropagation(),ee.preventDefault();const dt=ee.deltaY;dt>0?te(ee):dt<0&&_e(ee)}J(ee)},yt=ee=>{J(ee)},Lt=ee=>{const{isActivated:Ie}=s,Ne=c.value,pt=E.value,He=p.value,dt=N.value,Ze=F.value;if(!He&&!dt&&Ie&&(s.isActivated=oo(ee,Ne).flag||oo(ee,pt).flag,!s.isActivated)){if(!Ze){const{inputValue:$}=s,H=$?Number($):null;we(H,fe($),ee)}tt()}},Vt=ee=>{const{clearable:Ie}=e,Ne=p.value,pt=N.value;if(!Ne&&!pt){const He=rr.hasKey(ee,Mr.TAB),dt=rr.hasKey(ee,Mr.DELETE);let Ze=s.isActivated;He&&(Ze&&tt(),Ze=!1,s.isActivated=Ze),dt&&Ie&&Ze&&Pe(ee,null)}},Bt=()=>{const{isActivated:ee}=s;ee&&tt()};ne={dispatchEvent:(ee,Ie,Ne)=>{n(ee,Un(Ne,{$numberInput:k},Ie))},focus(){if(!N.value){const Ie=b.value;s.isActivated=!0,Ie.focus()}return ge()},blur(){return b.value.blur(),s.isActivated=!1,ge()},select(){return b.value.select(),s.isActivated=!1,ge()}},Object.assign(k,ne);const Kt=()=>{const{prefixIcon:ee}=e,Ie=r.prefix;return Ie||ee?m("div",{class:"vxe-number-input--prefix",onClick:Re},[m("div",{class:"vxe-number-input--prefix-icon"},Ie?dn(Ie({})):[m("i",{class:ee})])]):vr()},Wt=()=>{const{suffixIcon:ee}=e,{inputValue:Ie}=s,Ne=r.suffix,pt=p.value,He=W.value;return m("div",{class:["vxe-number-input--suffix",{"is--clear":He&&!pt&&!(Ie===""||u.eqNull(Ie))}]},[He?m("div",{class:"vxe-number-input--clear-icon",onClick:Pe},[m("i",{class:gr().INPUT_CLEAR})]):vr(),Ne||ee?m("div",{class:"vxe-number-input--suffix-icon",onClick:le},Ne?dn(Ne({})):[m("i",{class:ee})]):vr()])},Fe=()=>{const{type:ee,name:Ie,autocomplete:Ne,autoComplete:pt}=e,{inputValue:He,isFocus:dt}=s,Ze=p.value,$=q.value,H=N.value,Z=L.value,xe=Y.value;return m("div",{key:"ni",class:"vxe-number-input--input-wrapper"},[Kt(),m("div",{class:"vxe-number-input--input-inner"},[m("input",{ref:b,class:"vxe-number-input--input",value:!dt&&ee==="amount"?$:He,name:Ie,type:"text",placeholder:xe,maxlength:Z,readonly:H,disabled:Ze,autocomplete:pt||Ne,onKeydown:ce,onKeyup:Le,onClick:yt,onInput:re,onChange:ve,onFocus:Ee,onBlur:Ue})]),Wt()])},Oe=()=>{const{minusIcon:ee}=e,Ie=V.value;return m("button",{key:"prev",class:["vxe-number-input--minus-btn is--minus",{"is--disabled":Ie}],type:"button",onClick:gt,onMousedown:Tt,onMouseup:Dt,onMouseleave:Dt},[m("i",{class:ee||gr().NUMBER_INPUT_MINUS_NUM})])},Ye=()=>{const{plusIcon:ee}=e,Ie=j.value;return m("button",{key:"next",class:["vxe-number-input--plus-btn is--plus",{"is--disabled":Ie}],type:"button",onClick:gt,onMousedown:Tt,onMouseup:Dt,onMouseleave:Dt},[m("i",{class:ee||gr().NUMBER_INPUT_PLUS_NUM})])},rt=()=>m("div",{key:"cplr",class:"vxe-number-input--side-control"},[Ye(),Oe()]),at=()=>{const{className:ee,controls:Ie,type:Ne,align:pt,prefixIcon:He,suffixIcon:dt}=e,{inputValue:Ze,isActivated:$}=s,H=d.value,Z=O.value,{layout:xe,showButton:De}=Z,ke=p.value,Be=y.value,qe=q.value,it=r.prefix,ft=r.suffix;if(Be)return m("div",{ref:c,class:["vxe-number-input--readonly",`type--${Ne}`,ee]},qe);const Ve=N.value,wt=W.value,ir=Yb(Z)&&(Ie===!1?Ie:De);return m("div",{ref:c,class:["vxe-number-input",`type--${Ne}`,`control-${xe==="right"||xe==="left"?xe:"default"}`,ee,{[`size--${H}`]:H,[`is--${pt}`]:pt,"is--controls":ir&&!Ve,"is--prefix":!!it||He,"is--suffix":!!ft||dt,"is--disabled":ke,"is--active":$,"show--clear":wt&&!ke&&!(Ze===""||u.eqNull(Ze))}],spellcheck:!1},ir?xe==="right"?[Fe(),rt()]:xe==="left"?[rt(),Fe()]:[Ye(),Fe(),Oe()]:[Fe()])};return k.renderVN=at,sr(()=>e.modelValue,ee=>{h.isUM||Xe(ee),h.isUM=!1}),sr(()=>e.type,()=>{Object.assign(s,{inputValue:e.modelValue}),me()}),jn(()=>{const ee=b.value;ee&&ee.addEventListener("wheel",ht,{passive:!1}),rr.on(k,"mousedown",Lt),rr.on(k,"keydown",Vt),rr.on(k,"blur",Bt)}),Rs(()=>{s.isFocus=!1,Dt(),tt();const ee=b.value;ee&&ee.removeEventListener("wheel",ht),rr.off(k,"mousedown"),rr.off(k,"keydown"),rr.off(k,"blur")}),me(),k},render(){return this.renderVN()}}),b$=Object.assign({},bs,{install(e){e.component(bs.name,bs)}});Do.use(b$);Se.component(bs);function tc(e){return e.visible!==!1}function _N(){return u.uniqueId("opt_")}function nT(){return{synchData:[],fullData:[],afterVisibleList:[],optAddMaps:{},optGroupKeyMaps:{},optFullValMaps:{},remoteValMaps:{},lastScrollLeft:0,lastScrollTop:0,scrollYStore:{startIndex:0,endIndex:0,visibleSize:0,offsetSize:0,rowHeight:0},lastScrollTime:0,hpTimeout:void 0}}const xs=so({name:"VxeSelect",props:{modelValue:[String,Number,Boolean,Array],defaultConfig:Object,clearable:Boolean,placeholder:String,readonly:{type:Boolean,default:null},loading:Boolean,disabled:{type:Boolean,default:null},multiple:Boolean,multiCharOverflow:{type:[Number,String],default:()=>ze().select.multiCharOverflow},prefixIcon:String,allowCreate:{type:Boolean,default:()=>ze().select.allowCreate},placement:String,options:Array,optionProps:Object,optionGroups:Array,optionGroupProps:Object,optionConfig:Object,className:[String,Function],popupClassName:[String,Function],max:{type:[String,Number],default:null},zIndex:Number,size:{type:String,default:()=>ze().select.size||ze().size},filterable:Boolean,filterMethod:Function,remote:Boolean,remoteConfig:Object,emptyText:String,showTotalButoon:{type:Boolean,default:()=>ze().select.showTotalButoon},showCheckedButoon:{type:Boolean,default:()=>ze().select.showCheckedButoon},showClearButton:{type:Boolean,default:()=>ze().select.showClearButton},transfer:{type:Boolean,default:null},virtualYConfig:Object,scrollY:Object,remoteMethod:Function,optionId:{type:String,default:()=>ze().select.optionId},optionKey:Boolean},emits:["update:modelValue","change","all-change","clear","blur","focus","click","scroll","visible-change"],setup(e,t){const{slots:r,emit:n}=t,l=mr("$xeModal",null),a=mr("$xeDrawer",null),i=mr("$xeTable",null),d=mr("$xeForm",null),s=mr("xeFormItemInfo",null),h=u.uniqueId(),c=mt(),b=mt(),E=mt(),y=mt(),p=mt(),g=mt(),{computeSize:O}=io(e),D=rn({initialized:!1,scrollYLoad:!1,bodyHeight:0,topSpaceHeight:0,optList:[],staticOptions:[],reactFlag:0,currentOption:null,searchValue:"",searchLoading:!1,panelIndex:0,panelStyle:{},panelPlacement:null,triggerFocusPanel:!1,visiblePanel:!1,isAniVisible:!1,isActivated:!1}),I=nT(),W={refElem:c},N={xID:h,props:e,context:t,reactData:D,internalData:I,getRefMaps:()=>W},Y=ue(()=>{const{readonly:be}=e;return be===null?d?d.props.readonly:!1:be}),L=ue(()=>{const{disabled:be}=e;return be===null?d?d.props.disabled:!1:be}),F=ue(()=>{const{transfer:be}=e;if(be===null){const Ke=ze().select.transfer;if(u.isBoolean(Ke))return Ke;if(i||l||a||d)return!0}return be}),M=ue(()=>{const{placeholder:be}=e;if(be)return qo(be);const Ke=ze().select.placeholder;return Ke?qo(Ke):lr("vxe.base.pleaseSelect")}),q=ue(()=>Object.assign({},e.defaultConfig)),V=ue(()=>Object.assign({},e.optionProps)),j=ue(()=>Object.assign({},e.optionGroupProps)),U=ue(()=>V.value.label||"label"),z=ue(()=>V.value.value||"value"),k=ue(()=>j.value.label||"label"),ne=ue(()=>j.value.options||"options"),fe=ue(()=>{const{modelValue:be}=e;return Xe(be)}),G=ue(()=>Object.assign({},ze().select.virtualYConfig||ze().select.scrollY,e.virtualYConfig||e.scrollY)),J=ue(()=>Object.assign({},ze().select.remoteConfig,e.remoteConfig)),we=ue(()=>Object.assign({},ze().select.optionConfig,e.optionConfig)),se=ue(()=>u.toNumber(e.multiCharOverflow)),re=ue(()=>{const{modelValue:be,remote:Ke,multiple:Ft}=e,{reactFlag:Ct}=D,Pt=se.value;if(u.eqNull(be))return"";const zt=u.isArray(be)?be:[be];return Ke&&Ct?zt.map(Xt=>me(Xt)).join(", "):zt.map(Xt=>{const _t=Te(Xt);return Ft&&Pt>0&&_t.length>Pt?`${_t.substring(0,Pt)}...`:_t}).join(", ")}),ve=(be,Ke)=>be&&(u.isString(be)&&(be=r[be]||null),u.isFunction(be))?dn(be(Ke)):[],Ee=(be,Ke,Ft)=>{n(be,Un(Ft,{$select:N},Ke))},Re=be=>{n("update:modelValue",be)},Pe=()=>we.value.keyField||e.optionId||"_X_OPTION_KEY",le=be=>{const Ke=be[Pe()];return Ke?encodeURIComponent(Ke):""},Xe=be=>{const{multiple:Ke,max:Ft}=e;return Ke&&Ft?(u.isArray(be)?be.length:u.eqNull(be)?0:1)>=u.toNumber(Ft):!1},me=be=>{const{remoteValMaps:Ke,optFullValMaps:Ft}=I,Ct=U.value,Pt=Ke[be]||Ft[be],zt=Pt?Pt.item:null;return u.toValueString(zt?zt[Ct]:be)},Te=be=>{const{optFullValMaps:Ke}=I,Ft=U.value,Ct=D.reactFlag?Ke[be]:null;return Ct?Ct.item[Ft]:u.toValueString(be)},Ae=be=>{const Ke=ne.value,Ft=z.value,Ct=Pe(),Pt={},zt={},Xt=[],_t=st=>{Xt.push(st);let Et=le(st);Et||(Et=_N(),st[Ct]=Et),zt[st[Ft]]={key:Et,item:st,_index:-1}};be.forEach(st=>{_t(st),st[Ke]&&(Pt[st[Ct]]=st,st[Ke].forEach(_t))}),I.fullData=Xt,I.optGroupKeyMaps=Pt,I.optFullValMaps=zt,D.reactFlag++,tt()},tt=()=>{const{modelValue:be,filterable:Ke,filterMethod:Ft}=e,{searchValue:Ct}=D,{fullData:Pt,optFullValMaps:zt}=I,Xt=U.value,_t=z.value,st=`${Ct||""}`.toLowerCase();let Et=[];return Ke&&Ft?Et=Pt.filter(Ut=>tc(Ut)&&Ft({$select:N,group:null,option:Ut,searchValue:Ct,value:be})):Ke?Et=Pt.filter(Ut=>tc(Ut)&&(!st||`${Ut[Xt]||Ut[_t]}`.toLowerCase().indexOf(st)>-1)):Et=Pt.filter(tc),Et.forEach((Ut,qt)=>{const cr=zt[Ut[_t]];cr&&(cr._index=qt)}),I.afterVisibleList=Et,ge()},Ue=be=>{be&&(D.currentOption=be)},ut=()=>{const{zIndex:be}=e;be?D.panelIndex=be:D.panelIndex<Vs()&&(D.panelIndex=Ei())},_e=()=>{const{placement:be}=e,{panelIndex:Ke}=D,Ft=c.value,Ct=p.value,Pt=F.value,zt=()=>{const Xt=f$(Ft,Ct,{placement:be,teleportTo:Pt}),_t=Object.assign(Xt.style,{zIndex:Ke});D.panelStyle=_t,D.panelPlacement=Xt.placement};return zt(),ge().then(zt)},te=()=>{const{loading:be,filterable:Ke,remote:Ft}=e,{fullData:Ct,hpTimeout:Pt}=I,zt=L.value,Xt=J.value;!be&&!zt&&(Pt&&(clearTimeout(Pt),I.hpTimeout=void 0),D.initialized||(D.initialized=!0),D.isActivated=!0,D.isAniVisible=!0,Ke&&(Ft&&Xt.enabled&&Xt.autoLoad&&!Ct.length?rt():(tt(),He())),setTimeout(()=>{D.visiblePanel=!0,Bt(),Z().then(()=>H())},10),setTimeout(()=>{Z().then(()=>H())},100),ut(),_e(),Ee("visible-change",{visible:!0},null))},$e=()=>{D.searchValue="",D.searchLoading=!1,D.visiblePanel=!1,I.hpTimeout=setTimeout(()=>{D.isAniVisible=!1},350),Ee("visible-change",{visible:!1},null)},ce=(be,Ke,Ft)=>{Re(Ke),Ke!==e.modelValue&&(Ee("change",{value:Ke,option:Ft},be),d&&s&&d.triggerItemEvent(be,s.itemConfig.field,Ke))},Le=(be,Ke)=>{I.remoteValMaps={},ce(be,Ke,null),Ee("clear",{value:Ke},be)},nt=be=>{const{$event:Ke}=be;Le(Ke,null),$e()},et=be=>{const{$event:Ke}=be,{modelValue:Ft,multiple:Ct,max:Pt}=e,{optList:zt}=D,Xt=z.value;if(Ct){const _t=u.eqNull(Ft)?[]:u.isArray(Ft)?Ft:[Ft];for(let st=0;st<zt.length;st++){const Ut=zt[st][Xt];if(Xe(_t)){Se&&Se.modal.message({content:lr("vxe.select.overSizeErr",[Pt]),status:"warning"});break}_t.some(qt=>qt===Ut)||_t.push(Ut)}ce(Ke,_t,zt[0]),Ee("all-change",{value:_t},Ke)}},vt=be=>{const{$event:Ke}=be;Le(Ke,null),$e()},xt=(be,Ke)=>{const{modelValue:Ft,multiple:Ct}=e,{remoteValMaps:Pt}=I,zt=z.value,Xt=Ke[zt],_t=Pt[Xt];if(D.visiblePanel){if(_t?_t.item=Ke:Pt[Xt]={key:le(Ke),item:Ke,_index:-1},Ct){let st=[];const Et=u.eqNull(Ft)?[]:u.isArray(Ft)?Ft:[Ft];u.findIndexOf(Et,qt=>qt===Xt)===-1?st=Et.concat([Xt]):st=Et.filter(qt=>qt!==Xt),ce(be,st,Ke)}else ce(be,Xt,Ke),$e();D.reactFlag++}},Dt=be=>{const{visiblePanel:Ke}=D;if(!L.value&&Ke){const Ct=p.value;oo(be,Ct).flag?_e():$e()}},gt=be=>{const{visiblePanel:Ke}=D;if(!L.value){const Ct=c.value,Pt=p.value;D.isActivated=oo(be,Ct).flag||oo(be,Pt).flag,Ke&&!D.isActivated&&$e()}},Tt=be=>{const Ke=be.disabled,Ft=le(be);return!Ke&&!it(Ft)},ht=(be,Ke)=>{const{allowCreate:Ft}=e,{optList:Ct}=D,{optFullValMaps:Pt,optAddMaps:zt,afterVisibleList:Xt}=I,_t=z.value;let st=Xt,Et=0;if(Ft&&Ct.length){const cr=Ct[0],or=le(cr);zt[or]&&(Et=1,st=[zt[or]].concat(st))}if(!be)if(Ke)for(let cr=0;cr<st.length;cr++){const or=st[cr];if(Tt(or))return or}else for(let cr=st.length-1;cr>=0;cr--){const or=st[cr];if(Tt(or))return or}let Ut=0;const qt=be?Pt[be[_t]]:null;if(qt&&(Ut=qt._index+Et),Ut>-1){if(Ke)for(let cr=Ut+1;cr<=st.length-1;cr++){const or=st[cr];if(Tt(or))return or}else if(Ut>0)for(let cr=Ut-1;cr>=0;cr--){const or=st[cr];if(Tt(or))return or}}return null},yt=be=>{const{clearable:Ke}=e,{visiblePanel:Ft,currentOption:Ct}=D;if(!L.value){const zt=rr.hasKey(be,Mr.TAB),Xt=rr.hasKey(be,Mr.ENTER),_t=rr.hasKey(be,Mr.ESCAPE),st=rr.hasKey(be,Mr.ARROW_UP),Et=rr.hasKey(be,Mr.ARROW_DOWN),Ut=rr.hasKey(be,Mr.DELETE);if(zt&&(D.isActivated=!1),Ft){if(_t||zt)$e();else if(Xt)Ct&&(be.preventDefault(),be.stopPropagation(),xt(be,Ct));else if(st||Et){be.preventDefault();let qt=ht(Ct,Et);qt||(qt=ht(null,Et)),qt&&(Ue(qt),Ze(qt,Et))}}else(st||Et||Xt)&&D.isActivated&&(be.preventDefault(),te());D.isActivated&&Ut&&Ke&&Le(be,null)}},Lt=()=>{const{visiblePanel:be,isActivated:Ke}=D;if(be&&$e(),Ke&&(D.isActivated=!1),be||Ke){const Ft=b.value;Ft&&Ft.blur()}},Vt=()=>{const{visiblePanel:be}=D;be&&_e()},Bt=()=>{e.filterable&&ge(()=>{const be=E.value;be&&be.focus()})},Nt=be=>{L.value||D.visiblePanel||(D.triggerFocusPanel=!0,te(),setTimeout(()=>{D.triggerFocusPanel=!1},500)),Ee("focus",{},be)},Kt=be=>{ee(be),Ee("click",{triggerButton:!1,visible:D.visiblePanel},be)},Wt=be=>{D.isActivated=!1,Ee("blur",{},be)},Fe=be=>{ee(be),Ee("click",{triggerButton:!0,visible:D.visiblePanel},be)},Oe=be=>{D.searchValue=be},Ye=()=>{D.isActivated=!0},rt=()=>{const{modelValue:be,remote:Ke,remoteMethod:Ft}=e,{searchValue:Ct}=D,Pt=J.value,zt=Pt.queryMethod||Ft;Ke&&zt&&Pt.enabled?(D.searchLoading=!0,Promise.resolve(zt({$select:N,searchValue:Ct,value:be})).then(()=>ge()).catch(()=>ge()).finally(()=>{D.searchLoading=!1,tt(),He()})):(tt(),He())},at=u.debounce(rt,350,{trailing:!0}),ee=be=>{const{$event:Ke}=be;Ke.preventDefault(),D.triggerFocusPanel?D.triggerFocusPanel=!1:D.visiblePanel?$e():te()},Ie=(be,Ke)=>!!(Ke.disabled||fe.value&&!be),Ne=()=>{const{scrollYLoad:be}=D,{scrollYStore:Ke,afterVisibleList:Ft}=I;D.bodyHeight=be?Ft.length*Ke.rowHeight:0,D.topSpaceHeight=be?Math.max(Ke.startIndex*Ke.rowHeight,0):0},pt=()=>{const{filterable:be,allowCreate:Ke}=e,{scrollYLoad:Ft,searchValue:Ct}=D,{optAddMaps:Pt,scrollYStore:zt,afterVisibleList:Xt}=I,_t=U.value,st=z.value,Et=Ft?Xt.slice(zt.startIndex,zt.endIndex):Xt.slice(0);if(be&&Ke&&Ct&&!Et.some(Ut=>Ut[_t]===Ct)){const Ut=Pt[Ct]||rn({[Pe()]:Ct,[_t]:Ct,[st]:Ct});Pt[Ct]=Ut,Et.unshift(Ut)}return D.optList=Et,ge()},He=()=>{pt(),Ne()},dt=()=>ge().then(()=>{const{scrollYLoad:be}=D,{scrollYStore:Ke}=I,Ft=g.value,Ct=G.value;let Pt=0,zt;if(Ft&&(zt||(zt=Ft.children[0])),zt&&(Pt=zt.offsetHeight),Pt=Math.max(20,Pt),Ke.rowHeight=Pt,be){const Xt=y.value,_t=Math.max(8,Xt?Math.ceil(Xt.clientHeight/Pt):0),st=Math.max(0,Math.min(2,u.toNumber(Ct.oSize)));Ke.offsetSize=st,Ke.visibleSize=_t,Ke.endIndex=Math.max(Ke.startIndex,_t+st,Ke.endIndex),He()}else Ne()}),Ze=(be,Ke)=>{const{scrollYLoad:Ft}=D,{optFullValMaps:Ct,scrollYStore:Pt}=I,zt=z.value,Xt=Ct[be[zt]];if(Xt){const _t=Xt.key,st=Xt._index;if(st>-1){const Et=y.value,Ut=p.value;if(!Ut)return;const qt=Ut.querySelector(`[optid='${_t}']`);if(Et)if(qt){const cr=Et.offsetHeight,or=1;Ke?qt.offsetTop+qt.offsetHeight-Et.scrollTop>cr?Et.scrollTop=qt.offsetTop+qt.offsetHeight-cr:(qt.offsetTop+or<Et.scrollTop||qt.offsetTop+or>Et.scrollTop+Et.clientHeight)&&(Et.scrollTop=qt.offsetTop-or):qt.offsetTop+or<Et.scrollTop||qt.offsetTop+or>Et.scrollTop+Et.clientHeight?Et.scrollTop=qt.offsetTop-or:qt.offsetTop+qt.offsetHeight-Et.scrollTop>cr&&(Et.scrollTop=qt.offsetTop+qt.offsetHeight-cr)}else Ft&&(Ke?Et.scrollTop=st*Pt.rowHeight-Et.clientHeight+Pt.rowHeight:Et.scrollTop=st*Pt.rowHeight)}}},$=(be,Ke)=>{const Ft=y.value;return Ft&&(u.isNumber(be)&&(Ft.scrollLeft=be),u.isNumber(Ke)&&(Ft.scrollTop=Ke)),D.scrollYLoad?new Promise(Ct=>{setTimeout(()=>{ge(()=>{Ct()})},50)}):ge()},H=()=>{const{lastScrollLeft:be,lastScrollTop:Ke}=I;return qe().then(()=>{if(be||Ke)return I.lastScrollLeft=0,I.lastScrollTop=0,$(be,Ke)})},Z=()=>{const be=c.value;return be&&be.clientWidth&&be.clientHeight?dt():Promise.resolve()},xe=be=>{const{scrollYStore:Ke}=I,{startIndex:Ft,endIndex:Ct,visibleSize:Pt,offsetSize:zt,rowHeight:Xt}=Ke,st=be.target.scrollTop,Et=Math.floor(st/Xt),Ut=Math.max(0,Et-1-zt),qt=Et+Pt+zt;(Et<=Ft||Et>=Ct-Pt-1)&&(Ft!==Ut||Ct!==qt)&&(Ke.startIndex=Ut,Ke.endIndex=qt,He())},De=()=>{const{lastScrollTime:Ke}=I;return!!(Ke&&Date.now()<Ke+250)},ke=be=>{const Ke=be.target,Ft=Ke.scrollTop,Ct=Ke.scrollLeft,Pt=Ct!==I.lastScrollLeft,zt=Ft!==I.lastScrollTop;I.lastScrollTop=Ft,I.lastScrollLeft=Ct,D.scrollYLoad&&xe(be),I.lastScrollTime=Date.now(),Ee("scroll",{scrollLeft:Ct,scrollTop:Ft,isX:Pt,isY:zt},be)},Be=be=>{Ae(be||[]);const{isLoaded:Ke,fullData:Ft,scrollYStore:Ct}=I,Pt=q.value,zt=G.value,Xt=z.value;if(Object.assign(Ct,{startIndex:0,endIndex:1,visibleSize:0}),I.synchData=be||[],D.scrollYLoad=!!zt.enabled&&zt.gt>-1&&(zt.gt===0||zt.gt<=Ft.length),pt(),!Ke){const{selectMode:_t}=Pt;if(be.length>0&&u.eqNull(e.modelValue)){if(_t==="first"||_t==="last"){const st=u[_t](be);st&&ge(()=>{u.eqNull(e.modelValue)&&Re(st[Xt])})}I.isLoaded=!0}}return dt().then(()=>{H()})},qe=()=>{const be=y.value;return be&&(be.scrollTop=0,be.scrollLeft=0),I.lastScrollTop=0,I.lastScrollLeft=0,ge()},it=be=>{const{optGroupKeyMaps:Ke}=I;return!!Ke[be]};Object.assign(N,{dispatchEvent:Ee,loadData:Be,reloadData(be){return I.isLoaded=!1,qe(),Be(be)},isPanelVisible(){return D.visiblePanel},togglePanel(){return D.visiblePanel?$e():te(),ge()},hidePanel(){return D.visiblePanel&&$e(),ge()},showPanel(){return D.visiblePanel||te(),ge()},refreshOption(){return tt(),He(),ge()},focus(){const be=b.value;return be&&be.blur(),D.isActivated=!0,ge()},blur(){const be=b.value;return be&&be.blur(),D.isActivated=!1,ge()},recalculate:Z,clearScroll:qe});const Ve=be=>{const{allowCreate:Ke,optionKey:Ft,modelValue:Ct}=e,{currentOption:Pt}=D,{optAddMaps:zt}=I,Xt=we.value,_t=U.value,st=z.value,Et=k.value,{useKey:Ut}=Xt,qt=r.option;return be.map((cr,or)=>{const{slots:Tr,className:nn}=cr,Fr=le(cr),Xr=cr[st],zr=it(Fr),Hr=!!(Ke&&zt[Fr]),Zr=!Hr&&(u.isArray(Ct)?Ct.indexOf(Xr)>-1:Ct===Xr),Or=Hr||!zr||tc(cr),er=!Hr&&Ie(Zr,cr),Ur=Tr?Tr.default:null,Nr={option:cr,group:zr?cr:null,$select:N};let jr="",Jr=[];return qt?Jr=ve(qt,Nr):Ur?Jr=ve(Ur,Nr):(jr=qo(cr[zr?Et:_t]||Xr),Jr=jr),Or?m("div",{key:Ut||Ft?Fr:or,class:["vxe-select-option",nn?u.isFunction(nn)?nn(Nr):nn:"",{"vxe-select-optgroup":zr,"is--disabled":er,"is--selected":Zr,"is--add":Hr,"is--hover":Pt&&le(Pt)===Fr}],optid:Fr,title:jr||null,onMousedown:on=>{on.button===0&&on.stopPropagation()},onClick:on=>{!er&&!zr&&xt(on,cr)},onMouseenter:()=>{!er&&!zr&&!De()&&Ue(cr)}},Ke?[m("span",{key:1,class:"vxe-select-option--label"},Jr),Hr?m("span",{key:2,class:"vxe-select-option--add-icon"},[m("i",{class:gr().SELECT_ADD_OPTION})]):vr()]:Jr):vr()})},wt=()=>{const{optList:be,searchLoading:Ke}=D;return Ke?[m("div",{class:"vxe-select--search-loading"},[m("i",{class:["vxe-select--search-icon",gr().SELECT_LOADED]}),m("span",{class:"vxe-select--search-text"},lr("vxe.select.loadingText"))])]:be.length?Ve(be):[m("div",{class:"vxe-select--empty-placeholder"},e.emptyText||lr("vxe.select.emptyText"))]},ir=()=>{const{modelValue:be,className:Ke,popupClassName:Ft,multiple:Ct,loading:Pt,filterable:zt,showTotalButoon:Xt,showCheckedButoon:_t,showClearButton:st}=e,{initialized:Et,isActivated:Ut,isAniVisible:qt,optList:cr,visiblePanel:or,bodyHeight:Tr,topSpaceHeight:nn}=D,Fr=O.value,Xr=L.value,zr=re.value,Hr=F.value,Zr=Y.value,Or=M.value,er=r.default,Ur=r.header,Nr=r.footer,jr=r.prefix;if(Zr)return m("div",{ref:c,class:["vxe-select--readonly",Ke]},[m("div",{class:"vxe-select-slots",ref:"hideOption"},er?er({}):[]),m("span",{class:"vxe-select-label"},zr)]);const Jr=u.eqNull(be)?[]:u.isArray(be)?be:[be];return m("div",{ref:c,class:["vxe-select",Ke?u.isFunction(Ke)?Ke({$select:N}):Ke:"",{[`size--${Fr}`]:Fr,"is--visible":or,"is--disabled":Xr,"is--filter":zt,"is--loading":Pt,"is--active":Ut}]},[m("div",{class:"vxe-select-slots",ref:"hideOption"},er?er({}):[]),m(mi,{ref:b,clearable:e.clearable,placeholder:Or,readonly:!0,disabled:Xr,type:"text",prefixIcon:e.prefixIcon,suffixIcon:Pt?gr().SELECT_LOADED:or?gr().SELECT_OPEN:gr().SELECT_CLOSE,autoFocus:!1,title:zr,modelValue:zr,onClear:nt,onClick:Kt,onFocus:Nt,onBlur:Wt,onSuffixClick:Fe},jr?{prefix:()=>jr({})}:{}),m(Bl,{to:"body",disabled:Hr?!Et:!0},[m("div",{ref:p,class:["vxe-table--ignore-clear vxe-select--panel",Ft?u.isFunction(Ft)?Ft({$select:N}):Ft:"",{[`size--${Fr}`]:Fr,"is--transfer":Hr,"ani--leave":!Pt&&qt,"ani--enter":!Pt&&or}],placement:D.panelPlacement,style:D.panelStyle},Et&&(or||qt)?[m("div",{class:"vxe-select--panel-wrapper"},[zt?m("div",{class:"vxe-select--panel-search"},[m(mi,{ref:E,class:"vxe-select-search--input",modelValue:D.searchValue,type:"text",clearable:!0,disabled:!1,readonly:!1,placeholder:lr("vxe.select.search"),prefixIcon:gr().INPUT_SEARCH,"onUpdate:modelValue":Oe,onFocus:Ye,onChange:at,onSearch:at})]):vr(),Xt||_t&&Ct||st||Ur?m("div",{class:"vxe-select--panel-header"},Ur?ve(Ur,{}):[m("div",{class:"vxe-select--header-button"},[Xt?m("div",{class:"vxe-select--header-total"},lr("vxe.select.total",[Jr.length,cr.length])):vr(),m("div",{class:"vxe-select--header-btns"},[_t&&Ct?m(no,{content:lr("vxe.select.allChecked"),mode:"text",onClick:et}):vr(),st?m(no,{content:lr("vxe.select.clear"),mode:"text",onClick:vt}):vr()])])]):vr(),m("div",{class:"vxe-select--panel-body"},[m("div",{ref:y,class:"vxe-select-option--wrapper",onScroll:ke},[m("div",{class:"vxe-select--y-space",style:{height:Tr?`${Tr}px`:""}}),m("div",{ref:g,class:"vxe-select--body",style:{transform:`translateY(${nn}px)`}},wt())])]),Nr?m("div",{class:"vxe-select--panel-footer"},ve(Nr,{})):vr()])]:[])])])};return sr(()=>D.staticOptions,be=>{Be(be)}),sr(()=>e.options,be=>{Be(be||[])}),sr(()=>e.optionGroups,be=>{Be(be||[])}),jn(()=>{ge(()=>{const{options:be,optionGroups:Ke}=e;Ke?Be(Ke):be&&Be(be)}),rr.on(N,"mousewheel",Dt),rr.on(N,"mousedown",gt),rr.on(N,"keydown",yt),rr.on(N,"blur",Lt),rr.on(N,"resize",Vt)}),xo(()=>{rr.off(N,"mousewheel"),rr.off(N,"mousedown"),rr.off(N,"keydown"),rr.off(N,"blur"),rr.off(N,"resize"),u.assign(I,nT())}),ao("$xeSelect",N),N.renderVN=ir,N},render(){return this.renderVN()}}),wc=so({name:"VxePager",props:{size:{type:String,default:()=>ze().pager.size||ze().size},layouts:{type:Array,default:()=>ze().pager.layouts||["PrevJump","PrevPage","Jump","PageCount","NextPage","NextJump","Sizes","Total"]},currentPage:{type:Number,default:1},loading:Boolean,pageSize:{type:Number,default:()=>ze().pager.pageSize||10},total:{type:Number,default:0},pagerCount:{type:Number,default:()=>ze().pager.pagerCount||7},pageSizes:{type:Array,default:()=>ze().pager.pageSizes||[10,15,20,50,100]},align:{type:String,default:()=>ze().pager.align},border:{type:Boolean,default:()=>ze().pager.border},background:{type:Boolean,default:()=>ze().pager.background},perfect:{type:Boolean,default:()=>ze().pager.perfect},autoHidden:{type:Boolean,default:()=>ze().pager.autoHidden},transfer:{type:Boolean,default:()=>ze().pager.transfer},className:[String,Function],pageSizePlacement:{type:String,default:()=>ze().pager.pageSizePlacement},iconPrevPage:String,iconJumpPrev:String,iconJumpNext:String,iconNextPage:String,iconJumpMore:String,iconHomePage:String,iconEndPage:String},emits:["update:pageSize","update:currentPage","page-change"],setup(e,t){const{slots:r,emit:n}=t,l=u.uniqueId(),{computeSize:a}=io(e),i=mr("$xeGrid",null),d=rn({inpCurrPage:e.currentPage}),s=mt(),h={refElem:s},c=ue(()=>O(e.total,e.pageSize)),b=ue(()=>{const{pagerCount:me}=e,Ae=c.value>me?me-2:me,tt=[];for(let Ue=0;Ue<Ae;Ue++)tt.push(Ue);return tt}),E=ue(()=>Math.floor((e.pagerCount-2)/2)),y=ue(()=>e.pageSizes.map(me=>u.isNumber(me)?{value:me,label:`${lr("vxe.pager.pagesize",[me])}`}:Object.assign({value:"",label:""},me))),p={xID:l,props:e,context:t,getRefMaps:()=>h},g=(me,Te,Ae)=>{n(me,Un(Ae,{$pager:p},Te))},O=(me,Te)=>Math.max(Math.ceil(me/Te),1),D=(me,Te)=>{n("update:currentPage",Te),me&&Te!==e.currentPage&&g("page-change",{type:"current",pageSize:e.pageSize,currentPage:Te},me)},I=(me,Te)=>{n("update:currentPage",me),Te&&me!==e.currentPage&&g("page-change",{type:"current",pageSize:e.pageSize,currentPage:me},Te)},W=me=>{const{$event:Te}=me,Ae=Te.target,tt=u.toInteger(Ae.value),Ue=c.value,ut=tt<=0?1:tt>=Ue?Ue:tt,_e=u.toValueString(ut);Ae.value=_e,d.inpCurrPage=_e,I(ut,Te)},N=me=>{const{currentPage:Te}=e;Te>1&&I(1,me)},Y=me=>{const{currentPage:Te}=e,Ae=c.value;Te<Ae&&I(Ae,me)},L=me=>{const{currentPage:Te}=e,Ae=c.value;Te>1&&I(Math.min(Ae,Math.max(Te-1,1)),me)},F=me=>{const{currentPage:Te}=e,Ae=c.value;Te<Ae&&I(Math.min(Ae,Te+1),me)},M=me=>{const Te=b.value;I(Math.max(e.currentPage-Te.length,1),me)},q=me=>{const Te=c.value,Ae=b.value;I(Math.min(e.currentPage+Ae.length,Te),me)},V=me=>{const{value:Te,$event:Ae}=me,tt=u.toNumber(Te),Ue=O(e.total,tt);let ut=e.currentPage;ut>Ue&&(ut=Ue,n("update:currentPage",Ue)),n("update:pageSize",tt),Ae&&g("page-change",{type:"size",pageSize:tt,currentPage:ut},Ae)},j=me=>{const{$event:Te}=me;rr.hasKey(Te,Mr.ENTER)?W(me):rr.hasKey(Te,Mr.ARROW_UP)?(Te.preventDefault(),F(Te)):rr.hasKey(Te,Mr.ARROW_DOWN)&&(Te.preventDefault(),L(Te))},U=()=>{const{currentPage:me,total:Te}=e,Ae=r.home,tt=c.value;return Ae?m("span",{class:"vxe-pager--custom-home-btn"},Ae({$pager:p,total:Te,currentPage:me,pageCount:tt})):m("button",{class:["vxe-pager--home-btn",{"is--disabled":me<=1}],type:"button",title:lr("vxe.pager.homePageTitle"),onClick:N},[m("i",{class:["vxe-pager--btn-icon",e.iconHomePage||gr().PAGER_HOME]})])},z=()=>{const{currentPage:me,total:Te}=e,Ae=r.prevPage||r["prev-page"],tt=c.value;return Ae?m("span",{class:"vxe-pager--custom-prev-btn"},Ae({$pager:p,total:Te,currentPage:me,pageCount:tt})):m("button",{class:["vxe-pager--prev-btn",{"is--disabled":me<=1}],type:"button",title:lr("vxe.pager.prevPageTitle"),onClick:L},[m("i",{class:["vxe-pager--btn-icon",e.iconPrevPage||gr().PAGER_PREV_PAGE]})])},k=me=>{const{currentPage:Te,total:Ae}=e,tt=r.prevJump||r["prev-jump"],Ue=c.value;return tt?m("span",{class:"vxe-pager--custom-jump-prev"},tt({$pager:p,total:Ae,currentPage:Te,pageCount:Ue})):m(me||"button",{class:["vxe-pager--jump-prev",{"is--fixed":!me,"is--disabled":Te<=1}],type:"button",title:lr("vxe.pager.prevJumpTitle"),onClick:M},[me?m("i",{class:["vxe-pager--jump-more-icon",e.iconJumpMore||gr().PAGER_JUMP_MORE]}):null,m("i",{class:["vxe-pager--jump-icon",e.iconJumpPrev||gr().PAGER_JUMP_PREV]})])},ne=me=>{const{currentPage:Te,total:Ae}=e,tt=r.nextJump||r["next-jump"],Ue=c.value;return tt?m("span",{class:"vxe-pager--custom-jump-next"},tt({$pager:p,total:Ae,currentPage:Te,pageCount:Ue})):m(me||"button",{class:["vxe-pager--jump-next",{"is--fixed":!me,"is--disabled":Te>=Ue}],type:"button",title:lr("vxe.pager.nextJumpTitle"),onClick:q},[me?m("i",{class:["vxe-pager--jump-more-icon",e.iconJumpMore||gr().PAGER_JUMP_MORE]}):null,m("i",{class:["vxe-pager--jump-icon",e.iconJumpNext||gr().PAGER_JUMP_NEXT]})])},fe=()=>{const{currentPage:me,total:Te}=e,Ae=r.nextPage||r["next-page"],tt=c.value;return Ae?m("span",{class:"vxe-pager--custom-next-btn"},Ae({$pager:p,total:Te,currentPage:me,pageCount:tt})):m("button",{class:["vxe-pager--next-btn",{"is--disabled":me>=tt}],type:"button",title:lr("vxe.pager.nextPageTitle"),onClick:F},[m("i",{class:["vxe-pager--btn-icon",e.iconNextPage||gr().PAGER_NEXT_PAGE]})])},G=()=>{const{currentPage:me,total:Te}=e,Ae=r.end,tt=c.value;return Ae?m("span",{class:"vxe-pager--custom-end-btn"},Ae({$pager:p,total:Te,currentPage:me,pageCount:tt})):m("button",{class:["vxe-pager--end-btn",{"is--disabled":me>=tt}],type:"button",title:lr("vxe.pager.endPageTitle"),onClick:Y},[m("i",{class:["vxe-pager--btn-icon",e.iconEndPage||gr().PAGER_END]})])},J=me=>{const{currentPage:Te,total:Ae,pagerCount:tt}=e,Ue=me?r.numberJump||r["number-jump"]:r.number,ut=[],_e=c.value,te=b.value,$e=E.value,ce=_e>tt,Le=ce&&Te>$e+1,nt=ce&&Te<_e-$e,et=[];let vt=1;return ce&&(Te>=_e-$e?vt=Math.max(_e-te.length+1,1):vt=Math.max(Te-$e,1)),me&&Le&&(et.push(1),ut.push(m("button",{class:"vxe-pager--num-btn",type:"button",onClick:xt=>D(xt,1)},"1"),k("span"))),te.forEach((xt,Dt)=>{const gt=vt+Dt;gt<=_e&&(et.push(gt),ut.push(m("button",{key:gt,class:["vxe-pager--num-btn",{"is--active":Te===gt}],type:"button",onClick:Tt=>D(Tt,gt)},`${gt}`)))}),me&&nt&&(et.push(_e),ut.push(ne("button"),m("button",{class:"vxe-pager--num-btn",type:"button",onClick:xt=>D(xt,_e)},_e))),Ue?m("span",{class:"vxe-pager--custom-btn-wrapper"},Ue({$pager:p,total:Ae,numList:et,currentPage:Te,pageCount:_e})):m("span",{class:"vxe-pager--btn-wrapper"},ut)},we=()=>J(!0),se=()=>{const{total:me,currentPage:Te,pageSize:Ae,pageSizePlacement:tt,transfer:Ue}=e,ut=r.sizes,_e=y.value,te=c.value;return ut?m("span",{class:"vxe-pager--custom-sizes"},ut({$pager:p,total:me,currentPage:Te,pageCount:te,pageSize:Ae,options:_e})):m(xs,{class:"vxe-pager--sizes",modelValue:Ae,placement:tt,transfer:Ue,options:_e,onChange:V})},re=me=>{const{total:Te}=e,{inpCurrPage:Ae}=d,tt=me?r.fullJump||r["full-jump"]:r.jump,Ue=c.value;return tt?m("span",{class:"vxe-pager--custom-jump"},tt({$pager:p,total:Te,currentPage:Ae,pageCount:Ue})):m("span",{class:"vxe-pager--jump"},[me?m("span",{class:"vxe-pager--goto-text"},lr("vxe.pager.goto")):null,m(bs,{class:"vxe-pager--goto",modelValue:d.inpCurrPage,placeholder:lr("vxe.pager.gotoTitle"),align:"center",type:"integer",max:Ue,min:1,controls:!1,onKeydown:j,onBlur:W,"onUpdate:modelValue"(ut){d.inpCurrPage=ut}}),me?m("span",{class:"vxe-pager--classifier-text"},lr("vxe.pager.pageClassifier")):null])},ve=()=>re(!0),Ee=()=>{const{currentPage:me,total:Te}=e,Ae=r.pageCount||r["page-count"],tt=c.value;return Ae?m("span",{class:"vxe-pager--custom-count"},Ae({$pager:p,total:Te,currentPage:me,pageCount:tt})):m("span",{class:"vxe-pager--count"},[m("span",{class:"vxe-pager--separator"}),m("span",tt)])},Re=()=>{const{currentPage:me,total:Te}=e,Ae=r.total,tt=c.value;return Ae?m("span",{class:"vxe-pager--custom-total"},Ae({$pager:p,total:Te,currentPage:me,pageCount:tt})):m("span",{class:"vxe-pager--total"},lr("vxe.pager.total",[Te]))};Object.assign(p,{dispatchEvent:g,setPageSize(me){return V({value:me}),ge()},setPageSizeByEvent(me,Te){V({value:Te,$event:me})},homePage(){return N(),ge()},homePageByEvent(me){N(me)},endPage(){return Y(),ge()},endPageByEvent(me){Y(me)},prevPage(){return L(),ge()},prevPageByEvent(me){L(me)},nextPage(){return F(),ge()},nextPageByEvent(me){F(me)},prevJump(){return M(),ge()},prevJumpByEvent(me){M(me)},nextJump(){return q(),ge()},nextJumpByEvent(me){q(me)},setCurrentPage(me){const Te=u.toNumber(me)||1;return d.inpCurrPage=Te,I(Te),ge()},setCurrentPageByEvent(me,Te){const Ae=u.toNumber(Te)||1;d.inpCurrPage=Ae,I(Ae,me)},jumpPage(me){return Wa("vxe.error.delFunc",["jumpPage","setCurrentPage"]),p.setCurrentPage(me)}},{handlePrevPage:L,handleNextPage:F,handlePrevJump:M,handleNextJump:q}),sr(()=>e.currentPage,me=>{d.inpCurrPage=me});const Xe=()=>{const{align:me,layouts:Te,className:Ae}=e,tt=[],Ue=a.value,ut=c.value;return r.left&&tt.push(m("span",{class:"vxe-pager--left-wrapper"},r.left({$grid:i}))),Te.forEach(_e=>{let te;switch(_e){case"Home":te=U;break;case"PrevJump":te=k;break;case"PrevPage":te=z;break;case"Number":te=J;break;case"JumpNumber":te=we;break;case"NextPage":te=fe;break;case"NextJump":te=ne;break;case"End":te=G;break;case"Sizes":te=se;break;case"FullJump":te=ve;break;case"Jump":te=re;break;case"PageCount":te=Ee;break;case"Total":te=Re;break}te?tt.push(te()):Kx("vxe.error.notProp",[`layouts -> ${_e}`])}),r.right&&tt.push(m("span",{class:"vxe-pager--right-wrapper"},r.right({$grid:i}))),m("div",{ref:s,class:["vxe-pager",Ae?u.isFunction(Ae)?Ae({$pager:p}):Ae:"",{[`size--${Ue}`]:Ue,[`align--${me}`]:me,"is--border":e.border,"is--background":e.background,"is--perfect":e.perfect,"is--hidden":e.autoHidden&&ut===1,"is--loading":e.loading}]},[m("div",{class:"vxe-pager--wrapper"},tt)])};return p.renderVN=Xe,p},render(){return this.renderVN()}}),x$=Object.assign(wc,{install:function(e){e.component(wc.name,wc)}});Do.use(x$);Se.component(wc);const qN=so({name:"VxeRadio",props:{modelValue:[String,Number,Boolean],checkedValue:{type:[String,Number,Boolean],default:void 0},title:[String,Number],content:[String,Number],disabled:{type:Boolean,default:null},name:String,strict:{type:Boolean,default:()=>ze().radio.strict},size:{type:String,default:()=>ze().radio.size||ze().size},label:{type:[String,Number,Boolean],default:null}},emits:["update:modelValue","change"],setup(e,t){const{slots:r,emit:n}=t,l=mr("$xeForm",null),a=mr("xeFormItemInfo",null),i=mr("$xeRadioGroup",null),d=u.uniqueId(),s=rn({}),h={xID:d,props:e,context:t,reactData:s},{computeSize:c}=io(e),b=ue(()=>{const{disabled:L}=e;if(L===null&&i){const{computeIsDisabled:F}=i.getComputeMaps();return F.value}return L}),E=ue(()=>i?i.name:e.name),y=ue(()=>i?i.props.strict:e.strict),p=ue(()=>{const{label:L,checkedValue:F}=e,M=u.isUndefined(F)?L:F;return i?i.props.modelValue===M:e.modelValue===M}),g=(L,F)=>{i?i.handleChecked({label:L,checkedValue:L},F):(n("update:modelValue",L),I("change",{value:L,label:L,checkedValue:L},F),l&&a&&l.triggerItemEvent(F,a.itemConfig.field,L))},O=L=>{if(!b.value){const{label:M,checkedValue:q}=e,V=u.isUndefined(q)?M:q;g(V,L)}},D=L=>{const F=b.value,M=y.value;if(!F&&!M){const{label:q,checkedValue:V}=e;(u.isUndefined(V)?q:V)===(i?i.props.modelValue:e.modelValue)&&g(null,L)}},I=(L,F,M)=>{n(L,Un(M,{$radio:h},F))};Object.assign(h,{dispatchEvent:I},{});const Y=()=>{const{label:L,checkedValue:F}=e,M=u.isUndefined(F)?L:F,q=c.value,V=b.value,j=E.value,U=p.value;return m("label",{key:M,class:["vxe-radio vxe-radio--default",{[`size--${q}`]:q,"is--checked":U,"is--disabled":V}],title:e.title},[m("input",{class:"vxe-radio--input",type:"radio",name:j,checked:U,disabled:V,onChange:O,onClick:D}),m("span",{class:["vxe-radio--icon",U?gr().RADIO_CHECKED:V?gr().RADIO_DISABLED_UNCHECKED:gr().RADIO_UNCHECKED]}),m("span",{class:"vxe-radio--label"},r.default?r.default({}):qo(e.content))])};return h.renderVN=Y,h},render(){return this.renderVN()}}),HN=so({name:"VxeRadioButton",props:{modelValue:[String,Number,Boolean],checkedValue:{type:[String,Number,Boolean],default:void 0},title:[String,Number],content:[String,Number],disabled:{type:Boolean,default:null},strict:{type:Boolean,default:()=>ze().radioButton.strict},size:{type:String,default:()=>ze().radioButton.size||ze().size},label:{type:[String,Number,Boolean],default:null}},emits:["update:modelValue","change"],setup(e,t){const{slots:r,emit:n}=t,l=mr("$xeForm",null),a=mr("xeFormItemInfo",null),i=mr("$xeRadioGroup",null),d=u.uniqueId(),s=rn({}),{computeSize:h}=io(e),c={xID:d,props:e,context:t,reactData:s},b=ue(()=>{const{disabled:Y}=e;if(Y===null&&i){const{computeIsDisabled:L}=i.getComputeMaps();return L.value}return Y}),E=ue(()=>i?i.name:null),y=ue(()=>i?i.props.strict:e.strict),p=ue(()=>{const{label:Y,checkedValue:L}=e,F=u.isUndefined(L)?Y:L;return i?i.props.modelValue===F:e.modelValue===F}),g={dispatchEvent(Y,L,F){n(Y,Un(F,{$radioButton:c},L))}};Object.assign(c,g,{});const D=(Y,L)=>{i?i.handleChecked({label:Y,checkedValue:Y},L):(n("update:modelValue",Y),g.dispatchEvent("change",{value:Y,label:Y},L),l&&a&&l.triggerItemEvent(L,a.itemConfig.field,Y))},I=Y=>{if(!b.value){const{label:F,checkedValue:M}=e,q=u.isUndefined(M)?F:M;D(q,Y)}},W=Y=>{const L=b.value,F=y.value;if(!L&&!F){const{label:M,checkedValue:q}=e;(u.isUndefined(q)?M:q)===(i?i.props.modelValue:e.modelValue)&&D(null,Y)}},N=()=>{const{label:Y,checkedValue:L}=e,F=u.isUndefined(L)?Y:L,M=h.value,q=b.value,V=E.value,j=p.value;return m("label",{key:F,class:["vxe-radio vxe-radio--button",{[`size--${M}`]:M,"is--disabled":q}],title:e.title},[m("input",{class:"vxe-radio--input",type:"radio",name:V,checked:j,disabled:q,onChange:I,onClick:W}),m("span",{class:"vxe-radio--label"},r.default?r.default({}):qo(e.content))])};return c.renderVN=N,N}}),Ec=so({name:"VxeRadioGroup",props:{modelValue:[String,Number,Boolean],disabled:{type:Boolean,default:null},type:String,options:Array,optionProps:Object,strict:{type:Boolean,default:()=>ze().radioGroup.strict},size:{type:String,default:()=>ze().radioGroup.size||ze().size}},emits:["update:modelValue","change"],setup(e,t){const{slots:r,emit:n}=t,l=mr("$xeForm",null),a=mr("xeFormItemInfo",null),i=u.uniqueId(),{computeSize:d}=io(e),s=rn({}),c={computeIsDisabled:ue(()=>{const{disabled:N}=e;return N===null?l?l.props.readonly||l.props.disabled:!1:N})},b={xID:i,props:e,context:t,reactData:s,name:u.uniqueId("xe_group_"),getComputeMaps:()=>c},E=ue(()=>Object.assign({},e.optionProps)),y=ue(()=>E.value.label||"label"),p=ue(()=>E.value.value||"value"),g=ue(()=>E.value.disabled||"disabled"),O=(N,Y,L)=>{n(N,Un(L,{$radioGroup:b},Y))};Object.assign(b,{dispatchEvent:O},{handleChecked(N,Y){const L=N.checkedValue;n("update:modelValue",L),O("change",{value:L,label:L,checkedValue:L},Y),l&&a&&l.triggerItemEvent(Y,a.itemConfig.field,L)}});const W=()=>{const{options:N,type:Y}=e,L=d.value,F=r.default,M=p.value,q=y.value,V=g.value,j=Y==="button"?HN:qN;return m("div",{class:["vxe-radio-group",{[`size--${L}`]:L}]},F?F({}):N?N.map(U=>m(j,{key:U[M],checkedValue:U[M],content:U[q],disabled:U[V]})):[])};return ao("$xeRadioGroup",b),b.renderVN=W,b},render(){return this.renderVN()}}),C$=Object.assign(Ec,{install:function(e){e.component(Ec.name,Ec)}});Do.use(C$);Se.component(Ec);const y$=Object.assign(xs,{install:function(e){e.component(xs.name,xs)}});Do.use(y$);Se.component(xs);const w$=Object.assign({},vs,{install(e){e.component(vs.name,vs)}});Do.use(w$);Se.component(vs);let Jl=null,Ba=null;function BN(e){const t=e.name,r=u.lastIndexOf(t,"."),n=t.substring(r+1,t.length).toLowerCase();return{filename:t.substring(0,r),type:n}}const E$=e=>{const t=Object.assign({},e);return new Promise((r,n)=>{Ba||(Ba=document.createElement("input"),Ba.name="file",Ba.type="file"),Jl||(Jl=document.createElement("form"),Jl.style.display="none",Jl.appendChild(Ba),document.body.appendChild(Jl));const l=t.types||[],a=!l.length||l.some(i=>i==="*");Ba.multiple=!!t.multiple,Ba.accept=a?"":`.${l.join(", .")}`,Ba.onchange=i=>{const d=i.target,s=Array.from(d.files||[]),h=s[0];let c="";if(!a)for(let b=0;b<s.length;b++){const{type:E}=BN(s[b]);if(!u.includes(l,E)){c=E;break}}c?(t.message!==!1&&Se.modal&&Se.modal.message({content:lr("vxe.error.notType",[c]),status:"error"}),n({status:!1,files:s,file:h})):r({status:!0,files:s,file:h})},Jl.reset(),Ba.click()})};function VN(e,t){return new Blob([e],{type:`text/${t.type};charset=utf-8;`})}const zN=e=>{const t=Object.assign({type:""},e),{filename:r,type:n,content:l}=t,a=n?`${r}.${n}`:`${r}`;if(window.Blob){const i=l instanceof Blob?l:VN(u.toValueString(l),t),d=window.navigator;if(d.msSaveBlob)d.msSaveBlob(i,a);else{const s=URL.createObjectURL(i),h=document.createElement("a");h.target="_blank",h.download=a,h.href=s,document.body.appendChild(h),h.click(),requestAnimationFrame(()=>{h.parentNode&&h.parentNode.removeChild(h),URL.revokeObjectURL(s)})}return Promise.resolve()}return Promise.reject(new Error(lr("vxe.error.notExp")))},Sc=so({name:"VxeUpload",props:{modelValue:[Array,String,Object],showList:{type:Boolean,default:()=>ze().upload.showList},moreConfig:Object,readonly:{type:Boolean,default:null},disabled:{type:Boolean,default:null},autoSubmit:{type:Boolean,default:()=>ze().upload.autoSubmit},mode:{type:String,default:()=>ze().upload.mode},imageTypes:{type:Array,default:()=>u.clone(ze().upload.imageTypes,!0)},imageConfig:{type:Object,default:()=>u.clone(ze().upload.imageConfig,!0)},imageStyle:{type:Object,default:()=>u.clone(ze().upload.imageStyle,!0)},fileTypes:{type:Array,default:()=>u.clone(ze().upload.fileTypes,!0)},dragSort:Boolean,dragToUpload:{type:Boolean,default:()=>u.clone(ze().upload.dragToUpload,!0)},pasteToUpload:{type:Boolean,default:()=>u.clone(ze().upload.pasteToUpload,!0)},keyField:String,singleMode:Boolean,urlMode:Boolean,multiple:Boolean,limitSize:{type:[String,Number],default:()=>ze().upload.limitSize},showLimitSize:{type:Boolean,default:()=>ze().upload.showLimitSize},limitSizeText:{type:[String,Number,Function],default:()=>ze().upload.limitSizeText},limitCount:{type:[String,Number],default:()=>ze().upload.limitCount},showLimitCount:{type:Boolean,default:()=>ze().upload.showLimitCount},limitCountText:{type:[String,Number,Function],default:()=>ze().upload.limitCountText},nameField:{type:String,default:()=>ze().upload.nameField},typeField:{type:String,default:()=>ze().upload.typeField},urlField:{type:String,default:()=>ze().upload.urlField},sizeField:{type:String,default:()=>ze().upload.sizeField},showErrorStatus:{type:Boolean,default:()=>ze().upload.showErrorStatus},showProgress:{type:Boolean,default:()=>ze().upload.showProgress},progressText:{type:[String,Number,Function],default:()=>ze().upload.progressText},showSubmitButton:Boolean,autoHiddenButton:{type:Boolean,default:()=>ze().upload.autoHiddenButton},showUploadButton:{type:Boolean,default:()=>ze().upload.showUploadButton},buttonText:{type:[String,Number,Function],default:()=>ze().upload.buttonText},buttonIcon:{type:String,default:()=>ze().upload.buttonIcon},showButtonText:{type:Boolean,default:()=>ze().upload.showButtonText},showButtonIcon:{type:Boolean,default:()=>ze().upload.showButtonIcon},showRemoveButton:{type:Boolean,default:()=>ze().upload.showRemoveButton},showDownloadButton:{type:Boolean,default:()=>ze().upload.showDownloadButton},showPreview:{type:Boolean,default:()=>ze().upload.showPreview},showTip:{type:Boolean,default:()=>null},maxSimultaneousUploads:{type:Number,default:()=>ze().upload.maxSimultaneousUploads},tipText:[String,Number,Function],hintText:String,previewMethod:Function,uploadMethod:Function,beforeRemoveMethod:Function,removeMethod:Function,beforeDownloadMethod:Function,downloadMethod:Function,getUrlMethod:Function,getThumbnailUrlMethod:Function,size:{type:String,default:()=>ze().upload.size||ze().size}},emits:["update:modelValue","add","remove","remove-fail","download","download-fail","upload-success","upload-error","sort-dragend"],setup(e,t){const{emit:r,slots:n}=t,l=mr("$xeForm",null),a=mr("xeFormItemInfo",null),i=mr("$xeTable",null),d=u.uniqueId(),{computeSize:s}=io(e),h=mt(),c=mt(),b=mt(),E=mt(),y=rn({isDragUploadStatus:!1,showMorePopup:!1,isActivated:!1,fileList:[],fileCacheMaps:{},isDragMove:!1,dragIndex:-1,dragTipText:""}),p={imagePreviewTypes:["jpg","jpeg","png","gif"],prevDragIndex:-1},g={refElem:h},O=ue(()=>{const{readonly:$}=e;return $===null?l?l.props.readonly:!1:$}),D=ue(()=>{const{disabled:$}=e;return $===null?l?l.props.disabled:!1:$}),I=ue(()=>e.keyField||"_X_KEY"),W=ue(()=>e.mode==="image"),N=ue(()=>e.nameField||"name"),Y=ue(()=>e.typeField||"type"),L=ue(()=>e.urlField||"url"),F=ue(()=>e.sizeField||"size"),M=ue(()=>u.toNumber(e.limitSize)*1024*1024),q=ue(()=>e.multiple?u.toNumber(e.limitCount):1),V=ue(()=>{const{multiple:$}=e,{fileList:H}=y,Z=q.value;return $?Z?H.length>=Z:!0:H.length>=1}),j=ue(()=>{const $=u.toNumber(e.limitSize);return $?$>1048576?`${$/1048576}T`:$>1024?`${$/1024}G`:`${$}M`:""}),U=ue(()=>{const{showTip:$,tipText:H}=e;if(u.isBoolean($))return $;const Z=ze().upload.showTip;return u.isBoolean(Z)?Z:!!H}),z=ue(()=>{const{limitSize:$,fileTypes:H,multiple:Z,limitCount:xe}=e,De=e.tipText||e.hintText,ke=W.value,Be=j.value;if(u.isString(De))return De;if(u.isFunction(De))return`${De({})}`;const qe=[];return ke?(Z&&xe&&qe.push(lr("vxe.upload.imgCountHint",[xe])),$&&Be&&qe.push(lr("vxe.upload.imgSizeHint",[Be]))):(H&&H.length&&qe.push(lr("vxe.upload.fileTypeHint",[H.join("/")])),$&&Be&&qe.push(lr("vxe.upload.fileSizeHint",[Be])),Z&&xe&&qe.push(lr("vxe.upload.fileCountHint",[xe]))),qe.join(lr("vxe.base.comma"))}),k=ue(()=>Object.assign({},e.imageConfig||e.imageStyle)),ne=ue(()=>{const $=k.value,{width:H,height:Z}=$,xe={};return H&&(xe.width=ro(H)),Z&&(xe.height=ro(Z)),xe}),fe=ue(()=>Object.assign({showMoreButton:!0},e.moreConfig)),G={},J={xID:d,props:e,context:t,reactData:y,internalData:p,getRefMaps:()=>g,getComputeMaps:()=>G},we=()=>u.uniqueId(),se=$=>{const H=I.value;return $[H]},re=()=>{const{modelValue:$,multiple:H}=e,Z=O.value,xe=I.value,De=N.value,ke=Y.value,Be=L.value,qe=F.value,it=$?($?u.isArray($)?$:[$]:[]).map(ft=>{if(!ft||u.isString(ft)){const wt=`${ft||""}`,ir=u.parseUrl(ft),be=(ir?ir.searchQuery[De]:"")||ve(wt);return{[De]:be,[ke]:(ir?ir.searchQuery[ke]:"")||Ee(be),[Be]:wt,[qe]:u.toNumber(ir?ir.searchQuery[qe]:0)||0,[xe]:we()}}const Ve=ft[De]||"";return ft[De]=Ve,ft[ke]=ft[ke]||Ee(Ve),ft[Be]=ft[Be]||"",ft[qe]=ft[qe]||0,ft[xe]=ft[xe]||we(),ft}):[];y.fileList=Z||H?it:it.slice(0,1)},ve=$=>decodeURIComponent(`${$||""}`).split("/").pop()||"",Ee=$=>{const H=$.lastIndexOf(".");return H>0?$.substring(H+1).toLowerCase():""},Re=($,H,Z)=>{r($,Un(Z,{$upload:J},H))},Pe=$=>{r("update:modelValue",$)},le=$=>{const{singleMode:H,urlMode:Z}=e,xe=L.value,De=N.value;let ke=$?$.slice(0):[];Z&&(ke=ke.map(Be=>{const qe=Be[xe];return qe&&!u.parseUrl(qe).searchQuery[De]&&qe.indexOf("blob:")===-1?`${qe}${qe.indexOf("?")===-1?"?":"&"}${De}=${encodeURIComponent(Be[De]||"")}`:qe})),Pe(H?ke[0]||null:ke)},Xe=$=>{const H=e.getThumbnailUrlMethod||ze().upload.getThumbnailUrlMethod;return H?H({$upload:J,option:$}):me($)},me=$=>{const H=e.getUrlMethod||ze().upload.getUrlMethod,Z=L.value;return H?H({$upload:J,option:$}):$[Z]},Te=$=>{const{imageTypes:H,showDownloadButton:Z}=e,xe=Y.value,De=e.beforeDownloadMethod||ze().upload.beforeDownloadMethod,{imagePreviewTypes:ke}=p;ke.concat(H||[]).some(Be=>`${Be}`.toLowerCase()===`${$[xe]}`.toLowerCase())&&Se.previewImage&&Se.previewImage({urlList:[me($)],showDownloadButton:Z,beforeDownloadMethod:De?()=>De({$upload:J,option:$}):void 0})},Ae=($,H)=>{const Z=e.previewMethod||ze().upload.previewMethod;e.showPreview&&(Z?Z({$upload:J,option:H}):Te(H))},tt=($,H,Z)=>{const{showDownloadButton:xe}=e,{fileList:De}=y,ke=e.beforeDownloadMethod||ze().upload.beforeDownloadMethod;e.showPreview&&Se.previewImage&&Se.previewImage({urlList:De.map(Be=>me(Be)),activeIndex:Z,showDownloadButton:xe,beforeDownloadMethod:ke?({index:Be})=>ke({$upload:J,option:De[Be]}):void 0})},Ue=($,H)=>{const{showErrorStatus:Z}=e,xe=se($),De=e.uploadMethod||ze().upload.uploadMethod;if(De)return Promise.resolve(De({$upload:J,file:H,option:$,updateProgress(ke){const{fileCacheMaps:Be}=y,qe=Be[se($)];qe&&(qe.percent=Math.max(0,Math.min(99,u.toNumber(ke))))}})).then(ke=>{const{fileCacheMaps:Be}=y,qe=Be[xe];qe&&(qe.percent=100,qe.status="success"),Object.assign($,ke),Re("upload-success",{option:$,data:ke},null)}).catch(ke=>{const{fileCacheMaps:Be}=y,qe=Be[xe];qe&&(qe.status="error"),Z?Object.assign($,ke):y.fileList=y.fileList.filter(it=>se(it)!==xe),Re("upload-error",{option:$,data:ke},null)}).finally(()=>{const{fileCacheMaps:ke}=y,Be=ke[xe];Be&&(Be.loading=!1)});{const{fileCacheMaps:ke}=y,Be=ke[xe];Be&&(Be.loading=!1)}return Promise.resolve()},ut=$=>{const{uploadMethod:H,urlMode:Z}=e,{fileCacheMaps:xe}=y,De=se($),ke=xe[De];if((H||ze().upload.uploadMethod)&&ke){const qe=ke.file;ke.loading=!0,ke.status="pending",ke.percent=0,Ue($,qe).then(()=>{Z&&le(y.fileList)})}},_e=($,H)=>{const{multiple:Z,urlMode:xe,showLimitSize:De,limitSizeText:ke,showLimitCount:Be,limitCountText:qe,autoSubmit:it}=e,{fileList:ft}=y,Ve=e.uploadMethod||ze().upload.uploadMethod,wt=I.value,ir=N.value,be=Y.value,Ke=L.value,Ft=F.value,Ct=M.value,Pt=q.value,zt=j.value;let Xt=$;if(Z&&Pt){if(Be&&ft.length>=Pt){Se.modal&&Se.modal.notification({title:lr("vxe.modal.errTitle"),status:"error",content:qe?`${u.isFunction(qe)?qe({maxCount:Pt}):qe}`:lr("vxe.upload.overCountErr",[Pt])});return}const Ut=Xt.length-(Pt-ft.length);if(Be&&Ut>0){const qt=Xt.slice(Pt-ft.length);qe?Se.modal.notification({title:lr("vxe.modal.errTitle"),status:"error",content:`${u.isFunction(qe)?qe({maxCount:Pt}):qe}`}):Se.modal&&Se.modal.notification({title:lr("vxe.modal.errTitle"),status:"error",width:null,slots:{default(){return m("div",{class:"vxe-upload--file-message-over-error"},[m("div",{},lr("vxe.upload.overCountExtraErr",[Pt,Ut])),m("div",{class:"vxe-upload--file-message-over-extra"},qt.map((cr,or)=>m("div",{key:or,class:"vxe-upload--file-message-over-extra-item"},cr.name)))])}}})}Xt=Xt.slice(0,Pt-ft.length)}if(De&&Ct){for(let Ut=0;Ut<$.length;Ut++)if($[0].size>Ct){Se.modal&&Se.modal.notification({title:lr("vxe.modal.errTitle"),status:"error",content:ke?`${u.isFunction(ke)?ke({maxSize:Ct}):ke}`:lr("vxe.upload.overSizeErr",[zt])});return}}const _t=Object.assign({},y.fileCacheMaps),st=Z?ft:[],Et=[];Xt.forEach(Ut=>{const{name:qt}=Ut,cr=we(),or={[ir]:qt,[be]:Ee(qt),[Ft]:Ut.size,[Ke]:URL.createObjectURL(Ut),[wt]:cr};Ve&&(_t[cr]={file:Ut,loading:!!it,status:"pending",percent:0});const Tr=rn(or);Ve&&it&&Et.push(Ue(Tr,Ut)),st.push(Tr),Re("add",{option:Tr},H)}),y.fileList=st,y.fileCacheMaps=_t,Promise.all(xe?Et:[]).then(()=>{le(st),l&&a&&l.triggerItemEvent(H,a.itemConfig.field,st)})},te=$=>{const{multiple:H,imageTypes:Z,fileTypes:xe}=e,De=D.value,ke=W.value;return De?Promise.resolve({status:!1,files:[],file:null}):E$({multiple:H,types:ke?Z:xe}).then(Be=>(_e(Be.files,$),Be))},$e=$=>{te($).catch(()=>{})},ce=($,H,Z)=>{const{fileList:xe}=y;xe.splice(Z,1),le(xe),l&&a&&l.triggerItemEvent($,a.itemConfig.field,xe),Re("remove",{option:H},$)},Le=($,H,Z)=>{const xe=e.beforeRemoveMethod||ze().upload.beforeRemoveMethod,De=e.removeMethod||ze().upload.removeMethod;Promise.resolve(xe?xe({$upload:J,option:H}):!0).then(ke=>{ke?De?Promise.resolve(De({$upload:J,option:H})).then(()=>{ce($,H,Z)}).catch(Be=>Be):ce($,H,Z):Re("remove-fail",{option:H},$)})},nt=($,H)=>{Re("download",{option:H},$)},et=($,H)=>{const Z=e.beforeDownloadMethod||ze().upload.beforeDownloadMethod,xe=e.downloadMethod||ze().upload.downloadMethod;Promise.resolve(Z?Z({$upload:J,option:H}):!0).then(De=>{De?xe?Promise.resolve(xe({$upload:J,option:H})).then(()=>{nt($,H)}).catch(ke=>ke):nt($,H):Re("download-fail",{option:H},$)})},vt=$=>{const H=$.currentTarget,{clientX:Z,clientY:xe}=$;if(H){const{x:De,y:ke,height:Be,width:qe}=H.getBoundingClientRect();(Z<De||Z>De+qe||xe<ke||xe>ke+Be)&&(y.isDragUploadStatus=!1)}},xt=$=>{const H=$.dataTransfer;if(H){const{items:Z}=H;Z&&Z.length&&($.preventDefault(),y.isDragUploadStatus=!0)}},Dt=($,H)=>{const{imageTypes:Z,fileTypes:xe}=e,{imagePreviewTypes:De}=p;if(W.value){const Be=De.concat(Z&&Z.length?Z:[]);H=H.filter(qe=>{const it=`${qe.type.split("/")[1]||""}`.toLowerCase();return!!Be.some(ft=>`${ft}`.toLowerCase()===it)})}else if(xe&&xe.length){const Be=[];if(H.forEach(qe=>{const it=Ee(qe.name);xe.some(ft=>`${ft}`.toLowerCase()===it)||Be.push(it)}),Be.length){Se.modal&&Se.modal.message({content:lr("vxe.error.notType",[Be.join(", ")]),status:"error"});return}}if(!H.length){Se.modal&&Se.modal.notification({title:lr("vxe.modal.errTitle"),status:"error",content:lr("vxe.upload.uploadTypeErr")});return}_e(H,$)},gt=$=>{const H=$.dataTransfer;if(H){const{items:Z}=H;if(Z&&Z.length){$.preventDefault();const xe=Tt(Z);xe.length&&Dt($,xe)}}y.isDragUploadStatus=!1},Tt=$=>{const H=[];return u.arrayEach($,Z=>{const xe=Z.getAsFile();xe&&H.push(xe)}),H},ht=()=>{const $=O.value,H=W.value;Se.modal&&Se.modal.open({title:lr($?"vxe.upload.morePopup.readTitle":`vxe.upload.morePopup.${H?"imageTitle":"fileTitle"}`),width:660,height:500,escClosable:!0,showMaximize:!0,resize:!0,maskClosable:!0,slots:{default(){const{showErrorStatus:Z,dragToUpload:xe,dragSort:De}=e,{isActivated:ke,isDragMove:Be,isDragUploadStatus:qe,dragIndex:it}=y,{fileList:ft}=y,Ve=D.value,wt={};return xe&&it===-1&&(wt.onDragover=xt,wt.onDragleave=vt,wt.onDrop=gt),m("div",Object.assign({ref:c,class:["vxe-upload--more-popup",{"is--readonly":$,"is--disabled":Ve,"is--active":ke,"show--error":Z,"is--drag":qe}]},wt),[H?De?m(ui,{name:`vxe-upload--drag-list${Be?"":"-disabled"}`,tag:"div",class:"vxe-upload--image-more-list"},{default:()=>Ne(ft,!0).concat(pt(!0))}):m("div",{class:"vxe-upload--image-more-list"},Ne(ft,!0).concat(pt(!0))):m("div",{class:"vxe-upload--file-more-list"},[ee(!0),De?m(ui,{name:`vxe-upload--drag-list${Be?"":"-disabled"}`,tag:"div",class:"vxe-upload--file-list"},{default:()=>at(ft,!1)}):m("div",{class:"vxe-upload--file-list"},at(ft,!0))]),De?m("div",{ref:E,class:"vxe-upload--drag-line"}):vr(),qe?m("div",{class:"vxe-upload--drag-placeholder"},lr("vxe.upload.dragPlaceholder")):vr()])}},onShow(){y.showMorePopup=!0},onHide(){y.showMorePopup=!1}})},yt=($,H,Z)=>{const{showMorePopup:xe}=y,De=h.value,ke=c.value,Be=xe?ke:De;if(!Be)return;const qe=Be.getBoundingClientRect(),it=b.value,ft=E.value,Ve=xe?ft:it;if(Ve){const wt=H.getBoundingClientRect();Ve.style.display="block",Ve.style.top=`${Math.max(1,wt.y-qe.y)}px`,Ve.style.left=`${Math.max(1,wt.x-qe.x)}px`,Ve.style.height=`${wt.height}px`,Ve.style.width=`${wt.width-1}px`,Ve.setAttribute("drag-pos",Z)}},Lt=()=>{const $=b.value,H=E.value;$&&($.style.display=""),H&&(H.style.display="")},Vt=$=>{$.stopPropagation(),$.dataTransfer&&$.dataTransfer.setDragImage(SN(),0,0);const H=$.currentTarget,Z=H.parentElement,xe=u.findIndexOf(Array.from(Z.children),De=>H===De);y.isDragMove=!0,y.dragIndex=xe,setTimeout(()=>{y.isDragMove=!1},500)},Bt=$=>{$.stopPropagation(),$.preventDefault();const{dragIndex:H}=y;if(H===-1)return;const Z=W.value,xe=$.currentTarget,De=xe.parentElement,ke=u.findIndexOf(Array.from(De.children),qe=>xe===qe);let Be="";if(Z?Be=$.clientX-xe.getBoundingClientRect().x<xe.clientWidth/2?"left":"right":Be=$.clientY-xe.getBoundingClientRect().y<xe.clientHeight/2?"top":"bottom",H===ke){yt($,xe,Be);return}yt($,xe,Be),p.prevDragIndex=ke,p.prevDragPos=Be},Nt=$=>{const{fileList:H,dragIndex:Z}=y,{prevDragIndex:xe,prevDragPos:De}=p,ke=Z,Be=xe,qe=De==="bottom"||De==="right"?1:0,it=H[ke],ft=H[Be];if(it&&ft){H.splice(ke,1);const wt=u.findIndexOf(H,ir=>ft===ir)+qe;H.splice(wt,0,it),Re("sort-dragend",{oldItem:it,newItem:ft,dragPos:De,offsetIndex:qe,_index:{newIndex:wt,oldIndex:ke}},$)}Lt(),y.dragIndex=-1},Kt=$=>{i&&$.stopPropagation(),y.isActivated=!0},Wt=$=>{const{pasteToUpload:H}=e,{isActivated:Z}=y;if(!Z||!H)return;const xe=$.clipboardData||$.originalEvent.clipboardData;if(!xe)return;const{items:De}=xe;if(!De)return;const ke=Tt(De);ke.length&&($.preventDefault(),Dt($,ke))},Fe=$=>{const H=h.value,Z=c.value;let xe=oo($,H).flag;if(!xe&&Z){const De=Z.parentElement||Z,ke=De&&De.parentElement;xe=oo($,ke).flag}y.isActivated=xe},Oe=()=>{y.isActivated=!1};Object.assign(J,{dispatchEvent:Re,choose(){return te(null)},submit($){const{maxSimultaneousUploads:H}=e,Z=u.toNumber(H||1)||1,{fileList:xe,fileCacheMaps:De}=y,ke=xe.filter(it=>{const ft=se(it),Ve=De[ft];return Ve&&(Ve.status==="pending"||$&&Ve.status==="error")}),Be=it=>{const ft=se(it),Ve=De[ft];if(Ve){const wt=Ve.file;if(wt&&(Ve.status==="pending"||$&&Ve.status==="error"))return Ve.loading=!0,Ve.percent=0,Ue(it,wt).then(qe)}return qe()},qe=()=>{if(ke.length){const it=ke[0];return ke.splice(0,1),Be(it).then(qe)}return Promise.resolve()};return Promise.all(ke.splice(0,Z).map(Be)).then(()=>{})}},{});const at=($,H)=>{const{showRemoveButton:Z,showDownloadButton:xe,showProgress:De,progressText:ke,showPreview:Be,showErrorStatus:qe,dragSort:it,autoSubmit:ft,showSubmitButton:Ve}=e,{fileCacheMaps:wt}=y,ir=D.value,be=O.value,Ke=N.value,Ft=Y.value,Ct=n.corner,Pt={};return it&&$.length>1&&(Pt.onDragstart=Vt,Pt.onDragover=Bt,Pt.onDragend=Nt),$.map((zt,Xt)=>{const _t=se(zt),st=wt[_t];let Et=!1,Ut=!1,qt=!1;const cr=`${zt[Ke]||""}`;return st&&(Et=st.loading,Ut=st.status==="error",qt=st.status==="pending"),m("div",Object.assign({key:it?_t:Xt,class:["vxe-upload--file-item",{"is--preview":Be,"is--loading":Et,"is--pending":qt,"is--error":Ut}],fileid:_t,draggable:it?!0:null},Pt),[m("div",{class:"vxe-upload--file-item-icon"},[m("i",{class:gr()[`UPLOAD_FILE_TYPE_${`${zt[Ft]}`.toLocaleUpperCase()}`]||gr().UPLOAD_FILE_TYPE_DEFAULT})]),m("div",{class:"vxe-upload--file-item-name",title:cr,onClick(or){!Et&&!Ut&&Ae(or,zt)}},cr),Et?m("div",{class:"vxe-upload--file-item-loading-icon"},[m("i",{class:gr().UPLOAD_LOADING})]):vr(),De&&Et&&st?m("div",{class:"vxe-upload--file-item-loading-text"},ke?u.toFormatString(`${u.isFunction(ke)?ke({}):ke}`,{percent:st.percent}):lr("vxe.upload.uploadProgress",[st.percent])):vr(),!Et&&(Ut&&qe||qt&&Ve&&!ft)?m("div",{class:"vxe-upload--file-item-rebtn"},[m(no,{icon:Ut?gr().UPLOAD_IMAGE_RE_UPLOAD:gr().UPLOAD_IMAGE_UPLOAD,mode:"text",status:"primary",content:lr(Ut?"vxe.upload.reUpload":"vxe.upload.manualUpload"),onClick(){ut(zt)}})]):vr(),m("div",{class:"vxe-upload--file-item-btn-wrapper"},[Ct?m("div",{class:"vxe-upload--file-item-corner"},dn(Ct({option:zt,isMoreView:H,readonly:be}))):vr(),xe&&!(Et||qt)?m("div",{class:"vxe-upload--file-item-download-btn",onClick(or){et(or,zt)}},[m("i",{class:gr().UPLOAD_FILE_DOWNLOAD})]):vr(),Z&&!be&&!ir&&!Et?m("div",{class:"vxe-upload--file-item-remove-btn",onClick(or){Le(or,zt,Xt)}},[m("i",{class:gr().UPLOAD_FILE_REMOVE})]):vr()])])})},ee=$=>{const{showUploadButton:H,buttonText:Z,buttonIcon:xe,showButtonText:De,showButtonIcon:ke,autoHiddenButton:Be}=e,qe=D.value,it=O.value,ft=U.value,Ve=z.value,wt=V.value,ir=n.default,be=n.tip||n.hint;return it||!H?vr():m("div",{class:"vxe-upload--file-action"},[Be&&wt?vr():m("div",{class:"vxe-upload--file-action-btn",onClick:$e},ir?dn(ir({$upload:J})):[m(no,{class:"vxe-upload--file-action-button",content:$||De?Z?`${u.isFunction(Z)?Z({}):Z}`:lr("vxe.upload.fileBtnText"):"",icon:ke?xe||gr().UPLOAD_FILE_ADD:"",disabled:qe})]),ft&&(Ve||be)?m("div",{class:"vxe-upload--file-action-tip"},be?dn(be({$upload:J})):`${Ve}`):vr()])},Ie=()=>{const{showList:$,moreConfig:H,dragSort:Z}=e,{fileList:xe,isDragMove:De}=y,ke=fe.value,{maxCount:Be,showMoreButton:qe,layout:it}=ke,ft=it==="horizontal";let Ve=xe,wt=0;return Be&&xe.length>Be&&(wt=xe.length-Be,Ve=xe.slice(0,Be)),m("div",{key:"all",class:"vxe-upload--file-wrapper"},$?[qe&&H&&ft?vr():ee(!0),Ve.length||qe&&ft?m("div",{class:["vxe-upload--file-list-wrapper",{"is--horizontal":ft}]},[Ve.length?Z?m(ui,{name:`vxe-upload--drag-list${De?"":"-disabled"}`,tag:"div",class:"vxe-upload--file-list"},{default:()=>at(Ve,!1)}):m("div",{class:"vxe-upload--file-list"},at(Ve,!1)):vr(),qe&&wt?m("div",{class:"vxe-upload--file-over-more"},[m(no,{mode:"text",content:lr("vxe.upload.moreBtnText",[xe.length]),status:"primary",onClick:ht})]):vr(),qe&&H&&ft?ee(!1):vr()]):vr()]:[ee(!1)])},Ne=($,H)=>{const{showRemoveButton:Z,showProgress:xe,progressText:De,showPreview:ke,showErrorStatus:Be,dragSort:qe,autoSubmit:it,showSubmitButton:ft}=e,{fileCacheMaps:Ve}=y,wt=D.value,ir=O.value,be=k.value,Ke=ne.value,Ft=n.corner,Ct={onMousedown:Kt};return qe&&$.length>1&&(Ct.onDragstart=Vt,Ct.onDragover=Bt,Ct.onDragend=Nt),$.map((Pt,zt)=>{const Xt=se(Pt),_t=Ve[Xt];let st=!1,Et=!1,Ut=!1;return _t&&(st=_t.loading,Et=_t.status==="error",Ut=_t.status==="pending"),m("div",Object.assign({key:qe?Xt:zt,class:["vxe-upload--image-item",{"is--preview":ke,"is--circle":be.circle,"is--loading":st,"is--pending":Ut,"is--error":Et}],fileid:Xt,draggable:qe?!0:null},Ct),[m("div",{class:"vxe-upload--image-item-box",style:H?null:Ke,onClick(qt){!st&&!Et&&tt(qt,Pt,zt)}},[st&&_t?m("div",{class:"vxe-upload--image-item-loading"},[m("div",{class:"vxe-upload--image-item-loading-icon"},[m("i",{class:gr().UPLOAD_LOADING})]),xe?m("div",{class:"vxe-upload--image-item-loading-text"},De?u.toFormatString(`${u.isFunction(De)?De({}):De}`,{percent:_t.percent}):lr("vxe.upload.uploadProgress",[_t.percent])):vr()]):vr(),m("div",{class:"vxe-upload--image-item-img-wrapper",title:lr("vxe.upload.viewItemTitle")},[m("img",{class:"vxe-upload--image-item-img",src:Xe(Pt)})]),!st&&(Et&&Be||Ut&&ft&&!it)?m("div",{class:"vxe-upload--image-item-rebtn"},[m(no,{icon:Et?gr().UPLOAD_IMAGE_RE_UPLOAD:gr().UPLOAD_IMAGE_UPLOAD,mode:"text",status:"primary",content:lr(Et?"vxe.upload.reUpload":"vxe.upload.manualUpload"),onClick(){ut(Pt)}})]):vr(),m("div",{class:"vxe-upload--image-item-btn-wrapper",onClick(qt){qt.stopPropagation()}},[Ft?m("div",{class:"vxe-upload--file-item-corner"},dn(Ft({option:Pt,isMoreView:H,readonly:ir}))):vr(),Z&&!ir&&!wt&&!st?m("div",{class:"vxe-upload--image-item-remove-btn",onClick(qt){qt.stopPropagation(),Le(qt,Pt,zt)}},[m("i",{class:gr().UPLOAD_IMAGE_REMOVE})]):vr()])])])})},pt=$=>{const{showUploadButton:H,buttonText:Z,buttonIcon:xe,showButtonText:De,showButtonIcon:ke,autoHiddenButton:Be}=e,qe=O.value,it=U.value,ft=z.value,Ve=V.value,wt=ne.value,ir=n.default,be=n.tip||n.hint;return qe||!H||Be&&Ve?vr():m("div",{key:"action",class:"vxe-upload--image-action"},[m("div",{class:"vxe-upload--image-action-btn",onClick:$e},ir?ir({$upload:J}):[m("div",{class:"vxe-upload--image-action-box",style:$?null:wt},[ke?m("div",{class:"vxe-upload--image-action-icon"},[m("i",{class:xe||gr().UPLOAD_IMAGE_ADD})]):vr(),$||De?m("div",{class:"vxe-upload--image-action-content"},Z?`${u.isFunction(Z)?Z({}):Z}`:lr("vxe.upload.imgBtnText")):vr(),it&&(ft||be)?m("div",{class:"vxe-upload--image-action-hint"},be?dn(be({$upload:J})):`${ft}`):vr()])])])},He=()=>{const{showList:$,dragSort:H}=e,{fileList:Z,isDragMove:xe}=y,De=fe.value,{maxCount:ke,showMoreButton:Be}=De;let qe=Z,it=0;return ke&&Z.length>ke&&(it=Z.length-ke,qe=Z.slice(0,ke)),m("div",{key:"image",class:"vxe-upload--image-wrapper"},$?[H?m(ui,{name:`vxe-upload--drag-list${xe?"":"-disabled"}`,tag:"div",class:"vxe-upload--image-list"},{default:()=>Ne(qe,!1).concat([Be&&it?m("div",{key:"om",class:"vxe-upload--image-over-more"},[m(no,{mode:"text",content:lr("vxe.upload.moreBtnText",[Z.length]),status:"primary",onClick:ht})]):vr(),pt(!1)])}):m("div",{class:"vxe-upload--image-list"},Ne(qe,!1).concat([Be&&it?m("div",{class:"vxe-upload--image-over-more"},[m(no,{mode:"text",content:lr("vxe.upload.moreBtnText",[Z.length]),status:"primary",onClick:ht})]):vr(),pt(!1)]))]:[m("div",{class:"vxe-upload--image-list"},[pt(!1)])])},dt=()=>{const{showErrorStatus:$,dragToUpload:H,pasteToUpload:Z,dragSort:xe}=e,{isDragUploadStatus:De,showMorePopup:ke,isActivated:Be,dragIndex:qe}=y,it=s.value,ft=D.value,Ve=O.value,wt=W.value,ir={onMousedown:Kt};return H&&qe===-1&&(ir.onDragover=xt,ir.onDragleave=vt,ir.onDrop=gt),m("div",Object.assign({ref:h,class:["vxe-upload",{[`size--${it}`]:it,"is--active":Be,"is--readonly":Ve,"is--disabled":ft,"is--paste":Z,"show--error":$,"is--drag":De}]},ir),[wt?He():Ie(),xe?m("div",{ref:b,class:"vxe-upload--drag-line"}):vr(),De&&!ke?m("div",{class:"vxe-upload--drag-placeholder"},lr("vxe.upload.dragPlaceholder")):vr()])},Ze=mt(0);return sr(()=>e.modelValue?e.modelValue.length:0,()=>{Ze.value++}),sr(()=>e.modelValue,()=>{Ze.value++}),sr(Ze,()=>{re()}),jn(()=>{e.multiple&&e.singleMode&&Kx("vxe.error.errConflicts",["multiple","single-mode"]),e.imageStyle&&Wa("vxe.error.delProp",["image-style","image-config"]),e.dragSort&&c$(),rr.on(J,"paste",Wt),rr.on(J,"mousedown",Fe),rr.on(J,"blur",Oe)}),xo(()=>{y.isDragUploadStatus=!1,rr.off(J,"paste"),rr.off(J,"mousedown"),rr.off(J,"blur")}),re(),J.renderVN=dt,J},render(){return this.renderVN()}}),S$=Object.assign({},Sc,{install(e){e.component(Sc.name,Sc)}});Do.use(S$);Se.component(Sc);Se.saveFile=zN;Se.readFile=E$;var rs={},oT;function GN(){return oT||(oT=1,Object.defineProperty(rs,"__esModule",{value:!0}),rs.default=void 0,rs.default={vxe:{base:{pleaseInput:"Please enter",pleaseSelect:"Please select",comma:"",fullStop:""},loading:{text:"loading..."},error:{downErr:"Download failed",errLargeData:"When the amount of bound data is too large, please use {0}, otherwise it may cause lag",groupFixed:"If using grouped headers, the frozen column must be set by group",groupMouseRange:'The grouping header cannot be used at the same time as "{0}" and this may cause an error',groupTag:'Grouping column headers should use "{0}" instead of "{1}", which may cause errors',scrollErrProp:'This parameter "{0}" is not supported after virtual scrolling is enabled',errConflicts:'Parameter "{0}" conflicts with "{1}"',modelConflicts:'The bound field values "{0}" and "{1}" conflict, an error will occur.',notSupportProp:'"{1}" is not supported when the parameter "{0}" is enabled, it should be "{2}", otherwise an error will occur',reqSupportProp:'When using "{0}", "{1}" should be set; otherwise, an error may occur.',notConflictProp:'When using "{0}", "{1}" should be set, otherwise there may be functional conflicts',unableInsert:"Cannot be inserted into the specified location, please check whether the parameters are correct",useErr:'An error occurred while installing the "{0}" module. The order may be incorrect. The dependent module needs to be installed before Table',barUnableLink:"The toolbar cannot associate tables",expandContent:'The slot for the expanded line should be "content", please check if it is correct',reqComp:'The "{0}" component is missing, please check if it is installed correctly. https://vxeui.com/#/start/useGlobal',reqModule:'Missing "{0}" module',reqProp:'The necessary "{0}" parameter is missing, which may cause an error',emptyProp:'Parameter "{0}" is not allowed to be empty',errProp:'Unsupported parameter "{0}", possibly "{1}"',colRepet:'column.{0}="{1}" is repeated, which may cause some functions to become unusable',notFunc:'Method "{0}" does not exist',errFunc:'Parameter "{0}" is not a method',notValidators:'Global verification "{0}" does not exist',notFormats:'Global formatting "{0}" does not exist',notCommands:'The global directive "{0}" does not exist',notSlot:'Slot "{0}" does not exist',noTree:'"{0}" is not supported in the tree structure',noGroup:'"{0}" is not supported in the aggregation grouping',notProp:'Unsupported parameter "{0}"',checkProp:'When the data volume is too large, the check box may be stuttered. It is recommended to set the parameter "{0}" to improve rendering speed',coverProp:'The parameter "{1}" of "{0}" is repeatedly defined, which may cause an error',uniField:'The field name "{0}" is repeatedly defined, which may cause an error',repeatKey:'Repeat the primary key {0}="{1}", which may cause an error',repeatProp:'Repeat parameters {0}="{1}", which may cause an error',delFunc:'Method "{0}" is deprecated, please use "{1}"',delProp:'Parameter "{0}" is deprecated, please use "{1}"',delEvent:'Event "{0}" is deprecated, please use "{1}"',removeProp:'Parameter "{0}" is deprecated and is not recommended, which may cause an error',errFormat:'Global formatted content should be defined using "VXETable.formats" and the method of mounting "formatter={0}" is no longer recommended.',notType:'Unsupported file type "{0}"',notExp:"This browser does not support import/export function",impFields:"The import failed. Please check whether the field name and data format are correct.",treeNotImp:"Tree tables do not support import",treeCrossDrag:"Only drag the first level",treeDragChild:"Parents cannot drag to their own children",reqPlugin:'"{1}" is not installed at https://vxeui.com/other{0}/#/{1}/install',errMaxRow:"Exceeding the maximum supported data volume {0} rows, this may cause an error",useNew:"It is not recommended to use {0}. Please use {1} instead.",errorVersion:"Version mismatch. Current version is {0}, while the minimum supported version is {1}."},table:{emptyText:"No data yet",allTitle:"Select all/cancel",seqTitle:"Number",actionTitle:"Operate",confirmFilter:"Filter",resetFilter:"Reset",allFilter:"All",sortAsc:"Ascending order: lowest to highest",sortDesc:"Descending order: highest to lowest",filter:"Enable filtering for selected columns",impSuccess:"Successfully imported {0} records",expLoading:"Exporting",expSuccess:"Export successfully",expError:"Export failed",expFilename:"Export_{0}",expOriginFilename:"Export_source_{0}",customTitle:"Column settings",customAll:"All",customConfirm:"Confirm",customClose:"Closure",customCancel:"Cancel",customRestore:"Restore default",maxFixedCol:"The maximum number of frozen columns cannot exceed {0}",maxGroupCol:"The maximum number of grouping fields cannot exceed {0}",dragTip:"Move: {0}",resizeColTip:"Width: {0} pixels",resizeRowTip:"Height: {0} pixels",rowGroupContentTotal:"{0} ({1})"},grid:{selectOneRecord:"Please select at least one record!",deleteSelectRecord:"Are you sure you want to delete the selected record?",removeSelectRecord:"Are you sure you want to remove the selected record?",dataUnchanged:"Data not changed!",delSuccess:"The selected record was successfully deleted!",saveSuccess:"Save successfully!",operError:"An error occurred and the operation failed!"},select:{clear:"Clear",allChecked:"All",total:"{0} / {1}",search:"Search",loadingText:"Loading",emptyText:"No data yet",maxOpt:"The maximum number that can be selected cannot exceed {0}.",overSizeErr:"The maximum selectable quantity of {0} has been exceeded. The excess part will be ignored!",searchEmpty:"No matching data found!"},tree:{searchEmpty:""},treeSelect:{clearChecked:"Clear",allChecked:"Check all",allExpand:"Expand all",clearExpand:"Collapse all",total:"Selected {0}",search:"Search",emptyText:"No data yet"},pager:{goto:"Go",gotoTitle:"Number of pages",pagesize:"{0} items/page",total:"Total {0} records",pageClassifier:"Page",homePage:"front page",homePageTitle:"front page",prevPage:"Previous page",prevPageTitle:"Previous page",nextPage:"Next page",nextPageTitle:"Next page",prevJump:"Jump up page",prevJumpTitle:"Jump up page",nextJump:"Jump down page",nextJumpTitle:"Jump down page",endPage:"Last page",endPageTitle:"Last page"},alert:{title:"System prompts"},button:{confirm:"Confirm",cancel:"Cancel",clear:"Clear"},filter:{search:"search"},custom:{cstmTitle:"Column settings",cstmRestore:"Restore default",cstmCancel:"Cancel",cstmConfirm:"Sure",cstmConfirmRestore:"Please confirm whether it is restored to the default column configuration?",cstmDragTarget:"Move: {0}",setting:{colSort:"Sort",sortHelpTip:"Click and drag the icons to adjust the order.",colTitle:"Column title",colResizable:"Column width (pixels)",colVisible:"Whether to display",colFixed:"Freeze column",colFixedMax:"Freeze columns (up to {0} columns)",fixedLeft:"Left side",fixedUnset:"Not set",fixedRight:"Right side"}},import:{modes:{covering:"Overwrite method (directly overwrite table data)",insert:"Append at the bottom (append new data at the bottom of the table)",insertTop:"Append at the top (append new data at the top of the table)",insertBottom:"Append at the bottom (append new data at the bottom of the table)"},impTitle:"Import data",impFile:"file name",impSelect:"Select file",impType:"File type",impOpts:"Parameter settings",impMode:"Import mode",impConfirm:"Import",impCancel:"Cancel"},export:{types:{csv:"CSV (comma separated)(*.csv)",html:"Web page (*.html)",xml:"XML data (*.xml)",txt:"Text file (tab separated)(*.txt)",xls:"Excel 97-2003 Workbook (*.xls)",xlsx:"Excel workbook (*.xlsx)",pdf:"PDF (*.pdf)"},modes:{empty:"Empty data",current:"Current data (data on the current page)",selected:"Selected data (data selected on the current page)",all:"Full data (including all paged data)"},printTitle:"Print data",expTitle:"Export data",expName:"file name",expNamePlaceholder:"Please enter a file name",expSheetName:"title",expSheetNamePlaceholder:"Please enter a title",expType:"Save type",expMode:"Select data",expCurrentColumn:"All fields",expColumn:"Select field",expOpts:"Parameter settings",expOptHeader:"Header",expHeaderTitle:"Is the table header required",expOptFooter:"End of table",expFooterTitle:"Is the end of the table required?",expOptColgroup:"Grouping header",expOptTitle:"Column title",expTitleTitle:"Whether it is the column title, otherwise it will be displayed as the column's field name",expColgroupTitle:"If present, a header with a grouping structure is supported",expOptMerge:"merge",expMergeTitle:"If present, cells with merged structures are supported",expOptAllExpand:"Expand the tree",expAllExpandTitle:"If it exists, it is supported to expand all data with hierarchical structures",expOptUseStyle:"style",expUseStyleTitle:"If present, cells with style are supported",expOptOriginal:"Source data",expOriginalTitle:"If it is source data, import into tables is supported",expPrint:"Print",expConfirm:"Export",expCancel:"Cancel"},modal:{errTitle:"Error message",zoomMin:"Minimize",zoomIn:"maximize",zoomOut:"reduction",close:"closure",miniMaxSize:"The number of minimized windows cannot exceed {0}",footPropErr:"show-footer is only used to enable the table tail, and must be used with show-confirm-button | show-cancel-button | slots"},drawer:{close:"closure"},form:{folding:"Close",unfolding:"Expand"},toolbar:{import:"Import",export:"Export",print:"Print",refresh:"Refresh",zoomIn:"Full screen",zoomOut:"reduction",custom:"Column settings",customAll:"All",customConfirm:"Confirm",customRestore:"Reset",fixedLeft:"Freeze left",fixedRight:"Freeze right",cancelFixed:"Unfreeze"},datePicker:{yearTitle:"{0} years"},dateRangePicker:{pleaseRange:"Please select the date time and the end date"},input:{date:{m1:"January",m2:"February",m3:"March",m4:"April",m5:"May",m6:"June",m7:"July",m8:"August",m9:"September",m10:"October",m11:"November",m12:"December",quarterLabel:"{0} years",monthLabel:"{0} years",dayLabel:"{0} year {1}",labelFormat:{date:"yyyy-MM-dd",time:"HH:mm:ss",datetime:"yyyy-MM-dd HH:mm:ss",week:"Week WW of year yyyy",month:"yyyy-MM",quarter:"quarter q of year yyyy",year:"yyyy"},weeks:{w:"",w0:"Sun",w1:"Mon",w2:"Tue",w3:"Wed",w4:"Thu",w5:"Fri",w6:"Sat"},months:{m0:"January",m1:"February",m2:"March",m3:"April",m4:"May",m5:"June",m6:"July",m7:"August",m8:"September",m9:"October",m10:"November",m11:"December"},quarters:{q1:"First quarter",q2:"Second quarter",q3:"Third quarter",q4:"Fourth quarter"}}},numberInput:{currencySymbol:"$"},imagePreview:{popupTitle:"Preview",operBtn:{zoomOut:"Shrink",zoomIn:"enlarge",pctFull:"Scaling equally",pct11:"Show original size",rotateLeft:"Rotate left",rotateRight:"Rotate to the right",print:"Click to print the picture",download:"Click to download the picture"}},upload:{fileBtnText:"Click or drag to upload",imgBtnText:"Click or drag to upload",dragPlaceholder:"Please drag and drop the file to this area to upload",imgSizeHint:"Leaflet {0}",imgCountHint:"Maximum {0} pictures",fileTypeHint:"Support {0} file types",fileSizeHint:"A single file size does not exceed {0}",fileCountHint:"Up to {0} files can be uploaded",uploadTypeErr:"File type mismatch!",overCountErr:"Only {0} files can be selected at most!",overCountExtraErr:"The maximum number of {0} has been exceeded, and the excess {1} files will be ignored!",overSizeErr:"The maximum file size cannot exceed {0}!",manualUpload:"",reUpload:"Re-upload",uploadProgress:"Uploading {0}%",uploadErr:"Upload failed",uploadSuccess:"Upload successfully",moreBtnText:"More ({0})",viewItemTitle:"Click to view",morePopup:{readTitle:"View list",imageTitle:"Upload pictures",fileTitle:"Upload file"}},empty:{defText:"No data yet"},colorPicker:{clear:"Clear",confirm:"Confirm",copySuccess:"Copyed to clipboard: {0}",hex:"HEX"},formDesign:{formName:"Form name",defFormTitle:"Unnamed form",widgetPropTab:"Control Properties",widgetFormTab:"Form Properties",error:{wdFormUni:"This type of control is allowed to add only one in the form",wdSubUni:"This type of control is allowed to add only one in the subtable"},styleSetting:{btn:"Style settings",title:"Form style settings",layoutTitle:"Control layout",verticalLayout:"Top and bottom layout",horizontalLayout:"Horizontal layout",styleTitle:"Title style",boldTitle:"Title bold",fontBold:"Bold",fontNormal:"conventional",colonTitle:"Show colon",colonVisible:"show",colonHidden:"hide",alignTitle:"Alignment",widthTitle:"Title Width",alignLeft:"On the left",alignRight:"On the right",unitPx:"Pixels",unitPct:"percentage"},widget:{group:{base:"Basic controls",layout:"Layout Controls",system:"System Controls",module:"Module controls",chart:"Chart control",advanced:"Advanced Controls"},copyTitle:"Copy_{0}",component:{input:"Input box",textarea:"Text field",select:"Pull down to select",row:"One row and multiple columns",title:"title",text:"text",subtable:"Sub-table",VxeSwitch:"whether",VxeInput:"Input box",VxeNumberInput:"number",VxeDatePicker:"date",VxeTextarea:"Text field",VxeSelect:"Pull down to select",VxeTreeSelect:"Tree selection",VxeRadioGroup:"Radio button",VxeCheckboxGroup:"Checkbox",VxeUploadFile:"document",VxeUploadImage:"picture",VxeRate:"score",VxeSlider:"slider"}},widgetProp:{name:"Control name",placeholder:"Prompt",required:"Required verification",multiple:"Multiple choices are allowed",displaySetting:{name:"Display settings",pc:"PC",mobile:"Mobile",visible:"show",hidden:"hide"},dataSource:{name:"Data Source",defValue:"Option {0}",addOption:"Add options",batchEditOption:"Batch editing",batchEditTip:"Each row corresponds to an option, which supports direct copy and paste from tables, Excel, and WPS.",batchEditSubTip:"Each row corresponds to an option. If it is a group, the child items can start with a space or a tab key, and it supports direct copy and paste from tables, Excel, and WPS.",buildOption:"Build options"},rowProp:{colSize:"Number of columns",col2:"Two columns",col3:"Three columns",col4:"Four columns",col6:"Six columns",layout:"layout"},textProp:{name:"content",alignTitle:"Alignment",alignLeft:"On the left",alignCenter:"Center",alignRight:"On the right",colorTitle:"Font color",sizeTitle:"Font size",boldTitle:"Bold font",fontNormal:"conventional",fontBold:"Bold"},subtableProp:{seqTitle:"Number",showSeq:"Show serial number",showCheckbox:"Multiple choices are allowed",errSubDrag:"The subtable does not support this control, please use other controls",colPlace:"Drag the control in"},uploadProp:{limitFileCount:"File quantity limit",limitFileSize:"File size limit",multiFile:"Allow multiple files to be uploaded",limitImgCount:"Limit number of pictures",limitImgSize:"Image size limit",multiImg:"Allow multiple pictures to upload"}}},listDesign:{fieldSettingTab:"Field settings",listSettingTab:"Parameter settings",searchTitle:"Query criteria",listTitle:"List field",searchField:"Query fields",listField:"List field",activeBtn:{ActionButtonUpdate:"edit",ActionButtonDelete:"delete"},search:{addBtn:"edit",emptyText:"Query conditions not configured",editPopupTitle:"Edit query fields"},searchPopup:{colTitle:"title",saveBtn:"save"}},text:{copySuccess:"Copyed to clipboard",copyError:"The current environment does not support this operation"},countdown:{formats:{yyyy:"Year",MM:"moon",dd:"sky",HH:"hour",mm:"point",ss:"Second"}},gantt:{tFullFormat:{year:"{yy}",quarter:"Quarter {q} of year {yy}",month:"{yy}-{M}",week:"Week {W} of year {yy}",day:"{yy}-{M}-{d}",hour:"{yy}-{M}-{d} {H}",minute:"{yy}-{M}-{d} {H}:{m}"},tSimpleFormat:{year:"{yy}",quarter:"Quarter {q}",month:"{M}",week:"Week {W}",day:"{d}",hour:"{H}",minute:"{m}"},dayss:{w0:"Sun",w1:"Mon",w2:"Tue",w3:"Wed",w4:"Thu",w5:"Fri",w6:"Sat"}},plugins:{extendCellArea:{area:{mergeErr:"This operation cannot be performed on merged cells",multiErr:"This operation cannot be performed on multiple selection areas",selectErr:"Unable to operate on cells in the specified range",extendErr:"If the extended range contains merged cells, all merged cells must be the same size",pasteMultiErr:"Unable to paste, the copied and pasted areas need to be of the same size to perform this operation",cpInvalidErr:"The operation cannot be performed. There are prohibited columns ({0}) in the range you selected."},fnr:{title:"Find and replace",findLabel:"Find",replaceLabel:"replace",findTitle:"Find what:",replaceTitle:"Replace with:",tabs:{find:"Find",replace:"replace"},filter:{re:"Regular expressions",whole:"Full word matching",sensitive:"case sensitive"},btns:{findNext:"Find next",findAll:"Find all",replace:"replace",replaceAll:"Replace all",cancel:"Cancel"},header:{seq:"#",cell:"Cell",value:"value"},body:{row:"Row: {0}",col:"Column: {0}"},empty:"(Null value)",reError:"Invalid regular expression",recordCount:"{0} cells found",notCell:"The matching cell cannot be found",replaceSuccess:"Successfully replaced {0} cells"}},extendPivotTable:{aggregation:{grouping:"Group",values:"Values",groupPlaceholder:"Drag here to set row groups",valuesPlaceholder:"Drag here to aggregate",dragExistCol:"The column already exists",sortHelpTip:"Click and drag the icons to adjust the order."},aggFuncs:{sum:"Sum",count:"Count",avg:"Avg",min:"Min",max:"Max",first:"First",last:"Last"}},filterComplexInput:{menus:{fixedColumn:"Freeze column",fixedGroup:"Freeze group",cancelFixed:"Unfreeze",fixedLeft:"Freeze left",fixedRight:"Freeze right"},cases:{equal:"equal",gt:"Greater than",lt:"Less than",begin:"The beginning is",endin:"The end is",include:"Include",isSensitive:"case sensitive"}},filterCombination:{menus:{sort:"Sort",clearSort:"Clear sort",sortAsc:"Ascending order",sortDesc:"descending order",fixedColumn:"Freeze column",fixedGroup:"Freeze group",cancelFixed:"Unfreeze",fixedLeft:"Freeze left",fixedRight:"Freeze right",clearFilter:"Clear Filter",textOption:"Text filter",numberOption:"Numerical filter"},popup:{title:"Custom filtering methods",currColumnTitle:"Current column:",and:"and",or:"or",describeHtml:"Available? Represents a single character<br/>Use * Represents any multiple characters"},cases:{equal:"equal",unequal:"Not equal to",gt:"Greater than",ge:"Greater than or equal to",lt:"Less than",le:"Less than or equal to",begin:"The beginning is",notbegin:"It's not at the beginning",endin:"The end is",notendin:"The ending is not",include:"Include",exclude:"Not included",between:"Between",custom:"Custom filter",insensitive:"Case insensitive",isSensitive:"case sensitive"},empty:"(blank)",notData:"No match"}},pro:{area:{mergeErr:"This operation cannot be performed on merged cells",multiErr:"This operation cannot be performed on multiple selection areas",extendErr:"If the extended range contains merged cells, all merged cells must be the same size",pasteMultiErr:"Unable to paste, the copied and pasted areas need to be of the same size to perform this operation"},fnr:{title:"Find and replace",findLabel:"Find",replaceLabel:"replace",findTitle:"Find content:",replaceTitle:"Replace with:",tabs:{find:"Find",replace:"replace"},filter:{re:"Regular expressions",whole:"Full word matching",sensitive:"case sensitive"},btns:{findNext:"Find next",findAll:"Find all",replace:"replace",replaceAll:"Replace all",cancel:"Cancel"},header:{seq:"#",cell:"Cell",value:"value"},empty:"(Null value)",reError:"Invalid regular expression",recordCount:"{0} cells found",notCell:"No matching cell found",replaceSuccess:"Successfully replaced {0} cells"}},renderer:{search:"search",cases:{equal:"equal",unequal:"Not equal to",gt:"Greater than",ge:"Greater than or equal to",lt:"Less than",le:"Less than or equal to",begin:"The beginning is",notbegin:"It's not at the beginning",endin:"The end is",notendin:"The ending is not",include:"Include",exclude:"Not included",between:"Between",custom:"Custom filter",insensitive:"Case insensitive",isSensitive:"case sensitive"},combination:{menus:{sort:"Sort",clearSort:"Clear sort",sortAsc:"Ascending order",sortDesc:"descending order",fixedColumn:"Freeze column",fixedGroup:"Freeze group",cancelFixed:"Unfreeze",fixedLeft:"Freeze left",fixedRight:"Freeze right",clearFilter:"Clear Filter",textOption:"Text filtering",numberOption:"Numerical filtering"},popup:{title:"Custom filtering methods",currColumnTitle:"Current column:",and:"and",or:"or",describeHtml:"Available? Represents a single character<br/>Use * Represents any multiple characters"},empty:"(blank)",notData:"No match"}}}}),rs}var WN=GN();const UN=_c(WN);var ns={},aT;function jN(){return aT||(aT=1,Object.defineProperty(ns,"__esModule",{value:!0}),ns.default=void 0,ns.default={vxe:{base:{pleaseInput:"",pleaseSelect:"",comma:"",fullStop:""},loading:{text:"..."},error:{downErr:"",errLargeData:" {0}",groupFixed:"",groupMouseRange:' "{0}" ',groupTag:' "{0}"  "{1}"',scrollErrProp:' "{0}"',errConflicts:' "{0}"  "{1}" ',modelConflicts:' "{0}"  "{1}" ',notSupportProp:' "{0}"  "{1}" "{2}"',reqSupportProp:' "{0}"  "{1}"',notConflictProp:' "{0}"  "{1}"',unableInsert:"",useErr:' "{0}"  Table ',barUnableLink:"",expandContent:' "content"',reqComp:' "{0}"  https://vxeui.com/#/start/useGlobal',reqModule:' "{0}" ',reqProp:' "{0}" ',emptyProp:' "{0}" ',errProp:' "{0}" "{1}"',colRepet:'column.{0}="{1}" ',notFunc:' "{0}" ',errFunc:' "{0}" ',notValidators:' "{0}" ',notFormats:' "{0}" ',notCommands:' "{0}" ',notSlot:' "{0}" ',noTree:' "{0}"',noGroup:' "{0}"',notProp:' "{0}"',checkProp:' "{0}" ',coverProp:'"{0}"  "{1}" ',uniField:' "{0}" ',repeatKey:' {0}="{1}"',repeatProp:' {0}="{1}"',delFunc:' "{0}"  "{1}"',delProp:' "{0}"  "{1}"',delEvent:' "{0}"  "{1}"',removeProp:' "{0}" ',errFormat:' "VXETable.formats"  "formatter={0}" ',notType:' "{0}"',notExp:"/",impFields:"",treeNotImp:"",treeCrossDrag:"",treeDragChild:"",reqPlugin:' "{1}" https://vxeui.com/other{0}/#/{1}/install',errMaxRow:" {0} ",useNew:" {0} {1}",errorVersion:" {0} {1}"},table:{emptyText:"",allTitle:"/",seqTitle:"",actionTitle:"",confirmFilter:"",resetFilter:"",allFilter:"",sortAsc:"",sortDesc:"",filter:"",impSuccess:" {0} ",expLoading:"",expSuccess:"",expError:"",expFilename:"_{0}",expOriginFilename:"__{0}",customTitle:"",customAll:"",customConfirm:"",customClose:"",customCancel:"",customRestore:"",maxFixedCol:" {0} ",maxGroupCol:" {0} ",dragTip:"{0}",resizeColTip:"{0} ",resizeRowTip:"{0} ",rowGroupContentTotal:"{0}{1}"},grid:{selectOneRecord:"",deleteSelectRecord:"",removeSelectRecord:"",dataUnchanged:"",delSuccess:"",saveSuccess:"",operError:""},select:{clear:"",allChecked:"",total:"{0} / {1}",search:"",loadingText:"",emptyText:"",maxSize:" {0} ",overSizeErr:" {0} ",searchEmpty:""},tree:{searchEmpty:""},treeSelect:{clearChecked:"",allChecked:"",allExpand:"",clearExpand:"",total:" {0}",search:"",emptyText:""},pager:{goto:"",gotoTitle:"",pagesize:"{0}/",total:" {0} ",pageClassifier:"",homePage:"",homePageTitle:"",prevPage:"",prevPageTitle:"",nextPage:"",nextPageTitle:"",prevJump:"",prevJumpTitle:"",nextJump:"",nextJumpTitle:"",endPage:"",endPageTitle:""},alert:{title:""},button:{confirm:"",cancel:"",clear:""},filter:{search:""},custom:{cstmTitle:"",cstmRestore:"",cstmCancel:"",cstmConfirm:"",cstmConfirmRestore:"",cstmDragTarget:"{0}",setting:{colSort:"",sortHelpTip:"",colTitle:"",colResizable:"",colVisible:"",colFixed:"",colFixedMax:" {0} ",fixedLeft:"",fixedUnset:"",fixedRight:""}},import:{modes:{covering:"",insert:"",insertTop:"",insertBottom:""},impTitle:"",impFile:"",impSelect:"",impType:"",impOpts:"",impMode:"",impConfirm:"",impCancel:""},export:{types:{csv:"CSV ()(*.csv)",html:"(*.html)",xml:"XML (*.xml)",txt:"()(*.txt)",xls:"Excel 97-2003 (*.xls)",xlsx:"Excel (*.xlsx)",pdf:"PDF (*.pdf)"},modes:{empty:"",current:"",selected:"",all:""},printTitle:"",expTitle:"",expName:"",expNamePlaceholder:"",expSheetName:"",expSheetNamePlaceholder:"",expType:"",expMode:"",expCurrentColumn:"",expColumn:"",expOpts:"",expOptHeader:"",expHeaderTitle:"",expOptFooter:"",expFooterTitle:"",expOptColgroup:"",expOptTitle:"",expTitleTitle:"",expColgroupTitle:"",expOptMerge:"",expMergeTitle:"",expOptAllExpand:"",expAllExpandTitle:"",expOptUseStyle:"",expUseStyleTitle:"",expOptOriginal:"",expOriginalTitle:"",expPrint:"",expConfirm:"",expCancel:""},modal:{errTitle:"",zoomMin:"",zoomIn:"",zoomOut:"",close:"",miniMaxSize:" {0} ",footPropErr:"show-footer  show-confirm-button | show-cancel-button | "},drawer:{close:""},form:{folding:"",unfolding:""},toolbar:{import:"",export:"",print:"",refresh:"",zoomIn:"",zoomOut:"",custom:"",customAll:"",customConfirm:"",customRestore:"",fixedLeft:"",fixedRight:"",cancelFixed:""},datePicker:{yearTitle:"{0} "},dateRangePicker:{pleaseRange:""},input:{date:{m1:"01 ",m2:"02 ",m3:"03 ",m4:"04 ",m5:"05 ",m6:"06 ",m7:"07 ",m8:"08 ",m9:"09 ",m10:"10 ",m11:"11 ",m12:"12 ",quarterLabel:"{0} ",monthLabel:"{0} ",dayLabel:"{0}  {1}",labelFormat:{date:"yyyy-MM-dd",time:"HH:mm:ss",datetime:"yyyy-MM-dd HH:mm:ss",week:"yyyy  WW ",month:"yyyy-MM",quarter:"yyyy  q ",year:"yyyy"},weeks:{w:"",w0:"",w1:"",w2:"",w3:"",w4:"",w5:"",w6:""},months:{m0:"",m1:"",m2:"",m3:"",m4:"",m5:"",m6:"",m7:"",m8:"",m9:"",m10:"",m11:""},quarters:{q1:"",q2:"",q3:"",q4:""}}},numberInput:{currencySymbol:""},imagePreview:{popupTitle:"",operBtn:{zoomOut:"",zoomIn:"",pctFull:"",pct11:"",rotateLeft:"",rotateRight:"",print:"",download:""}},upload:{fileBtnText:"",imgBtnText:"",dragPlaceholder:"",imgSizeHint:"{0}",imgCountHint:"{0}",fileTypeHint:" {0} ",fileSizeHint:"{0}",fileCountHint:"{0}",uploadTypeErr:"",overCountErr:"{0}",overCountExtraErr:"{0}{1}",overSizeErr:"{0}",manualUpload:"",reUpload:"",uploadProgress:" {0}%",uploadErr:"",uploadSuccess:"",moreBtnText:"{0}",viewItemTitle:"",morePopup:{readTitle:"",imageTitle:"",fileTitle:""}},empty:{defText:""},colorPicker:{clear:"",confirm:"",copySuccess:"{0}",hex:""},formDesign:{formName:"",defFormTitle:"",widgetPropTab:"",widgetFormTab:"",error:{wdFormUni:"",wdSubUni:""},styleSetting:{btn:"",title:"",layoutTitle:"",verticalLayout:"",horizontalLayout:"",styleTitle:"",boldTitle:"",fontBold:"",fontNormal:"",colonTitle:"",colonVisible:"",colonHidden:"",alignTitle:"",widthTitle:"",alignLeft:"",alignRight:"",unitPx:"",unitPct:""},widget:{group:{base:"",layout:"",system:"",module:"",chart:"",advanced:""},copyTitle:"_{0}",component:{input:"",textarea:"",select:"",row:"",title:"",text:"",subtable:"",VxeSwitch:"/",VxeInput:"",VxeNumberInput:"",VxeDatePicker:"",VxeTextarea:"",VxeSelect:"",VxeTreeSelect:"",VxeRadioGroup:"",VxeCheckboxGroup:"",VxeUploadFile:"",VxeUploadImage:"",VxeRate:"",VxeSlider:""}},widgetProp:{name:"",placeholder:"",required:"",multiple:"",displaySetting:{name:"",pc:"",mobile:"",visible:"",hidden:""},dataSource:{name:"",defValue:"{0}",addOption:"",batchEditOption:"",batchEditTip:"ExcelWPS ",batchEditSubTip:"ExcelWPS ",buildOption:""},rowProp:{colSize:"",col2:"",col3:"",col4:"",col6:"",layout:""},textProp:{name:"",alignTitle:"",alignLeft:"",alignCenter:"",alignRight:"",colorTitle:"",sizeTitle:"",boldTitle:"",fontNormal:"",fontBold:""},subtableProp:{seqTitle:"",showSeq:"",showCheckbox:"",errSubDrag:"",colPlace:""},uploadProp:{limitFileCount:"",limitFileSize:"",multiFile:"",limitImgCount:"",limitImgSize:"",multiImg:""}}},listDesign:{fieldSettingTab:"",listSettingTab:"",searchTitle:"",listTitle:"",searchField:"",listField:"",activeBtn:{ActionButtonUpdate:"",ActionButtonDelete:""},search:{addBtn:"",emptyText:"",editPopupTitle:""},searchPopup:{colTitle:"",saveBtn:""}},text:{copySuccess:"",copyError:""},countdown:{formats:{yyyy:"",MM:"",dd:"",HH:"",mm:"",ss:""}},gantt:{tFullFormat:{year:"{yy}",quarter:"{yy}{q}",month:"{yy}{M}",week:"{yy}{W}",day:"{yy}{M}{E}",date:"{yy}{M}{d}",hour:"{yy} {M}{d}{H}",minute:"{yy}{M}{d}{H}{m}"},tSimpleFormat:{year:"{yy}",quarter:"{q}",month:"{M}",week:"{W}",day:"{d}",date:"{d}",hour:"{H}",minute:"{m}"},dayss:{w0:"",w1:"",w2:"",w3:"",w4:"",w5:"",w6:""}},plugins:{extendCellArea:{area:{mergeErr:"",multiErr:"",selectErr:"",extendErr:"",pasteMultiErr:"",cpInvalidErr:"{0}"},fnr:{title:"",findLabel:"",replaceLabel:"",findTitle:"",replaceTitle:"",tabs:{find:"",replace:""},filter:{re:"",whole:"",sensitive:""},btns:{findNext:"",findAll:"",replace:"",replaceAll:"",cancel:""},header:{seq:"#",cell:"",value:""},body:{row:"{0}",col:"{0}"},empty:"()",reError:"",recordCount:" {0} ",notCell:"",replaceSuccess:" {0} "}},extendPivotTable:{aggregation:{grouping:"",values:"",groupPlaceholder:"",valuesPlaceholder:"",dragExistCol:"",sortHelpTip:""},aggFuncs:{sum:"",count:"",avg:"",min:"",max:"",first:"",last:""}},filterComplexInput:{menus:{fixedColumn:"",fixedGroup:"",cancelFixed:"",fixedLeft:"",fixedRight:""},cases:{equal:"",gt:"",lt:"",begin:"",endin:"",include:"",isSensitive:""}},filterCombination:{menus:{sort:"",clearSort:"",sortAsc:"",sortDesc:"",fixedColumn:"",fixedGroup:"",cancelFixed:"",fixedLeft:"",fixedRight:"",clearFilter:"",textOption:"",numberOption:""},popup:{title:"",currColumnTitle:"",and:"",or:"",describeHtml:" ? <br/> * "},cases:{equal:"",unequal:"",gt:"",ge:"",lt:"",le:"",begin:"",notbegin:"",endin:"",notendin:"",include:"",exclude:"",between:"",custom:"",insensitive:"",isSensitive:""},empty:"()",notData:""}},pro:{area:{mergeErr:"",multiErr:"",extendErr:"",pasteMultiErr:""},fnr:{title:"",findLabel:"",replaceLabel:"",findTitle:"",replaceTitle:"",tabs:{find:"",replace:""},filter:{re:"",whole:"",sensitive:""},btns:{findNext:"",findAll:"",replace:"",replaceAll:"",cancel:""},header:{seq:"#",cell:"",value:""},empty:"()",reError:"",recordCount:" {0} ",notCell:"",replaceSuccess:" {0} "}},renderer:{search:"",cases:{equal:"",unequal:"",gt:"",ge:"",lt:"",le:"",begin:"",notbegin:"",endin:"",notendin:"",include:"",exclude:"",between:"",custom:"",insensitive:"",isSensitive:""},combination:{menus:{sort:"",clearSort:"",sortAsc:"",sortDesc:"",fixedColumn:"",fixedGroup:"",cancelFixed:"",fixedLeft:"",fixedRight:"",clearFilter:"",textOption:"",numberOption:""},popup:{title:"",currColumnTitle:"",and:"",or:"",describeHtml:" ? <br/> * "},empty:"()",notData:""}}}}),ns}var YN=jN();const KN=_c(YN);function pr(e){return e&&e.enabled!==!1}function Jx(e){return e==null||e===""}function R$(e){const t=e.name,r=u.lastIndexOf(t,"."),n=t.substring(r+1,t.length).toLowerCase();return{filename:t.substring(0,r),type:n}}function D$(){return Ul.getNext()}function O$(){return Ul.getCurrent()}function fi(e){return e&&e.children&&e.children.length>0}function $a(e,t){if(e){const r=Se.getConfig().translate;return u.toValueString(r?r(""+e,t):e)}return""}function Rn(e,t){return""+(Jx(e)?t?Se.getConfig().emptyCell:"":e)}function Ma(e){return e===""||u.eqNull(e)}const T$="4.16.11";Se.version=T$;Se.tableVersion=T$;Se.setConfig({emptyCell:"",table:{fit:!0,showHeader:!0,animat:!0,delayHover:250,autoResize:!0,resizeConfig:{},resizableConfig:{dragMode:"auto",showDragTip:!0,isSyncAutoHeight:!0,isSyncAutoWidth:!0,minHeight:18},radioConfig:{strict:!0},rowDragConfig:{showIcon:!0,animation:!0,showGuidesStatus:!0,showDragTip:!0},columnDragConfig:{showIcon:!0,animation:!0,showGuidesStatus:!0,showDragTip:!0},checkboxConfig:{strict:!0},tooltipConfig:{enterable:!0},headerTooltipConfig:{enterable:!0},footerTooltipConfig:{enterable:!0},validConfig:{showMessage:!0,autoClear:!0,autoPos:!0,message:"inline",msgMode:"single",theme:"beautify"},columnConfig:{autoOptions:{isCalcHeader:!0,isCalcBody:!0,isCalcFooter:!0},maxFixedSize:4},cellConfig:{padding:!0},headerCellConfig:{height:"unset"},footerCellConfig:{height:"unset"},customConfig:{allowVisible:!0,allowResizable:!0,allowFixed:!0,allowSort:!0,showFooter:!0,placement:"top-right",storeOptions:{visible:!0,resizable:!0,sort:!0,fixed:!0},modalOptions:{showMaximize:!0,mask:!0,lockView:!0,resize:!0,escClosable:!0},drawerOptions:{mask:!0,lockView:!0,escClosable:!0,resize:!0}},sortConfig:{showIcon:!0,allowClear:!0,allowBtn:!0,iconLayout:"vertical"},filterConfig:{multiple:!0,showIcon:!0},aggregateConfig:{padding:!0,rowField:"id",parentField:"_X_ROW_PARENT_KEY",childrenField:"_X_ROW_CHILDREN",mapChildrenField:"_X_ROW_CHILD_LIST",indent:20,showIcon:!0,maxGroupSize:4,showAggFuncTitle:!0},treeConfig:{padding:!0,rowField:"id",parentField:"parentId",childrenField:"children",hasChildField:"hasChild",mapChildrenField:"_X_ROW_CHILD",indent:20,showIcon:!0},expandConfig:{showIcon:!0,mode:"fixed"},editConfig:{showIcon:!0,showAsterisk:!0,autoFocus:!0},importConfig:{_typeMaps:{csv:1,html:1,xml:1,txt:1}},exportConfig:{_typeMaps:{csv:1,html:1,xml:1,txt:1}},printConfig:{},mouseConfig:{extension:!0},keyboardConfig:{isAll:!0,isEsc:!0},areaConfig:{autoClear:!0,selectCellByHeader:!0,selectCellByBody:!0,extendDirection:{top:!0,left:!0,bottom:!0,right:!0}},clipConfig:{isCopy:!0,isCut:!0,isPaste:!0},fnrConfig:{isFind:!0,isReplace:!0},virtualXConfig:{gt:24,preSize:1,oSize:0},virtualYConfig:{gt:100,preSize:1,oSize:0},scrollbarConfig:{x:{visible:!0},y:{visible:!0}}},grid:{formConfig:{enabled:!0},pagerConfig:{enabled:!0},toolbarConfig:{enabled:!0},proxyConfig:{enabled:!0,autoLoad:!0,showLoading:!0,showResponseMsg:!0,showActionMsg:!0,response:{list:null,result:"result",total:"page.total",message:"message"}}},toolbar:{},gantt:{}});const Dr="vxe-table-icon-";Se.setIcon({TABLE_SORT_ASC:Dr+"caret-up",TABLE_SORT_DESC:Dr+"caret-down",TABLE_FILTER_NONE:Dr+"funnel",TABLE_FILTER_MATCH:Dr+"funnel",TABLE_EDIT:Dr+"edit",TABLE_TITLE_PREFIX:Dr+"question-circle-fill",TABLE_TITLE_SUFFIX:Dr+"question-circle-fill",TABLE_TREE_LOADED:Dr+"spinner roll",TABLE_TREE_OPEN:Dr+"caret-right rotate90",TABLE_TREE_CLOSE:Dr+"caret-right",TABLE_EXPAND_LOADED:Dr+"spinner roll",TABLE_EXPAND_OPEN:Dr+"arrow-right rotate90",TABLE_EXPAND_CLOSE:Dr+"arrow-right",TABLE_CHECKBOX_CHECKED:Dr+"checkbox-checked-fill",TABLE_CHECKBOX_UNCHECKED:Dr+"checkbox-unchecked",TABLE_CHECKBOX_INDETERMINATE:Dr+"checkbox-indeterminate-fill",TABLE_CHECKBOX_DISABLED_UNCHECKED:Dr+"checkbox-unchecked-fill",TABLE_RADIO_CHECKED:Dr+"radio-checked-fill",TABLE_RADIO_UNCHECKED:Dr+"radio-unchecked",TABLE_RADIO_DISABLED_UNCHECKED:Dr+"radio-unchecked-fill",TABLE_CUSTOM_SORT:Dr+"drag-handle",TABLE_MENU_OPTIONS:Dr+"arrow-right",TABLE_DRAG_ROW:Dr+"drag-handle",TABLE_DRAG_COLUMN:Dr+"drag-handle",TABLE_DRAG_STATUS_ROW:Dr+"sort",TABLE_DRAG_STATUS_SUB_ROW:Dr+"add-sub",TABLE_DRAG_STATUS_AGG_GROUP:Dr+"grouping",TABLE_DRAG_STATUS_AGG_VALUES:Dr+"values",TABLE_DRAG_STATUS_COLUMN:Dr+"swap",TABLE_DRAG_DISABLED:Dr+"no-drop",TABLE_ROW_GROUP_OPEN:Dr+"arrow-right rotate90",TABLE_ROW_GROUP_CLOSE:Dr+"arrow-right",TABLE_AGGREGATE_GROUPING:Dr+"grouping",TABLE_AGGREGATE_VALUES:Dr+"values",TABLE_AGGREGATE_SORT:Dr+"drag-handle",TABLE_AGGREGATE_DELETE:Dr+"close",TOOLBAR_TOOLS_REFRESH:Dr+"repeat",TOOLBAR_TOOLS_REFRESH_LOADING:Dr+"repeat roll",TOOLBAR_TOOLS_IMPORT:Dr+"upload",TOOLBAR_TOOLS_EXPORT:Dr+"download",TOOLBAR_TOOLS_PRINT:Dr+"print",TOOLBAR_TOOLS_FULLSCREEN:Dr+"fullscreen",TOOLBAR_TOOLS_MINIMIZE:Dr+"minimize",TOOLBAR_TOOLS_CUSTOM:Dr+"custom-column",TOOLBAR_TOOLS_FIXED_LEFT:Dr+"fixed-left",TOOLBAR_TOOLS_FIXED_LEFT_ACTIVE:Dr+"fixed-left-fill",TOOLBAR_TOOLS_FIXED_RIGHT:Dr+"fixed-right",TOOLBAR_TOOLS_FIXED_RIGHT_ACTIVE:Dr+"fixed-right-fill"});Se.setTheme;Se.getTheme;Se.setConfig;Se.getConfig;Se.setIcon;Se.getIcon;Se.setLanguage;Se.setI18n;Se.getI18n;Se.globalEvents;Se.globalResize;Se.renderer;Se.validators;Se.menus;Se.formats;Se.commands;Se.interceptor;Se.clipboard;Se.log;Se.hooks;Se.use;const XN=e=>Se.setConfig(e);Se.setup=XN;const ZN=e=>Se.setConfig(e);Se.config=ZN;const JN=(e,t)=>Se.getI18n(e,t);Se.t=JN;const QN=(e,t)=>$a(e,t);Se._t=QN;const Bo=Ri,{log:M$}=Se,I$="table v4.16.11",Zt=M$.create("warn",I$),At=M$.create("error",I$),{getI18n:e_,formats:lT}=Se;class gx{constructor(t,r,{renderHeader:n,renderCell:l,renderFooter:a,renderData:i}={}){const d=t.props,s=t.xeGrid,h=t.xeGantt,c=s||h,{field:b,editRender:E}=r,y=r.formatter,p=u.isBoolean(r.visible)?r.visible:!0,g=["seq","checkbox","radio","expand","html"];if(r.type&&g.indexOf(r.type)===-1&&Zt("vxe.error.errProp",[`type=${r.type}`,g.join(", ")]),(u.isBoolean(r.cellRender)||r.cellRender&&!u.isObject(r.cellRender))&&Zt("vxe.error.errProp",[`column.cell-render=${r.cellRender}`,"column.cell-render={}"]),(u.isBoolean(r.editRender)||r.editRender&&!u.isObject(r.editRender))&&Zt("vxe.error.errProp",[`column.edit-render=${r.editRender}`,"column.edit-render={}"]),r.type==="expand"){const{treeConfig:O}=d,{computeTreeOpts:D}=t.getComputeMaps(),I=D.value;O&&(I.showLine||I.line)&&At("vxe.error.errConflicts",["tree-config.showLine","column.type=expand"])}if(y){if(u.isString(y)){const O=lT.get(y)||u[y];(!O||!u.isFunction(O.tableCellFormatMethod||O.cellFormatMethod))&&At("vxe.error.notFormats",[y])}else if(u.isArray(y)){const O=lT.get(y[0])||u[y[0]];(!O||!u.isFunction(O.tableCellFormatMethod||O.cellFormatMethod))&&At("vxe.error.notFormats",[y[0]])}}if(r.aggFunc&&!t.handlePivotTableAggregateData&&r.aggFunc!==!0&&At("vxe.error.errProp",[`column.agg-func=${r.aggFunc}`,"column.agg-func=true"]),b&&E&&(E.startField&&`${E.startField}`.indexOf(b)>=0&&At("vxe.error.modelConflicts",[`field=${b}`,`edit-render.startField=${E.startField}`]),E.endField&&`${E.endField}`.indexOf(b)>=0&&At("vxe.error.modelConflicts",[`field=${b}`,`edit-render.endField=${E.endField}`])),Object.assign(this,{type:r.type,property:r.field,field:b,title:r.title,width:r.width,minWidth:r.minWidth,maxWidth:r.maxWidth,resizable:r.resizable,fixed:r.fixed,align:r.align,headerAlign:r.headerAlign,footerAlign:r.footerAlign,showOverflow:r.showOverflow,showHeaderOverflow:r.showHeaderOverflow,showFooterOverflow:r.showFooterOverflow,className:r.className,headerClassName:r.headerClassName,footerClassName:r.footerClassName,formatter:y,headerFormatter:r.headerFormatter,footerFormatter:r.footerFormatter,padding:r.padding,verticalAlign:r.verticalAlign,sortable:r.sortable,sortBy:r.sortBy,sortType:r.sortType,filters:rC(r.filters),filterMultiple:u.isBoolean(r.filterMultiple)?r.filterMultiple:!0,filterMethod:r.filterMethod,filterResetMethod:r.filterResetMethod,filterRecoverMethod:r.filterRecoverMethod,filterRender:r.filterRender,rowGroupNode:r.rowGroupNode,treeNode:r.treeNode,dragSort:r.dragSort,rowResize:r.rowResize,cellType:r.cellType,cellRender:r.cellRender,editRender:E,contentRender:r.contentRender,headerExportMethod:r.headerExportMethod,exportMethod:r.exportMethod,footerExportMethod:r.footerExportMethod,titleHelp:r.titleHelp,titlePrefix:r.titlePrefix,titleSuffix:r.titleSuffix,aggFunc:r.aggFunc,params:r.params,id:r.colId||u.uniqueId("col_"),parentId:null,visible:p,defaultParentId:null,halfVisible:!1,defaultVisible:p,defaultFixed:r.fixed,defaultAggGroup:r.aggGroup,defaultAggFunc:r.aggFunc,checked:!1,halfChecked:!1,disabled:!1,level:1,rowSpan:1,colSpan:1,order:null,sortTime:0,sortNumber:0,renderSortNumber:0,renderAggFn:"",renderFixed:"",renderVisible:!1,renderWidth:0,renderHeight:0,renderResizeWidth:0,renderAutoWidth:0,resizeWidth:0,renderLeft:0,renderArgs:[],model:{},renderHeader:n||r.renderHeader,renderCell:l||r.renderCell,renderFooter:a||r.renderFooter,renderData:i,slots:r.slots}),c){const{computeProxyOpts:O}=c.getComputeMaps(),D=O.value;D.beforeColumn&&D.beforeColumn({$table:t,$grid:s,$gantt:h,column:this})}}getTitle(){return $a(this.title||(this.type==="seq"?e_("vxe.table.seqTitle"):""))}getKey(){const{type:t}=this;return this.field||(t?`type=${t}`:null)}update(t,r){t!=="filters"&&(t==="field"&&(this.property=r),this[t]=r)}}const Zb={};let pi;function F$(){return pi||(pi=new Image,pi.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="),pi}function hx(){return pi||F$()}function pl(e,t){return e?u.isFunction(e)?e(t):e:""}function $$(e){return Zb[e]||(Zb[e]=new RegExp(`(?:^|\\s)${e}(?!\\S)`,"g")),Zb[e]}function vx(e){return e&&/^\d+(px)?$/.test(e)}function si(e){return e&&/^\d+%$/.test(e)}function Fa(e,t){return!!(e&&e.className&&e.className.match&&e.className.match($$(t)))}function Wn(e,t){e&&Fa(e,t)&&(e.className=e.className.replace($$(t),""))}function Lo(e,t){e&&!Fa(e,t)&&(Wn(e,t),e.className=`${e.className} ${t}`)}function Cs(e){return e.ctrlKey||e.metaKey}function Ss(e,t="px"){return u.isNumber(e)||/^\d+$/.test(`${e}`)?`${e}${t}`:`${e||""}`}function Va(e,t){return e?e.querySelector(t):null}function au(){const e=document.documentElement,t=document.body;return{scrollTop:e.scrollTop||t.scrollTop,scrollLeft:e.scrollLeft||t.scrollLeft,visibleHeight:e.clientHeight||t.clientHeight,visibleWidth:e.clientWidth||t.clientWidth}}function os(e){return e?e.offsetHeight:0}function mx(e){if(e){const t=getComputedStyle(e),r=u.toNumber(t.paddingTop),n=u.toNumber(t.paddingBottom);return r+n}return 0}function Br(e,t){e&&(e.scrollTop=t)}function Gr(e,t){e&&(e.scrollLeft=t)}function Qx(e,t){const r=t.type==="html"?e.innerText:e.textContent;e.getAttribute("title")!==r&&e.setAttribute("title",r)}function $r(e,t,r,n){let l,a=e.target.shadowRoot&&e.composed&&e.composedPath()[0]||e.target;for(;a&&a.nodeType&&a!==document;){if(r&&Fa(a,r)&&(!n||n(a)))l=a;else if(a===t)return{flag:r?!!l:!0,container:t,targetElem:l};a=a.parentNode}return{flag:!1}}function Rc(e){const t=e.getBoundingClientRect(),r=t.top,n=t.left,{scrollTop:l,scrollLeft:a,visibleHeight:i,visibleWidth:d}=au();return{boundingTop:r,top:l+r,boundingLeft:n,left:a+n,visibleHeight:i,visibleWidth:d}}const iT="scrollIntoViewIfNeeded",sT="scrollIntoView";function t_(e){e&&(e[iT]?e[iT]():e[sT]&&e[sT]())}function r_(e,t){e&&e.dispatchEvent(new Event(t))}function cT(){return{tZindex:0,currKeyField:"",isCurrDeepKey:!1,elemStore:{},scrollXStore:{preloadSize:0,offsetSize:0,visibleSize:0,visibleStartIndex:0,visibleEndIndex:0,startIndex:0,endIndex:0},scrollYStore:{preloadSize:0,offsetSize:0,visibleSize:0,visibleStartIndex:0,visibleEndIndex:0,startIndex:0,endIndex:0},tableWidth:0,tableHeight:0,customHeight:0,customMinHeight:0,customMaxHeight:0,hoverRow:null,lastScrollLeft:0,lastScrollTop:0,radioReserveRow:null,checkboxReserveRowMap:{},rowExpandedReserveRowMap:{},treeExpandedReserveRowMap:{},treeIndeterminateRowMaps:{},tableFullData:[],afterFullData:[],afterTreeFullData:[],afterGroupFullData:[],afterFullRowMaps:{},tableFullTreeData:[],tableFullGroupData:[],tableSynchData:[],tableSourceData:[],collectColumn:[],tableFullColumn:[],visibleColumn:[],fullAllDataRowIdData:{},fullDataRowIdData:{},visibleDataRowIdData:{},sourceDataRowIdData:{},fullColumnIdData:{},fullColumnFieldData:{},mergeHeaderList:[],mergeHeaderMaps:{},mergeHeaderCellMaps:{},mergeBodyList:[],mergeBodyMaps:{},mergeBodyCellMaps:{},mergeFooterList:[],mergeFooterMaps:{},mergeFooterCellMaps:{},rowExpandedMaps:{},rowExpandLazyLoadedMaps:{},rowGroupExpandedMaps:{},treeExpandedMaps:{},treeExpandLazyLoadedMaps:{},selectCheckboxMaps:{},pendingRowMaps:{},insertRowMaps:{},removeRowMaps:{},cvCacheMaps:{},tHeaderHeight:0,tBodyHeight:0,tFooterHeight:0,teleportToWrapperElem:null,inited:!1,tooltipTimeout:null,initStatus:!1,isActivated:!1}}const A$=(e,t)=>{const r=[];return e.forEach(n=>{n.parentId=t?t.id:null,n.visible&&(n.children&&n.children.length&&n.children.some(l=>l.visible)?(r.push(n),r.push(...A$(n.children,n))):r.push(n))}),r},n_=e=>{let t=1;const r=(a,i)=>{if(i&&(a.level=i.level+1,t<a.level&&(t=a.level)),a.children&&a.children.length&&a.children.some(d=>d.visible)){let d=0;a.children.forEach(s=>{s.visible&&(r(s,a),d+=s.colSpan)}),a.colSpan=d}else a.colSpan=1};e.forEach(a=>{a.level=1,r(a)});const n=[];for(let a=0;a<t;a++)n.push([]);return A$(e).forEach(a=>{a.children&&a.children.length&&a.children.some(i=>i.visible)?a.rowSpan=1:a.rowSpan=t-a.level+1,n[a.level-1].push(a)}),n};function o_(e){const t=e.length,r=e[0].reduce((a,i)=>a+i.colSpan,0),n=[],l=[];for(let a=0;a<t;a++){const i=[],d=[];for(let s=0;s<r;s++)i.push(!1),d.push("");n.push(i),l.push(d)}for(let a=0;a<t;a++){let i=0;for(const d of e[a]){const{colSpan:s,rowSpan:h}=d;let c=-1;for(let b=i;b<=r-s;b++){let E=!0;for(let y=0;y<s;y++)if(n[a][b+y]){E=!1;break}if(E){c=b;break}}if(c===-1){for(let b=0;b<=r-s;b++){let E=!0;for(let y=0;y<s;y++)if(n[a][b+y]){E=!1;break}if(E){c=b;break}}if(c===-1)break}for(let b=a;b<a+h;b++)for(let E=c;E<c+s;E++)n[b][E]=!0,l[b][E]=d;i=c+s}}return l}function rc(e,t,r){const n=e.internalData;return t||r?(n.intoRunScroll=!1,n.inVirtualScroll=!1,n.inWheelScroll=!1,n.inHeaderScroll=!1,n.inBodyScroll=!1,n.inFooterScroll=!1,n.scrollRenderType="",e.scrollTo(t,r)):e.clearScroll()}function ys(){return u.uniqueId("row_")}function a_(e){return e.indexOf(".")>-1}function Ql(e){const{currKeyField:t}=e.internalData;return t}function It(e,t){const r=e.internalData,{isCurrDeepKey:n,currKeyField:l}=r;return t?lu((n?eC:tC)(t,l)):""}function uT(e){const t=e.internalData,{isCurrDeepKey:r,currKeyField:n}=t,l=r?l_:i_;return{rowKey:n,handleUpdateRowId(a){return a?l(a,n):""}}}function hn(e){const t=e.internalData,{isCurrDeepKey:r,currKeyField:n}=t,l=r?eC:tC;return{rowKey:n,handleGetRowId(a){return a?lu(l(a,n)):""}}}function lu(e){return u.eqNull(e)?"":encodeURIComponent(e)}function eC(e,t){return u.get(e,t)}function l_(e,t){let r=lu(eC(e,t));return Ma(r)&&(r=ys(),u.set(e,t,r)),r}function tC(e,t){return e[t]}function i_(e,t){let r=lu(tC(e,t));return Ma(r)&&(r=ys(),e[t]=r),r}function un(e,t){return t?u.isString(t)||u.isNumber(t)?e.getColumnByField(`${t}`):t:null}function dT(e,t){if(t){const r=u.isString(t)||u.isNumber(t)?t:It(e,t);return e.getRowById(r)}return null}function bi(e,t,r,n){return e.resizeHeight||t.height||r.height||e.height||n}function fT(e){if(e){const t=getComputedStyle(e),r=u.toNumber(t.paddingLeft),n=u.toNumber(t.paddingRight);return r+n}return 0}function sl(e){if(e){const t=getComputedStyle(e),r=u.toNumber(t.marginLeft),n=u.toNumber(t.marginRight);return e.offsetWidth+r+n}return 0}function rC(e){return e&&u.isArray(e)?e.map(({label:t,value:r,data:n,resetValue:l,checked:a})=>({label:t,value:r,data:n,resetValue:l,checked:!!a,_checked:!!a})):e}function pT(e){return e.map((t,r)=>r%2===0?Number(t)+1:".").join("")}function yn(e,t){return u.get(e,t.field)}function ca(e,t,r){return u.set(e,t.field,r)}function nr(e){if(e){const t=e.value;if(t)return t.$el||t}return null}function Fc(e){return e==="unset"?0:e||0}function gT(e){const{$table:t,column:r,cell:n}=e,l=t.props,a=t.internalData,{computeResizableOpts:i}=t.getComputeMaps(),d=i.value,{minWidth:s}=d;if(s){const Y=u.isFunction(s)?s(e):s;if(Y!=="auto")return Math.max(1,u.toNumber(Y))}const{elemStore:h}=a,{showHeaderOverflow:c}=l,{showHeaderOverflow:b,minWidth:E}=r,y=u.isUndefined(b)||u.isNull(b)?c:b,D=y==="title"||(y===!0||y==="tooltip")||y==="ellipsis",I=u.floor((u.toNumber(getComputedStyle(n).fontSize)||14)*1.8),W=fT(n)+fT(Va(n,".vxe-cell"));let N=I+W;if(D){const Y=sl(Va(n,".vxe-cell--drag-handle")),L=sl(Va(n,".vxe-cell--checkbox")),F=sl(Va(n,".vxe-cell--required-icon")),M=sl(Va(n,".vxe-cell--edit-icon")),q=sl(Va(n,".vxe-cell-title-prefix-icon")),V=sl(Va(n,".vxe-cell-title-suffix-icon")),j=sl(Va(n,".vxe-cell--sort")),U=sl(Va(n,".vxe-cell--filter"));N+=Y+L+F+M+q+V+U+j}if(E){const Y=nr(h["main-body-scroll"]);if(Y){if(si(E)){const F=(Y.clientWidth-1)/100;return Math.max(N,Math.floor(u.toInteger(E)*F))}else if(vx(E))return Math.max(N,u.toInteger(E))}}return N}function Dc(e){return e&&(e.constructor===gx||e instanceof gx)}function ws(e){const t=[];return e.forEach(r=>{t.push(...r.children&&r.children.length?ws(r.children):[r])}),t}function s_(e,t,r){return Dc(t)?t:rn(new gx(e,t,r))}function P$(e,t,r){Object.keys(t).forEach(n=>{sr(()=>t[n],l=>{r.update(n,l),e&&(n==="filters"?(e.setFilter(r,l),e.handleUpdateDataQueue()):["visible","fixed","width","minWidth","maxWidth"].includes(n)&&e.handleRefreshColumnQueue())})})}function k$(e,t,r,n){const{reactData:l}=e,{staticColumns:a}=l,i=t.parentNode,d=n?n.columnConfig:null,s=d?d.children:a;i&&s&&(r.defaultParentId=d?d.id:null,s.splice(u.arrayIndexOf(i.children,t),0,r),l.staticColumns=a.slice(0))}function L$(e,t){const{reactData:r}=e,{staticColumns:n}=r,l=u.findTree(n,a=>a.id===t.id,{children:"children"});l&&l.items.splice(l.index,1),r.staticColumns=n.slice(0)}function hT(e,t){const{internalData:r}=e,{fullColumnIdData:n}=r;if(!t)return null;let l=t.parentId;for(;n[l];){const a=n[l].column;if(l=a.parentId,!l)return a}return t}const c_={mini:3,small:2,medium:1,large:0},N$=(e,t)=>{let r=1;if(!e)return r;const{$table:n}=t,l=n.reactData,{treeExpandedFlag:a}=l,i=n.internalData,{treeExpandedMaps:d}=i,{computeTreeOpts:s}=n.getComputeMaps(),h=s.value,{transform:c,mapChildrenField:b}=h,E=h.children||h.childrenField,y=e[c?b:E];if(y&&a&&d[It(n,e)])for(let p=0;p<y.length;p++)r+=N$(y[p],t);return r},_$=e=>{const{computeSize:t}=e.getComputeMaps(),r=t.value;return r&&c_[r]||0};function u_(e,t){const{$table:r,row:n}=e,l=r.props,a=r.reactData,i=r.internalData,{showOverflow:d}=l,{scrollYLoad:s}=a,{fullAllDataRowIdData:h}=i,{computeRowOpts:c,computeCellOpts:b,computeDefaultRowHeight:E}=r.getComputeMaps(),y=c.value,p=b.value,g=E.value,O=It(r,n),D=h[O],I=D.resizeHeight||p.height||y.height||D.height||g;let W=1;t&&(W=N$(t,e));let N=I;const Y=D.height;return s&&(d||(N=Y||I)),N*W-(t?1:12-_$(r))}function d_(e){const{props:t,internalData:r}=e;return r.initStatus=!1,e.clearSort(),e.clearCurrentRow(),e.clearCurrentColumn(),e.clearRadioRow(),e.clearRadioReserve(),e.clearCheckboxRow(),e.clearCheckboxReserve(),e.clearRowExpand(),e.clearTreeExpand(),e.clearTreeExpandReserve(),e.clearPendingRow(),e.clearFilter&&e.clearFilter(),e.clearSelected&&(t.keyboardConfig||t.mouseConfig)&&e.clearSelected(),e.clearCellAreas&&t.mouseConfig&&(e.clearCellAreas(),e.clearCopyCellArea()),e.clearScroll()}function f_(e){return e.clearFilter&&e.clearFilter(),d_(e)}function vT(e,t){const r=e.props,n=e.reactData,l=e.internalData,{computeLeftFixedWidth:a,computeRightFixedWidth:i,computeRowOpts:d,computeCellOpts:s,computeDefaultRowHeight:h}=e.getComputeMaps(),{showOverflow:c}=r,{scrollYLoad:b,scrollYTop:E}=n,{elemStore:y,afterFullData:p,fullAllDataRowIdData:g,isResizeCellHeight:O}=l,D=d.value,I=s.value,W=h.value,N=a.value,Y=i.value,L=nr(y["main-body-scroll"]),F=It(e,t);if(L){const M=L.clientHeight,q=L.scrollTop,V=L.querySelector(`[rowid="${F}"]`);if(V){const j=V.offsetTop+(b?E:0),U=V.clientHeight;if(j<q||j>q+M)return e.scrollTo(null,j);if(j+U>=M+q)return e.scrollTo(null,q+U)}else if(b){if(!(O||I.height||D.height)&&c)return e.scrollTo(null,(e.findRowIndexOf(p,t)-1)*W);const U=g[F]||{},z=U.resizeHeight||I.height||D.height||U.height||W,k=U.oTop;return k<q?e.scrollTo(null,k-N-1):e.scrollTo(null,k+z-(M-Y-1))}}return Promise.resolve()}function mT(e,t,r){const n=e.reactData,l=e.internalData,{computeLeftFixedWidth:a,computeRightFixedWidth:i}=e.getComputeMaps(),{scrollXLoad:d,scrollXLeft:s}=n,{elemStore:h,visibleColumn:c}=l,b=a.value,E=i.value,y=nr(h["main-body-scroll"]);if(t.fixed)return Promise.resolve();if(y){const p=y.clientWidth,g=y.scrollLeft;let O=null;if(r){const D=It(e,r);O=y.querySelector(`[rowid="${D}"] .${t.id}`)}if(O||(O=y.querySelector(`.${t.id}`)),O){const D=O.offsetLeft+(d?s:0),I=O.clientWidth;if(D<g+b)return e.scrollTo(D-b-1);if(D+I-g>p-E)return e.scrollTo(D+I-(p-E-1))}else if(d){let D=0;const I=t.renderWidth;for(let W=0;W<c.length;W++){const N=c[W];if(N===t||N.id===t.id)break;D+=N.renderWidth}return D<g?e.scrollTo(D-b-1):e.scrollTo(D+I-(p-E-1))}}return Promise.resolve()}function hl(e){return"on"+e.substring(0,1).toLocaleUpperCase()+e.substring(1)}function q$(e){switch(e.name){case"input":case"textarea":return"input";case"select":return"change"}return"update:modelValue"}function H$(e){switch(e.name){case"input":case"textarea":case"VxeInput":case"VxeNumberInput":case"VxeTextarea":case"$input":case"$textarea":return"input"}return"change"}function _n(e){return e==null?[]:u.isArray(e)?e:[e]}const{getI18n:as,getIcon:Wr,renderer:ds,formats:bT,renderEmptyElement:gl}=Se;function p_(e){const{$table:t,column:r}=e,n=r.titlePrefix||r.titleHelp;return n?m("span",{class:["vxe-cell-title-prefix-icon",n.iconStatus?`theme--${n.iconStatus}`:""],onMouseenter(l){t.triggerHeaderTitleEvent(l,n,e)},onMouseleave(l){t.handleTargetLeaveEvent(l)}},[m("i",{class:n.icon||Wr().TABLE_TITLE_PREFIX})]):gl(t)}function g_(e){const{$table:t,column:r}=e,n=r.titleSuffix;return n?m("span",{class:["vxe-cell-title-suffix-icon",n.iconStatus?`theme--${n.iconStatus}`:""],onMouseenter(l){t.triggerHeaderTitleEvent(l,n,e)},onMouseleave(l){t.handleTargetLeaveEvent(l)}},[m("i",{class:n.icon||Wr().TABLE_TITLE_SUFFIX})]):gl(t)}function xT(e){const{$table:t,column:r}=e,{context:n}=t,l=n.slots,a=t.props,{slots:i}=r,{dragConfig:d}=a,{computeRowDragOpts:s}=t.getComputeMaps(),h=s.value,{icon:c,trigger:b,disabledMethod:E}=h,y=E||(d?d.rowDisabledMethod:null),p=y&&y(e),g=(i?i.rowDragIcon||i["row-drag-icon"]:null)||l.rowDragIcon||l["row-drag-icon"],O={};return b!=="cell"&&(O.onMousedown=D=>{p||t.handleCellDragMousedownEvent(D,e)},O.onMouseup=t.handleCellDragMouseupEvent),m("span",Object.assign({key:"dg",class:["vxe-cell--drag-handle",{"is--disabled":p}]},O),g?t.callSlot(g,e):[m("i",{class:c||(d?d.rowIcon:"")||Wr().TABLE_DRAG_ROW})])}function Sn(e,t){const{$table:r,column:n,level:l}=e,{dragSort:a}=n,i=r.props,{treeConfig:d,dragConfig:s}=i,{computeRowOpts:h,computeRowDragOpts:c,computeTreeOpts:b}=r.getComputeMaps(),E=h.value,y=c.value,p=b.value,{showIcon:g,isPeerDrag:O,isCrossDrag:D,visibleMethod:I}=y,W=I||(s?s.rowVisibleMethod:null),N=[];return a&&E.drag&&(g||s&&s.showRowIcon)&&(!W||W(e))&&(d?p.transform&&(O||D||!l)&&N.push(xT(e)):N.push(xT(e))),N.concat(u.isArray(t)?t:[t])}function h_(e){const{$table:t,column:r}=e,{context:n}=t,l=n.slots,{slots:a}=r,{computeColumnOpts:i,computeColumnDragOpts:d}=t.getComputeMaps(),s=i.value,h=d.value,{showIcon:c,icon:b,trigger:E,isPeerDrag:y,isCrossDrag:p,visibleMethod:g,disabledMethod:O}=h;if(s.drag&&c&&(!g||g(e))&&!r.fixed&&(y||p||!r.parentId)){const D=O&&O(e),I=(a?a.columnDragIcon||a["column-drag-icon"]:null)||l.columnDragIcon||l["column-drag-icon"],W={};return E!=="cell"&&(W.onMousedown=N=>{D||t.handleHeaderCellDragMousedownEvent(N,e)},W.onMouseup=t.handleHeaderCellDragMouseupEvent),m("span",Object.assign({key:"dg",class:["vxe-cell--drag-handle",{"is--disabled":D}]},W),I?t.callSlot(I,e):[m("i",{class:b||Wr().TABLE_DRAG_COLUMN})])}return gl(t)}function Ra(e,t){return[p_(e),h_(e),...u.isArray(t)?t:[t],g_(e)]}function v_(e,t){return e.type==="html"&&u.isString(t)?m("span",{key:"ch",innerHTML:t}):m("span",{key:"ct"},_n(t))}function cl(e,t){const{$table:r,column:n}=e,l=r.props,a=r.reactData,{computeHeaderTooltipOpts:i}=r.getComputeMaps(),{showHeaderOverflow:d}=l,{isRowGroupStatus:s}=a,{showHeaderOverflow:h}=n,b=i.value.showAll,E=u.eqNull(h)?d:h,y=E==="title",p=E===!0||E==="tooltip",g={};(y||p||b)&&(g.onMouseenter=D=>{a.isDragResize||(y?Qx(D.currentTarget,n):(p||b)&&r.triggerHeaderTooltipEvent(D,e))}),(p||b)&&(g.onMouseleave=D=>{a.isDragResize||(p||b)&&r.handleTargetLeaveEvent(D)});const O=v_(n,t);return[m("span",Object.assign({class:"vxe-cell--title"},g),s&&n.aggFunc&&r.getPivotTableAggregateRenderColTitles?r.getPivotTableAggregateRenderColTitles(n,O):[O])]}function m_(e){const{$table:t,column:r,_columnIndex:n,items:l,row:a}=e,{slots:i,editRender:d,cellRender:s,footerFormatter:h}=r,c=d||s,b=i?i.footer:null;if(b)return t.callSlot(b,e);let E="";u.isArray(l)?E=l[n]:E=u.get(a,r.field);const y=Object.assign(e,{itemValue:E});if(h){if(u.isFunction(h))return[m("span",{class:"vxe-cell--label"},`${h(y)}`)];const p=u.isArray(h),g=p?bT.get(h[0]):bT.get(h),O=g?g.tableFooterCellFormatMethod:null;return O?[m("span",{class:"vxe-cell--label"},`${p?O(y,...h.slice(1)):O(y)}`)]:[m("span",{class:"vxe-cell--label"},"")]}if(c){const p=ds.get(c.name);if(p){const g=p.renderTableFooter||p.renderFooter;if(g)return _n(g(c,y))}}return[m("span",{class:"vxe-cell--label"},Rn(E,1))]}function CT(e){const{$table:t,row:r,column:n}=e;return Rn(t.getCellLabel(r,n),1)}function b_(e){const{column:t,row:r,$table:n}=e,l=n.props,a=n.reactData,{isRowGroupStatus:i}=a,{editConfig:d}=l,{type:s,treeNode:h,rowGroupNode:c,editRender:b}=t,{computeEditOpts:E,computeCheckboxOpts:y,computeAggregateOpts:p}=n.getComputeMaps(),g=p.value,{mode:O}=g,D=y.value,I=E.value,W=h||i&&(O==="column"?t.field===r.groupField:c);switch(s){case"seq":return W?ur.renderDeepIndexCell(e):ur.renderSeqCell(e);case"radio":return W?ur.renderDeepRadioCell(e):ur.renderRadioCell(e);case"checkbox":return D.checkField?W?ur.renderDeepSelectionCellByProp(e):ur.renderCheckboxCellByProp(e):W?ur.renderDeepSelectionCell(e):ur.renderCheckboxCell(e);case"expand":return ur.renderExpandCell(e);case"html":return W?ur.renderDeepHTMLCell(e):ur.renderHTMLCell(e)}return pr(d)&&b?I.mode==="cell"?W?ur.renderDeepCellEdit(e):ur.renderCellEdit(e):W?ur.renderDeepRowEdit(e):ur.renderRowEdit(e):W?ur.renderDeepCell(e):ur.renderDefaultCell(e)}function x_(e){const{column:t,$table:r}=e,n=r.props,{editConfig:l}=n,{type:a,filters:i,sortable:d,editRender:s}=t;switch(a){case"seq":return ur.renderSeqHeader(e);case"radio":return ur.renderRadioHeader(e);case"checkbox":return ur.renderCheckboxHeader(e);case"html":if(i&&d)return ur.renderSortAndFilterHeader(e);if(d)return ur.renderSortHeader(e);if(i)return ur.renderFilterHeader(e);break}return l&&s?ur.renderEditHeader(e):i&&d?ur.renderSortAndFilterHeader(e):d?ur.renderSortHeader(e):i?ur.renderFilterHeader(e):ur.renderDefaultHeader(e)}function C_(e){return ur.renderDefaultFooter(e)}const ur={createColumn(e,t){const{type:r}=t,n={renderHeader:x_,renderCell:b_,renderFooter:C_};return r==="expand"&&(n.renderData=ur.renderExpandData),s_(e,t,n)},renderHeaderTitle(e){const{$table:t,column:r}=e,{slots:n,editRender:l,cellRender:a}=r,i=l||a,d=n?n.header:null;if(d)return cl(e,t.callSlot(d,e));if(i){const s=ds.get(i.name);if(s){const h=s.renderTableHeader||s.renderHeader;if(h)return cl(e,_n(h(i,e)))}}return cl(e,Rn(r.getTitle(),1))},renderDefaultHeader(e){return Ra(e,ur.renderHeaderTitle(e))},renderDefaultCell(e){const{$table:t,row:r,column:n}=e,l=t.reactData,a=t.internalData,{isRowGroupStatus:i}=l,{field:d,slots:s,editRender:h,cellRender:c,rowGroupNode:b,aggFunc:E}=n,y=h||c,p=s?s.default:null,g=s?s.groupContent||s["group-content"]:null;let O="";if(i&&d&&r.isAggregate){const I=r,{fullColumnFieldData:W}=a,{computeAggregateOpts:N}=t.getComputeMaps(),Y=N.value,{mode:L,showTotal:F,totalMethod:M,countFields:q,contentMethod:V,mapChildrenField:j}=Y,U=Y.calcValuesMethod||Y.countMethod||Y.aggregateMethod,z=I.groupField,k=I.groupContent,ne=j?I[j]||[]:[],fe=I.childCount,G=W[z]||{},J={$table:t,groupField:z,groupColumn:G?G.column:null,column:n,groupValue:k,childList:ne,childCount:fe,aggValue:null,children:ne,totalValue:fe};if(g)return Sn(e,t.callSlot(g,Object.assign({groupField:z,groupContent:k,childList:ne,childCount:fe},e)));(L==="column"?d===I.groupField:b)?(O=k,V&&(O=`${V(J)}`),F&&(O=as("vxe.table.rowGroupContentTotal",[O,M?M(J):fe,fe]))):t.getPivotTableAggregateCellAggValue?O=t.getPivotTableAggregateCellAggValue(e):(E===!0||q&&q.includes(d))&&U&&(J.aggValue=fe,O=`${U(J)}`)}else{if(p)return Sn(e,t.callSlot(p,e));if(y){const I=ds.get(y.name);if(I){const W=I.renderTableCell||I.renderCell,N=I.renderTableDefault||I.renderDefault,Y=h?W:N;if(Y)return Sn(e,_n(Y(y,Object.assign({$type:h?"edit":"cell"},e))))}}O=t.getCellLabel(r,n)}const D=h?h.placeholder:"";return Sn(e,[m("span",{class:"vxe-cell--label"},[h&&Ma(O)?m("span",{class:"vxe-cell--placeholder"},Rn($a(D),1)):m("span",Rn(O,1))])])},renderDeepCell(e){return ur.renderDeepNodeBtn(e,ur.renderDefaultCell(e))},renderDefaultFooter(e){return m_(e)},renderRowGroupBtn(e,t){const{$table:r}=e,n=r.reactData,l=r.internalData,{row:a,level:i}=e,{computeAggregateOpts:d}=r.getComputeMaps(),{rowGroupExpandedFlag:s}=n,{rowGroupExpandedMaps:h}=l,c=d.value,{mode:b,padding:E,indent:y}=c,p=It(r,a),g=!!s&&!!h[p];return m("div",{class:["vxe-row-group--tree-node",{"is--expanded":g}],style:b!=="column"&&E&&y?{paddingLeft:`${i*y}px`}:void 0},[a.isAggregate?m("span",{class:"vxe-row-group--node-btn",onClick(O){r.triggerRowGroupExpandEvent(O,e)}},[m("i",{class:g?Wr().TABLE_ROW_GROUP_OPEN:Wr().TABLE_ROW_GROUP_CLOSE})]):gl(r),m("div",{class:"vxe-row-group-cell"},t)])},renderTreeNodeBtn(e,t){const{$table:r,isHidden:n}=e,l=r.reactData,a=r.internalData,{row:i,column:d,level:s}=e,{slots:h}=d,c=h?h.icon:null;if(c)return r.callSlot(c,e);const{computeTreeOpts:b}=r.getComputeMaps(),{treeExpandedFlag:E}=l,{fullAllDataRowIdData:y,treeExpandedMaps:p,treeExpandLazyLoadedMaps:g}=a,O=b.value,{padding:D,indent:I,lazy:W,trigger:N,iconLoaded:Y,showIcon:L,iconOpen:F,iconClose:M}=O,q=O.children||O.childrenField,V=O.hasChild||O.hasChildField,j=i[q],U=j&&j.length;let z=!1,k=!1,ne=!1,fe=!1;const G={};if(!n){const J=It(r,i);if(k=!!E&&!!p[J],W){const we=y[J];ne=!!g[J],z=i[V],fe=!!we.treeLoaded}}return(!N||N==="default")&&(G.onClick=J=>{r.triggerTreeExpandEvent(J,e)}),m("div",{class:["vxe-cell--tree-node",{"is--active":k}],style:D&&I?{paddingLeft:`${s*I}px`}:void 0},[L&&(W?fe?U:U||z:U)?[m("div",Object.assign({class:"vxe-cell--tree-btn"},G),[m("i",{class:ne?Y||Wr().TABLE_TREE_LOADED:k?F||Wr().TABLE_TREE_OPEN:M||Wr().TABLE_TREE_CLOSE})])]:null,m("div",{class:"vxe-tree-cell"},t)])},renderDeepNodeBtn(e,t){const{$table:r,row:n,column:l}=e,{rowGroupNode:a}=l,i=r.reactData,{rowGroupList:d}=i;if(d.length){const{computeAggregateOpts:s}=r.getComputeMaps(),h=s.value,{mode:c}=h;if(c==="column"?l.field===n.groupField:a)return[ur.renderRowGroupBtn(e,t)]}return[ur.renderTreeNodeBtn(e,t)]},renderSeqHeader(e){const{$table:t,column:r}=e,{slots:n}=r,l=n?n.header:null;return Ra(e,cl(e,l?t.callSlot(l,e):Rn(r.getTitle(),1)))},renderSeqCell(e){const{$table:t,column:r}=e,n=t.props,{treeConfig:l}=n,{computeSeqOpts:a}=t.getComputeMaps(),i=a.value,{slots:d}=r,s=d?d.default:null;if(s)return Sn(e,t.callSlot(s,e));const{seq:h}=e,c=i.seqMethod;return Sn(e,[m("span",`${Rn(c?c(e):l?h:(i.startIndex||0)+h,1)}`)])},renderDeepIndexCell(e){return ur.renderDeepNodeBtn(e,ur.renderSeqCell(e))},renderRadioHeader(e){const{$table:t,column:r}=e,{slots:n}=r,l=n?n.header:null,a=n?n.title:null;return Ra(e,cl(e,l?t.callSlot(l,e):[m("span",{class:"vxe-radio--label"},a?t.callSlot(a,e):Rn(r.getTitle(),1))]))},renderRadioCell(e){const{$table:t,column:r,isHidden:n}=e,l=t.reactData,{computeRadioOpts:a}=t.getComputeMaps(),{selectRadioRow:i}=l,d=a.value,{slots:s}=r,{labelField:h,checkMethod:c,visibleMethod:b}=d,{row:E}=e,y=s?s.default:null,p=s?s.radio:null,g=t.eqRow(E,i),O=!b||b({$table:t,row:E});let D=!!c,I;n||(I={onClick(Y){!D&&O&&t.triggerRadioRowEvent(Y,e)}},c&&(D=!c({$table:t,row:E})));const W=Object.assign(Object.assign({},e),{checked:g,disabled:D,visible:O});if(p)return Sn(e,t.callSlot(p,W));const N=[];return O&&N.push(m("span",{class:["vxe-radio--icon",g?Wr().TABLE_RADIO_CHECKED:D?Wr().TABLE_RADIO_DISABLED_UNCHECKED:Wr().TABLE_RADIO_UNCHECKED]})),(y||h)&&N.push(m("span",{class:"vxe-radio--label"},y?t.callSlot(y,W):u.get(E,h))),Sn(e,[m("span",Object.assign({class:["vxe-cell--radio",{"is--checked":g,"is--disabled":D}]},I),N)])},renderDeepRadioCell(e){return ur.renderDeepNodeBtn(e,ur.renderRadioCell(e))},renderCheckboxHeader(e){const{$table:t,column:r,isHidden:n}=e,l=t.reactData,{computeIsAllCheckboxDisabled:a,computeCheckboxOpts:i}=t.getComputeMaps(),{isAllSelected:d,isIndeterminate:s}=l,h=a.value,{slots:c}=r,b=c?c.header:null,E=c?c.title:null,y=i.value,{checkStrictly:p,showHeader:g,headerTitle:O}=y,D=r.getTitle(),I={};n||(I.onClick=N=>{h||t.triggerCheckAllEvent(N,!d)});const W=Object.assign(Object.assign({},e),{checked:d,disabled:h,indeterminate:s});return b?Ra(e,cl(W,t.callSlot(b,W))):(p?!g:g===!1)?Ra(e,cl(W,[m("span",{class:"vxe-checkbox--label"},E?t.callSlot(E,W):D)])):Ra(e,cl(W,[m("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":d,"is--disabled":h,"is--indeterminate":s}],title:u.eqNull(O)?as("vxe.table.allTitle"):`${O||""}`},I),[m("span",{class:["vxe-checkbox--icon",s?Wr().TABLE_CHECKBOX_INDETERMINATE:d?Wr().TABLE_CHECKBOX_CHECKED:h?Wr().TABLE_CHECKBOX_DISABLED_UNCHECKED:Wr().TABLE_CHECKBOX_UNCHECKED]})].concat(E||D?[m("span",{class:"vxe-checkbox--label"},E?t.callSlot(E,W):D)]:[]))]))},renderCheckboxCell(e){const{$table:t,row:r,column:n,isHidden:l}=e,a=t.props,i=t.reactData,d=t.internalData,{treeConfig:s}=a,{updateCheckboxFlag:h,isRowGroupStatus:c}=i,{selectCheckboxMaps:b,treeIndeterminateRowMaps:E}=d,{computeCheckboxOpts:y,computeAggregateOpts:p}=t.getComputeMaps(),g=p.value,{mapChildrenField:O}=g,D=y.value,{labelField:I,checkMethod:W,visibleMethod:N}=D,{slots:Y}=n,L=Y?Y.default:null,F=Y?Y.checkbox:null;let M=!1,q=!1,V=!0,j=!1;const U={};if(!l){const ne=It(t,r);if(q=!!h&&!!b[ne],W&&c&&t.isAggregateRecord(r)){const fe=r[O||""];(!fe||!fe.length||fe.every(G=>!W({$table:t,row:G})))&&(j=!0)}else V=!N||N({$table:t,row:r}),j=W?!W({$table:t,row:r}):!!W;(s||c)&&(M=!!E[ne]),U.onClick=fe=>{!j&&V&&t.triggerCheckRowEvent(fe,e,!q)}}const z=Object.assign(Object.assign({},e),{checked:q,disabled:j,visible:V,indeterminate:M});if(F)return Sn(e,t.callSlot(F,z));const k=[];return V&&k.push(m("span",{class:["vxe-checkbox--icon",M?Wr().TABLE_CHECKBOX_INDETERMINATE:q?Wr().TABLE_CHECKBOX_CHECKED:j?Wr().TABLE_CHECKBOX_DISABLED_UNCHECKED:Wr().TABLE_CHECKBOX_UNCHECKED]})),(L||I)&&k.push(m("span",{class:"vxe-checkbox--label"},L?t.callSlot(L,z):u.get(r,I))),Sn(e,[m("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":q,"is--disabled":j,"is--indeterminate":M,"is--hidden":!V}]},U),k)])},renderDeepSelectionCell(e){return ur.renderDeepNodeBtn(e,ur.renderCheckboxCell(e))},renderCheckboxCellByProp(e){const{$table:t,row:r,column:n,isHidden:l}=e,a=t.props,i=t.reactData,d=t.internalData,{treeConfig:s}=a,{updateCheckboxFlag:h,isRowGroupStatus:c}=i,{treeIndeterminateRowMaps:b}=d,{computeCheckboxOpts:E,computeAggregateOpts:y}=t.getComputeMaps(),p=y.value,{mapChildrenField:g}=p,O=E.value,{labelField:D,checkField:I,checkMethod:W,visibleMethod:N}=O,Y=O.indeterminateField||O.halfField,{slots:L}=n,F=L?L.default:null,M=L?L.checkbox:null;let q=!1,V=!1,j=!0,U=!1;const z={};if(!l){const fe=It(t,r);if(V=!!h&&u.get(r,I),W&&c&&t.isAggregateRecord(r)){const G=r[g||""];(!G||!G.length||G.every(J=>!W({$table:t,row:J})))&&(U=!0)}else j=!N||N({$table:t,row:r}),U=W?!W({$table:t,row:r}):!!W;(s||c)&&(q=!!b[fe]),z.onClick=G=>{!U&&j&&t.triggerCheckRowEvent(G,e,!V)}}const k=Object.assign(Object.assign({},e),{checked:V,disabled:U,visible:j,indeterminate:q});if(M)return Sn(e,t.callSlot(M,k));const ne=[];return j&&(ne.push(m("span",{class:["vxe-checkbox--icon",q?Wr().TABLE_CHECKBOX_INDETERMINATE:V?Wr().TABLE_CHECKBOX_CHECKED:U?Wr().TABLE_CHECKBOX_DISABLED_UNCHECKED:Wr().TABLE_CHECKBOX_UNCHECKED]})),(F||D)&&ne.push(m("span",{class:"vxe-checkbox--label"},F?t.callSlot(F,k):u.get(r,D)))),Sn(e,[m("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":V,"is--disabled":U,"is--indeterminate":Y&&!V?r[Y]:q,"is--hidden":!j}]},z),ne)])},renderDeepSelectionCellByProp(e){return ur.renderDeepNodeBtn(e,ur.renderCheckboxCellByProp(e))},renderExpandCell(e){const{$table:t,isHidden:r,row:n,column:l}=e,a=t.reactData,i=t.internalData,{isRowGroupStatus:d}=a,{rowExpandedMaps:s,rowExpandLazyLoadedMaps:h}=i,{computeExpandOpts:c}=t.getComputeMaps(),b=c.value,{lazy:E,labelField:y,iconLoaded:p,showIcon:g,iconOpen:O,iconClose:D,visibleMethod:I}=b,{slots:W}=l,N=W?W.default:null,Y=W?W.icon:null;let L=!1,F=!1;if(d&&n.isAggregate)return Sn(e,[]);if(Y)return Sn(e,t.callSlot(Y,e));if(!r){const M=It(t,n);L=!!s[M],E&&(F=!!h[M])}return Sn(e,[g&&(!I||I(e))?m("span",{class:["vxe-table--expanded",{"is--active":L}],onMousedown(M){M.stopPropagation()},onClick(M){t.triggerRowExpandEvent(M,e)}},[m("i",{class:["vxe-table--expand-btn",F?p||Wr().TABLE_EXPAND_LOADED:L?O||Wr().TABLE_EXPAND_OPEN:D||Wr().TABLE_EXPAND_CLOSE]})]):gl(t),N||y?m("span",{class:"vxe-table--expand-label"},N?t.callSlot(N,e):u.get(n,y)):gl(t)])},renderExpandData(e){const{$table:t,column:r}=e,{slots:n,contentRender:l}=r,a=n?n.content:null;if(a)return t.callSlot(a,e);if(l){const i=ds.get(l.name);if(i){const d=i.renderTableExpand||i.renderExpand;if(d)return _n(d(l,e))}}return[]},renderHTMLCell(e){const{$table:t,column:r}=e,{slots:n}=r,l=n?n.default:null;return l?Sn(e,t.callSlot(l,e)):Sn(e,[m("span",{class:"vxe-cell--html",innerHTML:CT(e)})])},renderDeepHTMLCell(e){return ur.renderDeepNodeBtn(e,ur.renderHTMLCell(e))},renderSortAndFilterHeader(e){return Ra(e,ur.renderHeaderTitle(e).concat(ur.renderSortIcon(e).concat(ur.renderFilterIcon(e))))},renderSortHeader(e){return Ra(e,ur.renderHeaderTitle(e).concat(ur.renderSortIcon(e)))},renderSortIcon(e){const{$table:t,column:r}=e,{computeSortOpts:n}=t.getComputeMaps(),l=n.value,{showIcon:a,allowBtn:i,ascTitle:d,descTitle:s,iconLayout:h,iconAsc:c,iconDesc:b,iconVisibleMethod:E}=l,{order:y}=r;return a&&(!E||E(e))?[m("span",{class:["vxe-cell--sort",`vxe-cell--sort-${h}-layout`]},[m("i",{class:["vxe-sort--asc-btn",c||Wr().TABLE_SORT_ASC,{"sort--active":y==="asc"}],title:u.eqNull(d)?as("vxe.table.sortAsc"):`${d||""}`,onClick:i?p=>{p.stopPropagation(),t.triggerSortEvent(p,r,"asc")}:void 0}),m("i",{class:["vxe-sort--desc-btn",b||Wr().TABLE_SORT_DESC,{"sort--active":y==="desc"}],title:u.eqNull(s)?as("vxe.table.sortDesc"):`${s||""}`,onClick:i?p=>{p.stopPropagation(),t.triggerSortEvent(p,r,"desc")}:void 0})])]:[]},renderFilterHeader(e){return Ra(e,ur.renderHeaderTitle(e).concat(ur.renderFilterIcon(e)))},renderFilterIcon(e){const{$table:t,column:r,hasFilter:n}=e,l=t.reactData,{filterStore:a}=l,{computeFilterOpts:i}=t.getComputeMaps(),d=i.value,{showIcon:s,iconNone:h,iconMatch:c,iconVisibleMethod:b}=d;return s&&(!b||b(e))?[m("span",{class:["vxe-cell--filter",{"is--active":a.visible&&a.column===r}],onClick(E){t.triggerFilterEvent&&t.triggerFilterEvent(E,e.column,e)}},[m("i",{class:["vxe-filter--btn",n?c||Wr().TABLE_FILTER_MATCH:h||Wr().TABLE_FILTER_NONE],title:as("vxe.table.filter")})])]:[]},renderEditHeader(e){const{$table:t,column:r}=e,n=t.props,{computeEditOpts:l}=t.getComputeMaps(),{editConfig:a,editRules:i}=n,d=l.value,{sortable:s,filters:h,editRender:c}=r;let b=!1;if(i){const y=u.get(i,r.field);y&&(b=y.some(p=>p.required))}let E=[];return pr(a)&&(E=[b&&d.showAsterisk?m("span",{class:"vxe-cell--required-icon"},[m("i")]):gl(t),pr(c)&&d.showIcon?m("span",{class:"vxe-cell--edit-icon"},[m("i",{class:d.icon||Wr().TABLE_EDIT})]):gl(t)]),Ra(e,E.concat(ur.renderHeaderTitle(e)).concat(s?ur.renderSortIcon(e):[]).concat(h?ur.renderFilterIcon(e):[]))},renderRowEdit(e){const{$table:t,column:r}=e,n=t.reactData,{editStore:l}=n,{actived:a}=l,{editRender:i}=r;return ur.runRenderer(e,pr(i)&&a&&a.row===e.row)},renderDeepRowEdit(e){return ur.renderDeepNodeBtn(e,ur.renderRowEdit(e))},renderCellEdit(e){const{$table:t,column:r}=e,n=t.reactData,{editStore:l}=n,{actived:a}=l,{editRender:i}=r;return ur.runRenderer(e,pr(i)&&a&&a.row===e.row&&a.column===e.column)},renderDeepCellEdit(e){return ur.renderDeepNodeBtn(e,ur.renderCellEdit(e))},runRenderer(e,t){const{$table:r,row:n,column:l}=e,a=r.reactData,{isRowGroupStatus:i}=a,{slots:d,field:s,editRender:h,formatter:c}=l,b=d?d.default:null,E=d?d.groupContent||d["group-content"]:null,y=d?d.edit:null,p=ds.get(h.name),g=p?p.renderTableEdit||p.renderEdit:null,O=Object.assign({$type:"",isEdit:t},e);if(t)return O.$type="edit",y?r.callSlot(y,O):g?_n(g(h,O)):[];if(i&&s&&n.isAggregate){const D=n,{computeAggregateOpts:I}=r.getComputeMaps(),W=I.value,{mapChildrenField:N}=W,Y=D.groupField,L=D.groupContent,F=N?D[N]||[]:[],M=D.childCount;if(E)return Sn(e,r.callSlot(E,Object.assign({groupField:Y,groupContent:L,childList:F,childCount:M},e)))}else if(b)return Sn(e,r.callSlot(b,O));return c?Sn(e,[m("span",{class:"vxe-cell--label"},CT(O))]):ur.renderDefaultCell(O)}},B$={colId:[String,Number],type:String,field:String,title:String,width:[Number,String],minWidth:[Number,String],maxWidth:[Number,String],resizable:{type:Boolean,default:null},fixed:String,align:String,headerAlign:String,footerAlign:String,showOverflow:{type:[Boolean,String],default:null},showHeaderOverflow:{type:[Boolean,String],default:null},showFooterOverflow:{type:[Boolean,String],default:null},className:[String,Function],headerClassName:[String,Function],footerClassName:[String,Function],formatter:[Function,Array,String],headerFormatter:[Function,Array,String],footerFormatter:[Function,Array,String],padding:{type:Boolean,default:null},verticalAlign:{type:String,default:null},sortable:Boolean,sortBy:[String,Function],sortType:String,filters:{type:Array,default:null},filterMultiple:{type:Boolean,default:!0},filterMethod:Function,filterResetMethod:Function,filterRecoverMethod:Function,filterRender:Object,rowGroupNode:Boolean,treeNode:Boolean,dragSort:Boolean,rowResize:Boolean,visible:{type:Boolean,default:null},headerExportMethod:Function,exportMethod:Function,footerExportMethod:Function,titleHelp:Object,titlePrefix:Object,titleSuffix:Object,cellType:String,cellRender:Object,editRender:Object,contentRender:Object,aggFunc:[String,Boolean],params:Object},vl=Bo({name:"VxeColumn",props:B$,setup(e,{slots:t}){const r=mt(),n=mr("$xeTable",null),l=mr("$xeColgroup",null);if(!n)return()=>Ht();const a=ur.createColumn(n,e);a.slots=t;const i=()=>m("div",{ref:r}),d={columnConfig:a,renderVN:i};return P$(n,e,a),jn(()=>{const s=r.value;s&&k$(n,s,a,l)}),xo(()=>{L$(n,a)}),ao("$xeColumn",d),ao("$xeGrid",null),ao("$xeGantt",null),i}}),ml=Bo({name:"VxeColgroup",props:B$,setup(e,{slots:t}){const r=mt(),n=mr("$xeTable",null),l=mr("$xeColgroup",null);if(!n)return()=>Ht();const a=ur.createColumn(n,e),i={};t.header&&(i.header=t.header),a.slots=i,a.children=[],P$(n,e,a),jn(()=>{const h=r.value;h&&k$(n,h,a,l)}),xo(()=>{L$(n,a)});const d=()=>m("div",{ref:r},t.default?t.default():[]);return ao("$xeColgroup",{columnConfig:a}),ao("$xeGrid",null),ao("$xeGantt",null),d}}),y_=Object.assign({},ml,{install(e){e.component(ml.name,ml),e.component("VxeTableColgroup",ml)}});Se.dynamicApp&&(Se.dynamicApp.component(ml.name,ml),Se.dynamicApp.component("VxeTableColgroup",ml));Se.component(ml);const w_=Object.assign({},vl,{install(e){e.component(vl.name,vl),e.component("VxeTableColumn",vl)}});Se.dynamicApp&&(Se.dynamicApp.component(vl.name,vl),Se.dynamicApp.component("VxeTableColumn",vl));Se.component(vl);const{getConfig:gn}=Se,$c={id:[String,Function],data:Array,height:[Number,String],minHeight:{type:[Number,String],default:()=>null},maxHeight:[Number,String],resizable:{type:Boolean,default:()=>gn().table.resizable},stripe:{type:Boolean,default:()=>gn().table.stripe},border:{type:[Boolean,String],default:()=>gn().table.border},padding:{type:Boolean,default:null},round:{type:Boolean,default:()=>gn().table.round},size:{type:String,default:()=>gn().table.size||gn().size},fit:{type:Boolean,default:()=>gn().table.fit},loading:Boolean,align:{type:String,default:()=>gn().table.align},headerAlign:{type:String,default:()=>gn().table.headerAlign},footerAlign:{type:String,default:()=>gn().table.footerAlign},showHeader:{type:Boolean,default:()=>gn().table.showHeader},highlightCurrentRow:{type:Boolean,default:()=>gn().table.highlightCurrentRow},highlightHoverRow:{type:Boolean,default:()=>gn().table.highlightHoverRow},highlightCurrentColumn:{type:Boolean,default:()=>gn().table.highlightCurrentColumn},highlightHoverColumn:{type:Boolean,default:()=>gn().table.highlightHoverColumn},highlightCell:Boolean,showFooter:Boolean,footerData:Array,footerMethod:Function,rowClassName:[String,Function],cellClassName:[String,Function],headerRowClassName:[String,Function],headerCellClassName:[String,Function],footerRowClassName:[String,Function],footerCellClassName:[String,Function],cellStyle:[Object,Function],headerCellStyle:[Object,Function],footerCellStyle:[Object,Function],rowStyle:[Object,Function],headerRowStyle:[Object,Function],footerRowStyle:[Object,Function],showCustomHeader:{type:Boolean,default:()=>gn().table.showCustomHeader},mergeHeaderCells:Array,mergeCells:Array,mergeFooterCells:Array,mergeFooterItems:Array,spanMethod:Function,footerSpanMethod:Function,showOverflow:{type:[Boolean,String],default:()=>gn().table.showOverflow},showHeaderOverflow:{type:[Boolean,String],default:()=>gn().table.showHeaderOverflow},showFooterOverflow:{type:[Boolean,String],default:()=>gn().table.showFooterOverflow},columnKey:Boolean,rowKey:Boolean,rowId:{type:String,default:()=>gn().table.rowId},zIndex:Number,emptyText:{type:String,default:()=>gn().table.emptyText},keepSource:{type:Boolean,default:()=>gn().table.keepSource},autoResize:{type:Boolean,default:()=>gn().table.autoResize},syncResize:[Boolean,String,Number],resizeConfig:Object,columnConfig:Object,currentColumnConfig:Object,cellConfig:Object,headerCellConfig:Object,footerCellConfig:Object,rowConfig:Object,aggregateConfig:Object,rowGroupConfig:Object,currentRowConfig:Object,dragConfig:Object,rowDragConfig:Object,columnDragConfig:Object,resizableConfig:Object,seqConfig:Object,sortConfig:Object,filterConfig:Object,radioConfig:Object,checkboxConfig:Object,tooltipConfig:Object,headerTooltipConfig:Object,footerTooltipConfig:Object,exportConfig:Object,importConfig:Object,printConfig:Object,expandConfig:Object,treeConfig:Object,menuConfig:Object,mouseConfig:Object,areaConfig:Object,keyboardConfig:Object,clipConfig:Object,fnrConfig:Object,editConfig:Object,validConfig:Object,editRules:Object,loadingConfig:Object,emptyRender:Object,customConfig:Object,scrollX:Object,scrollY:Object,virtualXConfig:Object,virtualYConfig:Object,scrollbarConfig:Object,animat:{type:Boolean,default:()=>gn().table.animat},delayHover:{type:Number,default:()=>gn().table.delayHover},params:Object},{getConfig:yT}=Se,E_=Object.assign(Object.assign({},$c),{layouts:Array,columns:Array,pagerConfig:Object,proxyConfig:Object,toolbarConfig:Object,formConfig:Object,zoomConfig:Object,size:{type:String,default:()=>yT().grid.size||yT().size}}),nC=["update:data","keydown-start","keydown","keydown-end","paste","copy","cut","columns-change","data-change","footer-data-change","current-change","current-row-change","current-row-disabled","current-column-change","current-column-disabled","radio-change","checkbox-change","checkbox-all","checkbox-range-start","checkbox-range-change","checkbox-range-end","checkbox-range-select","cell-click","cell-dblclick","cell-menu","cell-mouseenter","cell-mouseleave","cell-selected","cell-delete-value","cell-backspace-value","header-cell-click","header-cell-dblclick","header-cell-menu","footer-cell-click","footer-cell-dblclick","footer-cell-menu","clear-merge","sort-change","clear-sort","clear-all-sort","filter-change","filter-visible","clear-filter","clear-all-filter","resizable-change","column-resizable-change","row-resizable-change","toggle-row-group-expand","toggle-row-expand","toggle-tree-expand","menu-click","edit-closed","row-dragstart","row-dragover","row-dragend","row-remove-dragend","row-insert-dragend","column-dragstart","column-dragover","column-dragend","enter-append-row","edit-actived","edit-activated","edit-disabled","valid-error","scroll","scroll-boundary","custom","custom-visible-change","custom-visible-all","custom-fixed-change","change-fnr","open-fnr","show-fnr","hide-fnr","fnr-change","fnr-find","fnr-find-all","fnr-replace","fnr-replace-all","cell-area-copy","cell-area-cut","cell-area-paste","cell-area-merge","clear-cell-area-selection","clear-cell-area-merge","header-cell-area-selection","cell-area-selection-invalid","cell-area-selection-start","cell-area-selection-drag","cell-area-selection-end","cell-area-extension-start","cell-area-extension-drag","cell-area-extension-end","cell-area-selection-all-start","cell-area-selection-all-end","cell-area-arrows-start","cell-area-arrows-end","active-cell-change-start","active-cell-change-end"],S_=[...nC,"page-change","form-submit","form-submit-invalid","form-reset","form-collapse","form-toggle-collapse","proxy-query","proxy-delete","proxy-save","toolbar-button-click","toolbar-tool-click","zoom"],Ac="row--drag-move",V$="col--drag-move";function nc(e,t){u.arrayEach(e,r=>{r.style.transform=`translateY(${t}px)`}),requestAnimationFrame(()=>{u.arrayEach(e,r=>{Lo(r,Ac),r.style.transform=""})})}function R_(e,t){setTimeout(()=>{e&&u.arrayEach(e.querySelectorAll(t.map(r=>`${r}.${Ac}`).join(",")),r=>Wn(r,Ac))},500)}function wT(e,t){u.arrayEach(e,r=>{r.style.transform=`translateX(${t}px)`}),requestAnimationFrame(()=>{u.arrayEach(e,r=>{Lo(r,V$),r.style.transform=""})})}function D_(e,t){setTimeout(()=>{e&&u.arrayEach(e.querySelectorAll(t.map(r=>`${r}.${Ac}`).join(",")),r=>Wn(r,V$))},500)}const O_=rn({row:null});function T_(){return O_}const{getI18n:M_,renderer:ET,renderEmptyElement:ls}=Se,oc="body",ST=Bo({name:"VxeTableBody",props:{tableData:Array,tableColumn:Array,fixedColumn:Array,fixedType:{type:String,default:""}},setup(e){const t=mr("$xeTable",{}),{xID:r,props:n,context:l,reactData:a,internalData:i}=t,{computeEditOpts:d,computeMouseOpts:s,computeCellOffsetWidth:h,computeAreaOpts:c,computeDefaultRowHeight:b,computeEmptyOpts:E,computeTooltipOpts:y,computeRadioOpts:p,computeExpandOpts:g,computeTreeOpts:O,computeCheckboxOpts:D,computeCellOpts:I,computeValidOpts:W,computeRowOpts:N,computeColumnOpts:Y,computeRowDragOpts:L,computeResizableOpts:F,computeVirtualXOpts:M,computeVirtualYOpts:q}=t.getComputeMaps(),V=mt(),j=mt(),U=mt(),z=mt(),k=mt(),ne=mt(),fe=mt(),G=mt(),J=()=>{const{delayHover:Ee}=n,{lastScrollTime:Re,isDragResize:Pe}=a;return!!(Pe||Re&&Date.now()<Re+Ee)},we=(Ee,Re,Pe)=>{const{column:le}=Re,{afterFullData:Xe}=i,{treeConfig:me}=n,Te=O.value,{slots:Ae,treeNode:tt}=le,{fullAllDataRowIdData:Ue}=i;if(Ae&&Ae.line)return t.callSlot(Ae.line,Re);const ut=Ue[Ee];let _e=0,te=null;return ut&&(_e=ut.level,te=ut.items[ut.treeIndex-1]),me&&tt&&(Te.showLine||Te.line)?[m("div",{key:"tl",class:"vxe-tree--line-wrapper"},[m("div",{class:"vxe-tree--line",style:{height:`${It(t,Xe[0])===Ee?1:u_(Re,te)}px`,bottom:`-${Math.floor(Pe/2)}px`,left:`${_e*Te.indent+(_e?2-_$(t):0)+16}px`}})])]:[]},se=(Ee,Re,Pe,le,Xe,me,Te,Ae,tt,Ue,ut,_e,te)=>{const $e=t.xeGrid,ce=t.xeGantt,{columnKey:Le,resizable:nt,showOverflow:et,border:vt,height:xt,treeConfig:Dt,cellClassName:gt,cellStyle:Tt,align:ht,spanMethod:yt,mouseConfig:Lt,editConfig:Vt,editRules:Bt,tooltipConfig:Nt,padding:Kt}=n,{tableData:Wt,tableColumn:Fe,dragRow:Oe,overflowX:Ye,overflowY:rt,currentColumn:at,scrollXLoad:ee,scrollYLoad:Ie,mergeBodyFlag:Ne,calcCellHeightFlag:pt,resizeHeightFlag:He,resizeWidthFlag:dt,editStore:Ze,isAllOverflow:$,validErrorMaps:H}=a,{fullAllDataRowIdData:Z,fullColumnIdData:xe,mergeBodyCellMaps:De,visibleColumn:ke,afterFullData:Be,mergeBodyList:qe,scrollXStore:it,scrollYStore:ft}=i,Ve=I.value,wt=W.value,ir=D.value,be=d.value,Ke=y.value,Ft=F.value,Ct=M.value,Pt=q.value,{isAllColumnDrag:zt,isAllRowDrag:Xt}=Ft,_t=N.value,st=L.value,Et=b.value,Ut=pt?Ve.height||_t.height:0,{disabledMethod:qt,isCrossDrag:cr,isPeerDrag:or}=st,Tr=Y.value,nn=s.value,Fr=c.value,Xr=h.value,{selectCellToRow:zr}=Fr,{type:Hr,cellRender:Zr,editRender:Or,align:er,showOverflow:Ur,className:Nr,treeNode:jr,rowResize:Jr,padding:on,verticalAlign:qn,slots:Hn}=Ue,{verticalAlign:uo}=Ve,{actived:fo}=Ze,Dn=Z[Re]||{},Yn=Ue.id,Oo=xe[Yn]||{},ha=Or||Zr,An=ha?ET.get(ha.name):null,qa=An?An.tableCellClassName||An.cellClassName:null,C=An?An.tableCellStyle||An.cellStyle:"",To=Ke.showAll,ta=Oo.index,Ar=Oo._index,Vo=pr(Or),zo=He?Dn.resizeHeight:0;let Tn=Ye&&(Pe?Ue.fixed!==Pe:!!Ue.fixed);const po=u.eqNull(on)?Kt===null?Ve.padding:Kt:on,go=u.eqNull(Ur)?et:Ur,Mo=go==="ellipsis",Pn=go==="title",Kn=go===!0||go==="tooltip",Io=$||Pn||Kn||Mo,ho=u.isBoolean(Ue.resizable)?Ue.resizable:Tr.resizable||nt,Go=!!Ut,va=zo>0;let ma;const Xn={},ba=er||(An?An.tableCellAlign:"")||ht,xa=u.eqNull(qn)?uo:qn,Zn=H[`${Re}:${Yn}`],Ca=Bt&&wt.showMessage&&(wt.message==="default"?xt||Wt.length>1:wt.message==="inline"),kn={colid:Yn},an={$table:t,$grid:$e,$gantt:ce,isEdit:!1,seq:Ee,rowid:Re,row:me,rowIndex:Te,$rowIndex:Ae,_rowIndex:tt,column:Ue,columnIndex:ta,$columnIndex:ut,_columnIndex:Ar,fixed:Pe,type:oc,isHidden:!!Tn,level:Xe,visibleData:Be,data:Wt,items:te};let vo=!1,ra=!1;_t.drag&&(vo=st.trigger==="row"||Ue.dragSort&&st.trigger==="cell"),vo&&(ra=!!(qt&&qt(an))),(Pn||Kn||To||Nt)&&(Xn.onMouseenter=ot=>{J()||(Pn?Qx(ot.currentTarget,Ue):(Kn||To)&&t.triggerBodyTooltipEvent(ot,an)),t.dispatchEvent("cell-mouseenter",Object.assign({cell:ot.currentTarget},an),ot)}),(Kn||To||Nt)&&(Xn.onMouseleave=ot=>{J()||(Kn||To)&&t.handleTargetLeaveEvent(ot),t.dispatchEvent("cell-mouseleave",Object.assign({cell:ot.currentTarget},an),ot)}),(vo||ir.range||Lt)&&(Xn.onMousedown=ot=>{t.triggerCellMousedownEvent(ot,an)}),vo&&(Xn.onMouseup=t.triggerCellMouseupEvent),Xn.onClick=ot=>{t.triggerCellClickEvent(ot,an)},Xn.onDblclick=ot=>{t.triggerCellDblclickEvent(ot,an)};let Bn=!1,Fo=1,Wo=1;if(Ne&&qe.length){const ot=De[`${tt}:${Ar}`];if(ot){const{rowspan:Mt,colspan:kt}=ot;if(!Mt||!kt)return ls(t);Mt>1&&(Bn=!0,Wo=Mt,kn.rowspan=Mt),kt>1&&(Bn=!0,Fo=kt,kn.colspan=kt)}}else if(yt){const{rowspan:ot=1,colspan:Mt=1}=yt(an)||{};if(!ot||!Mt)return ls(t);ot>1&&(Bn=!0,Wo=ot,kn.rowspan=ot),Mt>1&&(Bn=!0,Fo=Mt,kn.colspan=Mt)}Tn&&Bn&&(kn.colspan>1||kn.rowspan>1)&&(Tn=!1),!Tn&&Vt&&(Or||Zr)&&(be.showStatus||be.showUpdateStatus)&&(ma=t.isUpdateByRow(me,Ue.field));const ya=!Io&&(Ie||ee);let Uo=bi(Dn,Ve,_t,Et);const wa=ut===_e.length-1,A=!Ue.resizeWidth&&(Ue.minWidth==="auto"||Ue.width==="auto");let pe=!1;if(Bn||(!Oe||It(t,Oe)!==Re)&&(rt&&Ie&&Wt.length>16&&!Dt&&!Pt.immediate&&(tt<ft.visibleStartIndex-ft.preloadSize||tt>ft.visibleEndIndex+ft.preloadSize)||Ye&&ee&&Fe.length>10&&!Ct.immediate&&!Ue.fixed&&(Ar<it.visibleStartIndex-it.preloadSize||Ar>it.visibleEndIndex+it.preloadSize))&&(pe=!0),Wo>1){const ot=Be[tt+Wo-1];if(ot){const Mt=Z[It(t,ot)];Mt&&(Uo+=Mt.oTop+bi(Mt,Ve,_t,Et)-Dn.oTop-bi(Dn,Ve,_t,Et))}}const Me={};if(Io&&dt){let ot=0;if(Fo>1)for(let Mt=1;Mt<Fo;Mt++){const kt=ke[ta+Mt];kt&&(ot+=kt.renderWidth)}Me.width=`${Ue.renderWidth+ot-Xr}px`}Ie||ee||Io||Go||va?Me.height=`${Uo}px`:Me.minHeight=`${Uo}px`;const Je=[];if(Tn&&$)Je.push(m("div",{key:"tc",class:["vxe-cell",{"c--title":Pn,"c--tooltip":Kn,"c--ellipsis":Mo}],style:Me}));else if(Dt&&Je.push(...we(Re,an,Uo)),Je.push(m("div",{key:"tc",class:["vxe-cell",{"c--title":Pn,"c--tooltip":Kn,"c--ellipsis":Mo}],style:Me,title:Pn?t.getCellLabel(me,Ue):null},pe?[]:[m("div",{colid:Yn,rowid:Re,class:"vxe-cell--wrapper vxe-body-cell--wrapper"},Ue.renderCell(an))])),Ca&&Zn){const ot=Zn.rule,Mt=Hn?Hn.valid:null,kt=Object.assign(Object.assign(Object.assign({},an),Zn),{rule:Zn});Je.push(m("div",{key:"tcv",class:["vxe-cell--valid-error-tip",pl(wt.className,kt)],style:ot&&ot.maxWidth?{width:`${ot.maxWidth}px`}:null},[m("div",{class:`vxe-cell--valid-error-wrapper vxe-cell--valid-error-theme-${wt.theme||"normal"}`},[Mt?t.callSlot(Mt,kt):[m("span",{class:"vxe-cell--valid-error-msg"},Zn.content)]])]))}let Rt=!1;return Lt&&nn.area&&!Ar&&zr&&(Rt=!0),!Tn&&ho&&zt&&Je.push(m("div",{key:"tcc",class:["vxe-cell--col-resizable",{"is--line":!vt||vt==="none"}],onMousedown:ot=>t.handleColResizeMousedownEvent(ot,Pe,an),onDblclick:ot=>t.handleColResizeDblclickEvent(ot,an)})),(Jr||Xt)&&_t.resizable&&Je.push(m("div",{key:"tcr",class:"vxe-cell--row-resizable",onMousedown:ot=>t.handleRowResizeMousedownEvent(ot,an),onDblclick:ot=>t.handleRowResizeDblclickEvent(ot,an)})),m("td",Object.assign(Object.assign(Object.assign({class:["vxe-table--column vxe-body--column",Yn,xa?`col--vertical-${xa}`:"",ba?`col--${ba}`:"",Hr?`col--${Hr}`:"",{"col--last":wa,"col--tree-node":jr,"col--edit":Vo,"col--ellipsis":Io,"col--cs-height":Go,"col--rs-height":va,"col--to-row":Rt,"col--auto-height":ya,"fixed--width":!A,"fixed--hidden":Tn,"is--padding":po,"is--progress":Tn&&$||pe,"is--drag-cell":vo&&(cr||or||!Xe),"is--drag-disabled":ra,"col--dirty":ma,"col--active":Vt&&Vo&&fo.row===me&&(fo.column===Ue||be.mode==="row"),"col--valid-error":!!Zn,"col--current":at===Ue},pl(qa,an),pl(Nr,an),pl(gt,an)],key:Le||ee||Ie||Tr.useKey||_t.useKey||Tr.drag?Yn:ut},kn),{style:Object.assign({},u.isFunction(C)?C(an):C,u.isFunction(Tt)?Tt(an):Tt)}),Xn),le&&Tn?[]:Je)},re=(Ee,Re,Pe,le)=>{const Xe=t.xeGrid,me=t.xeGantt,{stripe:Te,rowKey:Ae,highlightHoverRow:tt,rowClassName:Ue,rowStyle:ut,editConfig:_e,treeConfig:te}=n,{hasFixedColumn:$e,treeExpandedFlag:ce,scrollXLoad:Le,scrollYLoad:nt,isAllOverflow:et,rowExpandedFlag:vt,expandColumn:xt,selectRadioRow:Dt,pendingRowFlag:gt,rowExpandHeightFlag:Tt,isRowGroupStatus:ht}=a,{fullAllDataRowIdData:yt,fullColumnIdData:Lt,treeExpandedMaps:Vt,pendingRowMaps:Bt,rowExpandedMaps:Nt}=i,Kt=D.value,Wt=p.value,Fe=O.value,Oe=d.value,Ye=N.value,rt=Y.value,{transform:at,seqMode:ee}=Fe,Ie=Fe.children||Fe.childrenField,Ne=[],{handleGetRowId:pt}=hn(t),He=te||ht;return Pe.forEach((dt,Ze)=>{const $=pt(dt),H=yt[$]||{};let Z=Ze,xe=0,De=-1,ke=-1;const Be=ht&&dt.isAggregate,qe={};(Ye.isHover||tt)&&(qe.onMouseenter=Ft=>{J()||t.triggerHoverEvent(Ft,{row:dt,rowIndex:Z})},qe.onMouseleave=()=>{J()||t.clearHoverRow()}),H&&(Z=H.index,ke=H._index,xe=H.level,De=H.seq,Be||te&&at&&ee==="increasing"?De=H._index+1:te&&ee==="fixed"&&(De=H._tIndex+1));const it={$table:t,seq:De,rowid:$,fixed:Ee,type:oc,level:xe,row:dt,rowIndex:Z,$rowIndex:Ze,_rowIndex:ke},ft=xt&&!!vt&&!!Nt[$];let Ve=!1,wt=[],ir=!1;_e&&(ir=t.isInsertByRow(dt)),te&&!nt&&!at&&(wt=dt[Ie],Ve=!!ce&&wt&&wt.length>0&&!!Vt[$]),Ye.drag&&!ht&&(!te||at)&&(qe.onDragstart=t.handleRowDragDragstartEvent,qe.onDragend=t.handleRowDragDragendEvent,qe.onDragover=t.handleRowDragDragoverEvent);const be=["vxe-body--row",He?`row--level-${xe}`:"",{"row--stripe":Te&&(ke+1)%2===0,"is--new":ir,"is--expand-row":ft,"is--expand-tree":Ve,"row--new":ir&&(Oe.showStatus||Oe.showInsertStatus),"row--radio":Wt.highlight&&t.eqRow(Dt,dt),"row--checked":Kt.highlight&&t.isCheckedByCheckboxRow(dt),"row--pending":!!gt&&!!Bt[$],"row--group":Be},pl(Ue,it)],Ke=le.map((Ft,Ct)=>se(De,$,Ee,Re,xe,dt,Z,Ze,ke,Ft,Ct,le,Pe));if(Ne.push(m("tr",Object.assign({class:be,rowid:$,style:ut?u.isFunction(ut)?ut(it):ut:null,key:Ae||Le||nt||Ye.useKey||Ye.drag||rt.drag||ht||te?$:Ze},qe),Ke)),ft){const Ft=g.value,{height:Ct,padding:Pt,mode:zt}=Ft;if(zt==="fixed")Ne.push(m("tr",{class:"vxe-body--row-expanded-place",key:`expand_${$}`,rowid:$},[m("td",{class:"vxe-body--row-expanded-place-column",colspan:le.length,style:{height:`${Tt?H.expandHeight||Ct:0}px`}})]));else{const Xt={};Ct&&(Xt.height=`${Ct}px`),te&&(Xt.paddingLeft=`${xe*Fe.indent+30}px`);const{showOverflow:_t}=xt||{},st=xt.id,Et=Lt[st]||{},Ut=u.eqNull(_t)?et:_t;let qt=-1,cr=-1,or=-1;Et&&(qt=Et.index,cr=Et.$index,or=Et._index);const Tr={$table:t,$grid:Xe,$gantt:me,seq:De,column:xt,columnIndex:qt,$columnIndex:cr,_columnIndex:or,fixed:Ee,type:oc,level:xe,row:dt,rowid:$,rowIndex:Z,$rowIndex:Ze,_rowIndex:ke,isHidden:!1,isEdit:!1,visibleData:[],data:[],items:[]};Ne.push(m("tr",{class:["vxe-body--expanded-row",{"is--padding":Pt}],key:`expand_${$}`},[m("td",{class:["vxe-body--expanded-column",{"fixed--hidden":Ee&&!$e,"col--ellipsis":Ut}],colspan:le.length},[m("div",{class:["vxe-body--expanded-cell",{"is--ellipsis":Ct}],style:Xt},[xt.renderData(Tr)])])]))}}Ve&&Ne.push(...re(Ee,Re,wt,le))}),Ne};return jn(()=>{ge(()=>{const{fixedType:Ee}=e,{elemStore:Re}=i,Pe=`${Ee||"main"}-body-`;Re[`${Pe}wrapper`]=V,Re[`${Pe}scroll`]=j,Re[`${Pe}table`]=U,Re[`${Pe}colgroup`]=z,Re[`${Pe}list`]=k,Re[`${Pe}xSpace`]=ne,Re[`${Pe}ySpace`]=fe,Re[`${Pe}emptyBlock`]=G})}),xo(()=>{const{fixedType:Ee}=e,{elemStore:Re}=i,Pe=`${Ee||"main"}-body-`;Re[`${Pe}wrapper`]=null,Re[`${Pe}scroll`]=null,Re[`${Pe}table`]=null,Re[`${Pe}colgroup`]=null,Re[`${Pe}list`]=null,Re[`${Pe}xSpace`]=null,Re[`${Pe}ySpace`]=null,Re[`${Pe}emptyBlock`]=null}),()=>{const{slots:Ee}=l,Re=t.xeGrid,Pe=t.xeGantt,{fixedColumn:le,fixedType:Xe,tableColumn:me}=e,{spanMethod:Te,footerSpanMethod:Ae,mouseConfig:tt}=n,{isGroup:Ue,tableData:ut,isColLoading:_e,overflowX:te,scrollXLoad:$e,scrollYLoad:ce,isAllOverflow:Le,expandColumn:nt,dragRow:et,dragCol:vt}=a,{visibleColumn:xt,fullAllDataRowIdData:Dt,fullColumnIdData:gt}=i,Tt=E.value,ht=s.value,yt=g.value;let Lt=ut,Vt=me,Bt=!1;if(($e||ce||Le)&&(nt&&yt.mode!=="fixed"||Te||Ae||(Bt=!0)),!_e&&(Xe||!te)&&(Vt=xt),Xe&&Bt&&(Vt=le||[]),ce&&et&&Lt.length>2){const Oe=Dt[It(t,et)];if(Oe){const Ye=Oe._index,rt=Lt[0],at=Lt[Lt.length-1],ee=Dt[It(t,rt)],Ie=Dt[It(t,at)];if(ee&&Ie){const Ne=ee._index,pt=Ie._index;Ye<Ne?Lt=[et].concat(Lt):Ye>pt&&(Lt=Lt.concat([et]))}}}if(!Xe&&!Ue&&$e&&vt&&Vt.length>2){const Oe=gt[vt.id];if(Oe){const Ye=Oe._index,rt=Vt[0],at=Vt[Vt.length-1],ee=gt[rt.id],Ie=gt[at.id];if(ee&&Ie){const Ne=ee._index,pt=Ie._index;Ye<Ne?Vt=[vt].concat(Vt):Ye>pt&&(Vt=Vt.concat([vt]))}}}let Nt;const Kt=Ee?Ee.empty:null,Wt={$table:t,$grid:Re,$gantt:Pe};if(Kt)Nt=t.callSlot(Kt,Wt);else{const Oe=Tt.name?ET.get(Tt.name):null,Ye=Oe?Oe.renderTableEmpty||Oe.renderTableEmptyView||Oe.renderEmpty:null;Ye?Nt=_n(Ye(Tt,Wt)):Nt=n.emptyText||M_("vxe.table.emptyText")}const Fe={onScroll(Oe){t.triggerBodyScrollEvent(Oe,Xe)}};return m("div",{ref:V,class:["vxe-table--body-wrapper",Xe?`fixed-${Xe}--wrapper`:"body--wrapper"],xid:r},[m("div",Object.assign({ref:j,class:"vxe-table--body-inner-wrapper"},Fe),[Xe?ls(t):m("div",{ref:ne,class:"vxe-body--x-space"}),m("div",{ref:fe,class:"vxe-body--y-space"}),m("table",{ref:U,class:"vxe-table--body",xid:r,cellspacing:0,cellpadding:0,border:0,xvm:Bt?"1":null},[m("colgroup",{ref:z},Vt.map((Oe,Ye)=>m("col",{name:Oe.id,key:Ye,style:{width:`${Oe.renderWidth}px`}}))),m("tbody",{ref:k},re(Xe,Bt,Lt,Vt))]),m("div",{class:"vxe-table--checkbox-range"}),tt&&ht.area?m("div",{class:"vxe-table--cell-area",xid:r},[m("span",{class:"vxe-table--cell-main-area"},ht.extension?[m("span",{class:"vxe-table--cell-main-area-btn",onMousedown(Oe){t.triggerCellAreaExtendMousedownEvent&&t.triggerCellAreaExtendMousedownEvent(Oe,{$table:t,fixed:Xe,type:oc})}})]:[]),m("span",{class:"vxe-table--cell-clip-area"}),m("span",{class:"vxe-table--cell-extend-area"}),m("span",{class:"vxe-table--cell-multi-area"}),m("span",{class:"vxe-table--cell-active-area"}),m("span",{class:"vxe-table--cell-row-status-area"})]):ls(t),Xe?ls(t):m("div",{class:"vxe-table--empty-block",ref:G},[m("div",{class:"vxe-table--empty-content"},Nt)])])])}}}),{renderer:I_,renderEmptyElement:Jb}=Se,RT="header";function z$(e){const{children:t}=e;return t&&t.length?z$(t[0]):e}function G$(e){const{children:t}=e;return t&&t.length?G$(t[t.length-1]):e}const DT=Bo({name:"VxeTableHeader",props:{tableData:Array,tableColumn:Array,tableGroupColumn:Array,fixedColumn:Array,fixedType:{type:String,default:null}},setup(e){const t=mr("$xeTable",{}),{xID:r,props:n,reactData:l,internalData:a}=t,{computeColumnOpts:i,computeColumnDragOpts:d,computeCellOpts:s,computeMouseOpts:h,computeHeaderCellOpts:c,computeDefaultRowHeight:b,computeVirtualXOpts:E}=t.getComputeMaps(),y=mt([]),p=mt(),g=mt(),O=mt(),D=mt(),I=mt(),W=mt(),N=mt(),Y=()=>{const{showCustomHeader:q}=n,{collectColumn:V,visibleColumn:j}=a,{tableGroupColumn:U}=e,{isGroup:z}=l;let k=z?n_(U):[],ne=[];q&&k.length>1&&(ne=o_(k),k=ne),y.value=k,t.dispatchEvent("columns-change",{visibleColgroups:ne,collectColumn:V,visibleColumn:j},null)},L=(q,V,j,U,z)=>{const k=t.xeGrid,ne=t.xeGantt,{fixedType:fe}=e,{resizable:G,columnKey:J,showCustomHeader:we,headerCellClassName:se,headerCellStyle:re,showHeaderOverflow:ve,headerAlign:Ee,align:Re,mouseConfig:Pe}=n,{currentColumn:le,dragCol:Xe,scrollXLoad:me,scrollYLoad:Te,overflowX:Ae,mergeHeadFlag:tt,tableColumn:Ue}=l,{fullColumnIdData:ut,scrollXStore:_e,mergeHeaderList:te,mergeHeaderCellMaps:$e}=a,ce=E.value,Le=i.value,nt=d.value,et=s.value,vt=b.value,xt=c.value,Dt=Fc(xt.height)||vt,{disabledMethod:gt,isCrossDrag:Tt,isPeerDrag:ht}=nt,yt=U===j.length-1;return z.map((Lt,Vt)=>{const{type:Bt,showHeaderOverflow:Nt,headerAlign:Kt,align:Wt,filters:Fe,headerClassName:Oe,editRender:Ye,cellRender:rt}=Lt,at=Lt.id,ee=ut[at]||{},Ie=Ye||rt,Ne=Ie?I_.get(Ie.name):null,pt=Lt.children&&Lt.children.length,He=Ae&&!pt&&(fe?Lt.fixed!==fe:!!Lt.fixed),dt=u.isBoolean(xt.padding)?xt.padding:et.padding,Ze=u.eqNull(Nt)?ve:Nt,$=Kt||(Ne?Ne.tableHeaderCellAlign:"")||Ee||Wt||(Ne?Ne.tableCellAlign:"")||Re,H=Ze==="ellipsis",Z=Ze==="title",xe=Ze===!0||Ze==="tooltip",De=Z||xe||H;let ke=!1,Be=null;Fe&&(Be=Fe[0],ke=Fe.some(_t=>_t.checked));const qe=ee.index,it=ee._index,ft={$table:t,$grid:k,$gantt:ne,$rowIndex:U,column:Lt,columnIndex:qe,$columnIndex:Vt,_columnIndex:it,firstFilterOption:Be,fixed:fe,type:RT,isHidden:He,hasFilter:ke},Ve={colid:at};let wt=!1;if(we||(Ve.colspan=Lt.colSpan>1?Lt.colSpan:null,Ve.rowspan=Lt.rowSpan>1?Lt.rowSpan:null),tt&&te.length&&(we||yt)){const _t=$e[`${U}:${we?Vt:it}`];if(_t){const{rowspan:st,colspan:Et}=_t;if(!st||!Et)return null;st>1&&(wt=!0,Ve.rowspan=st),Et>1&&(wt=!0,Ve.colspan=Et)}}const ir={onClick:_t=>t.triggerHeaderCellClickEvent(_t,ft),onDblclick:_t=>t.triggerHeaderCellDblclickEvent(_t,ft)},be=Le.drag&&nt.trigger==="cell";let Ke=!1;be&&(Ke=!!(gt&&gt(ft))),(Pe||be)&&(ir.onMousedown=_t=>t.triggerHeaderCellMousedownEvent(_t,ft)),Le.drag&&(ir.onDragstart=t.handleHeaderCellDragDragstartEvent,ir.onDragend=t.handleHeaderCellDragDragendEvent,ir.onDragover=t.handleHeaderCellDragDragoverEvent,be&&(ir.onMouseup=t.handleHeaderCellDragMouseupEvent));const Ft=Vt===z.length-1,Ct=u.isBoolean(Lt.resizable)?Lt.resizable:Le.resizable||G,Pt=!Lt.resizeWidth&&(Lt.minWidth==="auto"||Lt.width==="auto");let zt=!1;V&&Ae&&!q&&!wt&&(!Xe||Xe.id!==at)&&me&&Ue.length>10&&!Lt.fixed&&!ce.immediate&&(it<_e.visibleStartIndex-_e.preloadSize||it>_e.visibleEndIndex+_e.preloadSize)&&(zt=!0);const Xt={};if(De?Xt.height=`${Dt}px`:Xt.minHeight=`${Dt}px`,pt&&!yt){const _t=z$(Lt),st=G$(Lt);if(_t&&st&&_t.id!==st.id){const Et=ut[_t.id],Ut=ut[st.id];Et&&Ut&&(Xt.width=`${Ut.oLeft-Et.oLeft+st.renderWidth}px`)}}return m("th",Object.assign(Object.assign(Object.assign({class:["vxe-table--column vxe-header--column",at,He?"fixed--hidden":"fixed--visible",{[`col--${$}`]:$,[`col--${Bt}`]:Bt,"col--last":Ft,"col--fixed":Lt.fixed,"col--group":pt,"col--ellipsis":De,"fixed--width":!Pt,"is--padding":dt,"is--sortable":Lt.sortable,"col--filter":!!Fe,"is--filter-active":ke,"is--drag-active":Le.drag&&!Lt.fixed&&!Ke&&(Tt||ht||!Lt.parentId),"is--drag-disabled":Le.drag&&Ke,"col--current":le===Lt},Oe?u.isFunction(Oe)?Oe(ft):Oe:"",se?u.isFunction(se)?se(ft):se:""],style:re?u.isFunction(re)?re(ft):re:null},Ve),ir),{key:we?`${at}${Vt}`:J||me||Te||Le.useKey||Le.drag||pt?at:Vt}),[m("div",{class:["vxe-cell",{"c--title":Z,"c--tooltip":xe,"c--ellipsis":H}],style:Xt},zt||V&&He?[]:[m("div",{colid:at,class:"vxe-cell--wrapper vxe-header-cell--wrapper"},Lt.renderHeader(ft))]),!He&&Ct&&(!we||yt)?m("div",{class:"vxe-cell--col-resizable",onMousedown:_t=>t.handleColResizeMousedownEvent(_t,fe,ft),onDblclick:_t=>t.handleColResizeDblclickEvent(_t,ft)}):Jb(t)])})},F=(q,V,j)=>{const{fixedType:U}=e,{headerRowClassName:z,headerRowStyle:k}=n;return j.map((ne,fe)=>{const G={$table:t,$rowIndex:fe,fixed:U,type:RT};return m("tr",{key:fe,class:["vxe-header--row",z?u.isFunction(z)?z(G):z:""],style:k?u.isFunction(k)?k(G):k:null},L(q,V,j,fe,ne))})},M=()=>{const{fixedType:q,fixedColumn:V,tableColumn:j}=e,{mouseConfig:U,showHeaderOverflow:z,spanMethod:k,footerSpanMethod:ne}=n,{isGroup:fe,isColLoading:G,overflowX:J,scrollXLoad:we,dragCol:se}=l,{visibleColumn:re,fullColumnIdData:ve}=a,Ee=h.value;let Re=y.value||[],Pe=j,le=!1;if(fe?Pe=re:(we&&z&&(k||ne||(le=!0)),(!le||!G&&(q||!J))&&(Pe=re),q&&le&&(Pe=V||[]),Re=[Pe]),!q&&!fe&&we&&se&&Pe.length>2){const Xe=ve[se.id];if(Xe){const me=Xe._index,Te=Pe[0],Ae=Pe[Pe.length-1],tt=ve[Te.id],Ue=ve[Ae.id];if(tt&&Ue){const ut=tt._index,_e=Ue._index;me<ut?(Pe=[se].concat(Pe),Re=[[se].concat(Re[0])].concat(Re.slice(1))):me>_e&&(Pe=Pe.concat([se]),Re=[Re[0].concat([se])].concat(Re.slice(1)))}}}return m("div",{ref:p,class:["vxe-table--header-wrapper",q?`fixed-${q}--wrapper`:"body--wrapper"],xid:r},[m("div",{ref:g,class:"vxe-table--header-inner-wrapper",onScroll(Xe){t.triggerHeaderScrollEvent(Xe,q)}},[q?Jb(t):m("div",{ref:W,class:"vxe-body--x-space"}),m("table",{ref:O,class:"vxe-table--header",xid:r,cellspacing:0,cellpadding:0,border:0,xvm:le?"1":null},[m("colgroup",{ref:D},Pe.map((Xe,me)=>m("col",{name:Xe.id,key:me,style:{width:`${Xe.renderWidth}px`}}))),m("thead",{ref:I},F(fe,le,Re))]),U&&Ee.area?m("div",{class:"vxe-table--cell-area",xid:r},[m("span",{class:"vxe-table--cell-main-area"}),m("span",{class:"vxe-table--cell-clip-area"}),m("span",{class:"vxe-table--cell-extend-area"}),m("span",{class:"vxe-table--cell-multi-area"}),m("span",{class:"vxe-table--cell-active-area"}),m("span",{class:"vxe-table--cell-col-status-area"})]):Jb(t)])])};return sr(()=>e.tableColumn,Y),jn(()=>{ge(()=>{const{fixedType:q}=e,{internalData:V}=t,{elemStore:j}=V,U=`${q||"main"}-header-`;j[`${U}wrapper`]=p,j[`${U}scroll`]=g,j[`${U}table`]=O,j[`${U}colgroup`]=D,j[`${U}list`]=I,j[`${U}xSpace`]=W,j[`${U}repair`]=N,Y()})}),xo(()=>{const{fixedType:q}=e,{internalData:V}=t,{elemStore:j}=V,U=`${q||"main"}-header-`;j[`${U}wrapper`]=null,j[`${U}scroll`]=null,j[`${U}table`]=null,j[`${U}colgroup`]=null,j[`${U}list`]=null,j[`${U}xSpace`]=null,j[`${U}repair`]=null}),M}}),{renderer:F_,renderEmptyElement:OT}=Se,TT="footer",MT=Bo({name:"VxeTableFooter",props:{footerTableData:{type:Array,default:()=>[]},tableColumn:{type:Array,default:()=>[]},fixedColumn:{type:Array,default:()=>[]},fixedType:{type:String,default:null}},setup(e){const t=mr("$xeTable",{}),{xID:r,props:n,reactData:l,internalData:a}=t,{computeFooterTooltipOpts:i,computeColumnOpts:d,computeCellOpts:s,computeFooterCellOpts:h,computeDefaultRowHeight:c,computeResizableOpts:b,computeVirtualXOpts:E}=t.getComputeMaps(),y=mt(),p=mt(),g=mt(),O=mt(),D=mt(),I=mt(),W=(L,F,M,q,V,j)=>{const U=t.xeGrid,z=t.xeGantt,{fixedType:k}=e,{resizable:ne,border:fe,footerCellClassName:G,footerCellStyle:J,footerAlign:we,footerSpanMethod:se,align:re,columnKey:ve,showFooterOverflow:Ee}=n,{scrollXLoad:Re,scrollYLoad:Pe,overflowX:le,currentColumn:Xe,mergeFootFlag:me}=l,{fullColumnIdData:Te,mergeFooterList:Ae,mergeFooterCellMaps:tt,scrollXStore:Ue}=a,ut=E.value,_e=i.value,te=b.value,{isAllColumnDrag:$e}=te,ce=d.value,Le=c.value,nt=s.value,et=h.value,vt=Fc(et.height)||Le;return F.map((xt,Dt)=>{const{type:gt,showFooterOverflow:Tt,footerAlign:ht,align:yt,footerClassName:Lt,editRender:Vt,cellRender:Bt}=xt,Nt=xt.id,Kt=Te[Nt]||{},Wt=Vt||Bt,Fe=Wt?F_.get(Wt.name):null,Oe=_e.showAll,Ye=le&&(k?xt.fixed!==k:!!xt.fixed),rt=u.isBoolean(et.padding)?et.padding:nt.padding,at=u.eqNull(Tt)?Ee:Tt,ee=ht||(Fe?Fe.tableFooterCellAlign:"")||we||yt||(Fe?Fe.tableCellAlign:"")||re,Ie=at==="ellipsis",Ne=at==="title",pt=at===!0||at==="tooltip",He=Ne||pt||Ie,dt=u.isBoolean(xt.resizable)?xt.resizable:ce.resizable||ne,Ze={colid:Nt},$={},H=Kt.index,Z=Kt._index,De={$table:t,$grid:U,$gantt:z,row:q,rowIndex:j,_rowIndex:j,$rowIndex:V,column:xt,columnIndex:H,$columnIndex:Dt,_columnIndex:Z,itemIndex:Z,items:q,fixed:k,type:TT,data:M};(Ne||pt||Oe)&&($.onMouseenter=Ve=>{Ne?Qx(Ve.currentTarget,xt):(pt||Oe)&&t.triggerFooterTooltipEvent(Ve,De)}),(pt||Oe)&&($.onMouseleave=Ve=>{(pt||Oe)&&t.handleTargetLeaveEvent(Ve)}),$.onClick=Ve=>{t.dispatchEvent("footer-cell-click",Object.assign({cell:Ve.currentTarget},De),Ve)},$.onDblclick=Ve=>{t.dispatchEvent("footer-cell-dblclick",Object.assign({cell:Ve.currentTarget},De),Ve)};let ke=!1;if(me&&Ae.length){const Ve=tt[`${j}:${Z}`];if(Ve){const{rowspan:wt,colspan:ir}=Ve;if(!wt||!ir)return null;wt>1&&(ke=!0,Ze.rowspan=wt),ir>1&&(ke=!0,Ze.colspan=ir)}}else if(se){const{rowspan:Ve=1,colspan:wt=1}=se(De)||{};if(!Ve||!wt)return null;Ve>1&&(Ze.rowspan=Ve),wt>1&&(Ze.colspan=wt)}const Be=Dt===F.length-1,qe=!xt.resizeWidth&&(xt.minWidth==="auto"||xt.width==="auto");let it=!1;L&&le&&!ke&&Re&&F.length>10&&!xt.fixed&&!ut.immediate&&(Z<Ue.visibleStartIndex-Ue.preloadSize||Z>Ue.visibleEndIndex+Ue.preloadSize)&&(it=!0);const ft={};return He?ft.height=`${vt}px`:ft.minHeight=`${vt}px`,m("td",Object.assign(Object.assign(Object.assign(Object.assign({class:["vxe-table--column vxe-footer--column",xt.id,{[`col--${ee}`]:ee,[`col--${gt}`]:gt,"col--last":Be,"fixed--width":!qe,"fixed--hidden":Ye,"is--padding":rt,"col--ellipsis":He,"col--current":Xe===xt},pl(Lt,De),pl(G,De)]},Ze),{style:J?u.isFunction(J)?J(De):J:null}),$),{key:ve||Re||Pe||ce.useKey||ce.drag?xt.id:Dt}),[m("div",{class:["vxe-cell",{"c--title":Ne,"c--tooltip":pt,"c--ellipsis":Ie}],style:ft},it?[]:[m("div",{colid:Nt,class:"vxe-cell--wrapper vxe-footer-cell--wrapper"},xt.renderFooter(De))]),!Ye&&dt&&$e?m("div",{class:["vxe-cell--col-resizable",{"is--line":!fe||fe==="none"}],onMousedown:Ve=>t.handleColResizeMousedownEvent(Ve,k,De),onDblclick:Ve=>t.handleColResizeDblclickEvent(Ve,De)}):OT(t)])})},N=(L,F)=>{const{fixedType:M,footerTableData:q}=e,{footerRowClassName:V,footerRowStyle:j}=n;return q.map((U,z)=>{const k=z,ne={$table:t,row:U,_rowIndex:k,$rowIndex:z,fixed:M,type:TT};return m("tr",{key:z,class:["vxe-footer--row",V?u.isFunction(V)?V(ne):V:""],style:j?u.isFunction(j)?j(ne):j:null},W(L,F,q,U,z,k))})},Y=()=>{const{fixedType:L,fixedColumn:F,tableColumn:M}=e,{spanMethod:q,footerSpanMethod:V,showFooterOverflow:j}=n,{visibleColumn:U,fullColumnIdData:z}=a,{isGroup:k,isColLoading:ne,overflowX:fe,scrollXLoad:G,dragCol:J}=l;let we=M,se=!1;if(G&&j&&(q||V||(se=!0)),(!se||!ne&&(L||!fe))&&(we=U),L&&se&&(we=F||[]),!L&&!k&&G&&J&&we.length>2){const re=z[J.id];if(re){const ve=re._index,Ee=we[0],Re=we[we.length-1],Pe=z[Ee.id],le=z[Re.id];if(Pe&&le){const Xe=Pe._index,me=le._index;ve<Xe?we=[J].concat(we):ve>me&&(we=we.concat([J]))}}}return m("div",{ref:y,class:["vxe-table--footer-wrapper",L?`fixed-${L}--wrapper`:"body--wrapper"],xid:r},[m("div",{ref:p,class:"vxe-table--footer-inner-wrapper",onScroll(re){t.triggerFooterScrollEvent(re,L)}},[L?OT(t):m("div",{ref:I,class:"vxe-body--x-space"}),m("table",{ref:g,class:"vxe-table--footer",xid:r,cellspacing:0,cellpadding:0,border:0,xvm:se?"1":null},[m("colgroup",{ref:O},we.map((re,ve)=>m("col",{name:re.id,key:ve,style:{width:`${re.renderWidth}px`}}))),m("tfoot",{ref:D},N(se,we))])])])};return jn(()=>{ge(()=>{const{fixedType:L}=e,{elemStore:F}=a,M=`${L||"main"}-footer-`;F[`${M}wrapper`]=y,F[`${M}scroll`]=p,F[`${M}table`]=g,F[`${M}colgroup`]=O,F[`${M}list`]=D,F[`${M}xSpace`]=I})}),xo(()=>{const{fixedType:L}=e,{elemStore:F}=a,M=`${L||"main"}-footer-`;F[`${M}wrapper`]=null,F[`${M}scroll`]=null,F[`${M}table`]=null,F[`${M}colgroup`]=null,F[`${M}list`]=null,F[`${M}xSpace`]=null}),Y}}),{getI18n:Yr,getIcon:bn,renderEmptyElement:ei}=Se;function IT(){return{}}const $_=Bo({name:"TableCustomPanel",props:{customStore:{type:Object,default:()=>({})}},setup(e,t){const r=u.uniqueId(),n=Se.getComponent("VxeModal"),l=Se.getComponent("VxeDrawer"),a=Se.getComponent("VxeButton"),i=Se.getComponent("VxeNumberInput"),d=Se.getComponent("VxeRadioGroup"),s=mr("$xeTable",{}),{props:h,reactData:c,internalData:b}=s,{computeCustomOpts:E,computeColumnDragOpts:y,computeColumnOpts:p,computeIsMaxFixedColumn:g,computeResizableOpts:O}=s.getComputeMaps(),D=mt(),I=mt(),W=mt(),N=mt(),Y=mt(),L=rn({dragCol:null,dragGroupField:null,dragAggFnCol:null,dragTipText:""});let F=IT();const M={refElem:D,refBodyWrapperElem:I,refCustomBodyElem:W,refDragLineElem:N,refDragTipElem:Y},q={},V=te=>{const{customStore:$e}=e;$e.activeWrapper=!0,s.customOpenEvent(te)},j=te=>{const{customStore:$e}=e;$e.activeWrapper=!1,setTimeout(()=>{!$e.activeBtn&&!$e.activeWrapper&&s.customCloseEvent(te)},300)},U=({$event:te})=>{c.isCustomStatus=!0,s.saveCustom(),s.closeCustom(),s.emitCustomEvent("confirm",te)},z=({$event:te})=>{s.closeCustom(),s.emitCustomEvent("close",te)},k=({$event:te})=>{s.cancelCustom(),s.closeCustom(),s.emitCustomEvent("cancel",te)},ne=te=>{s.resetCustom(!0),s.closeCustom(),s.emitCustomEvent("reset",te)},fe=({$event:te})=>{Se.modal?Se.modal.confirm({content:Yr("vxe.custom.cstmConfirmRestore"),className:"vxe-table--ignore-clear",escClosable:!0}).then($e=>{$e==="confirm"&&ne(te)}):ne(te)},G=te=>{const{customColumnList:$e}=c,ce=u.findTree($e,Le=>Le===te);if(ce&&ce.parent){const{parent:Le}=ce;Le.children&&Le.children.length&&(Le.renderVisible=Le.children.every(nt=>nt.renderVisible),Le.halfVisible=!Le.renderVisible&&Le.children.some(nt=>nt.renderVisible||nt.halfVisible),G(Le))}},J=(te,$e)=>{const ce=!te.renderVisible;E.value.immediate?(u.eachTree([te],nt=>{nt.visible=ce,nt.renderVisible=ce,nt.halfVisible=!1}),c.isCustomStatus=!0,s.handleCustom(),s.saveCustomStore("update:visible")):u.eachTree([te],nt=>{nt.renderVisible=ce,nt.halfVisible=!1}),G(te),s.checkCustomStatus(),s.dispatchEvent("custom-visible-change",{column:te,checked:ce},$e)},we=te=>{E.value.immediate&&te.renderResizeWidth!==te.renderWidth&&(te.resizeWidth=te.renderResizeWidth,te.renderWidth=te.renderResizeWidth,c.isCustomStatus=!0,s.handleCustom(),s.saveCustomStore("update:width"))},se=(te,$e,ce)=>{const Le=g.value,nt=E.value;let et=null;nt.immediate?(te.renderFixed===$e?(et="",u.eachTree([te],vt=>{vt.fixed="",vt.renderFixed=""})):(!Le||te.renderFixed)&&(et=$e,u.eachTree([te],vt=>{vt.fixed=$e,vt.renderFixed=$e})),c.isCustomStatus=!0,s.handleCustom(),s.saveCustomStore("update:fixed")):te.renderFixed===$e?(et="",u.eachTree([te],vt=>{vt.renderFixed=""})):(!Le||te.renderFixed)&&(et=$e,u.eachTree([te],vt=>{vt.renderFixed=$e})),et!==null&&s.dispatchEvent("custom-fixed-change",{column:te,fixed:et},ce)},re=te=>{const{customStore:$e}=c,ce=!$e.isAll;s.toggleCustomAllCheckbox(),s.dispatchEvent("custom-visible-all",{checked:ce},te)},ve=(te,$e,ce,Le)=>{const nt=I.value;if(!nt)return;const et=W.value;if(!et)return;const{prevDragToChild:vt}=F,xt=nt.getBoundingClientRect(),Dt=et.getBoundingClientRect(),gt=N.value;if($e){if(gt)if(ce){const ht=$e.getBoundingClientRect();gt.style.display="block",gt.style.left=`${Math.max(0,Dt.x-xt.x)}px`,gt.style.top=`${Math.max(1,ht.y+nt.scrollTop-xt.y)}px`,gt.style.height=`${ht.height}px`,gt.style.width=`${ht.width}px`,gt.setAttribute("drag-pos",Le),gt.setAttribute("drag-to-child",vt?"y":"n")}else gt.style.display=""}else gt&&(gt.style.display="node");const Tt=Y.value;Tt&&(Tt.style.display="block",Tt.style.top=`${Math.min(nt.clientHeight+nt.scrollTop-Tt.clientHeight,te.clientY+nt.scrollTop-xt.y)}px`,Tt.style.left=`${Math.min(nt.clientWidth+nt.scrollLeft-Tt.clientWidth,te.clientX+nt.scrollLeft-xt.x)}px`,Tt.setAttribute("drag-status",ce?vt?"sub":"normal":"disabled"))},Ee=()=>{const{dragCol:te}=L,$e=y.value,{tooltipMethod:ce}=$e;let Le="";ce?Le=`${ce({$table:s,column:te})||""}`:Le=Yr("vxe.custom.cstmDragTarget",[te&&te.type!=="html"?te.getTitle():""]),L.dragTipText=Le},Re=()=>{const te=Y.value,$e=N.value;te&&(te.style.display=""),$e&&($e.style.display="")},Pe=te=>{const nt=te.currentTarget.parentElement.parentElement.parentElement,et=nt.getAttribute("colid"),vt=s.getColumnById(et);nt.draggable=!0,L.dragCol=vt,L.dragGroupField=null,L.dragAggFnCol=null,Ee(),Lo(nt,"active--drag-origin")},le=te=>{const nt=te.currentTarget.parentElement.parentElement.parentElement;Re(),nt.draggable=!1,L.dragCol=null,L.dragGroupField=null,L.dragAggFnCol=null,Wn(nt,"active--drag-origin")},Xe=te=>{te.dataTransfer&&te.dataTransfer.setDragImage(hx(),0,0),F.prevDragGroupField=null,F.prevDragAggFnColid=null},me=te=>{const{mouseConfig:$e}=h,{customColumnList:ce}=c,{collectColumn:Le}=b,nt=E.value,{immediate:et}=nt,vt=te.currentTarget,xt=y.value,{isCrossDrag:Dt,isSelfToChildDrag:gt,isToChildDrag:Tt,dragEndMethod:ht}=xt,{dragCol:yt}=L,{prevDragCol:Lt,prevDragGroupField:Vt,prevDragAggFnColid:Bt,prevDragPos:Nt,prevDragToChild:Kt}=F,Wt=Nt==="bottom"?1:0;if(Vt||Bt)s.handlePivotTableAggregatePanelDragendEvent&&s.handlePivotTableAggregatePanelDragendEvent(te);else if(Lt&&yt&&Lt!==yt){const Fe=yt,Oe=Lt;Promise.resolve(ht?ht({oldColumn:Fe,newColumn:Oe,dragColumn:Fe,dragPos:Nt,dragToChild:!!Kt,offsetIndex:Wt}):!0).then(Ye=>{if(!Ye)return;let rt=-1,at=-1;const ee={};u.eachTree([Fe],Ne=>{ee[Ne.id]=Ne});let Ie=!1;if(et){if(Fe.parentId&&Oe.parentId){if(!Dt)return;if(ee[Oe.id]&&(Ie=!0,!(Dt&&gt))){Se.modal&&Se.modal.message({status:"error",content:Yr("vxe.error.treeDragChild")});return}}else if(Fe.parentId){if(!Dt)return}else if(Oe.parentId){if(!Dt)return;if(ee[Oe.id]&&(Ie=!0,!(Dt&&gt))){Se.modal&&Se.modal.message({status:"error",content:Yr("vxe.error.treeDragChild")});return}}const Ne=u.findTree(Le,He=>He.id===Fe.id);if(Ie&&Dt&&gt){if(Ne){const{items:He,index:dt}=Ne,Ze=Fe.children||[];Ze.forEach($=>{$.parentId=Fe.parentId}),He.splice(dt,1,...Ze),Fe.children=[]}}else if(Ne){const{items:He,index:dt,parent:Ze}=Ne;He.splice(dt,1),Ze||(rt=dt)}const pt=u.findTree(Le,He=>He.id===Oe.id);if(pt){const{items:He,index:dt,parent:Ze}=pt;Dt&&Tt&&Kt?(Fe.parentId=Oe.id,Oe.children=(Oe.children||[]).concat([Fe])):(Fe.parentId=Oe.parentId,He.splice(dt+Wt,0,Fe)),Ze||(at=dt)}u.eachTree(Le,(He,dt,Ze,$,H)=>{if(!H){const Z=dt+1;He.renderSortNumber=Z}})}else rt=u.findIndexOf(ce,Ne=>Ne.id===Fe.id),ce.splice(rt,1),at=u.findIndexOf(ce,Ne=>Ne.id===Oe.id),ce.splice(at+Wt,0,Fe);$e&&(s.clearSelected&&s.clearSelected(),s.clearCellAreas&&(s.clearCellAreas(),s.clearCopyCellArea())),s.dispatchEvent("column-dragend",{oldColumn:Fe,newColumn:Oe,dragColumn:Fe,dragPos:Nt,offsetIndex:Wt,_index:{newIndex:at,oldIndex:rt}},te),et&&(c.customColumnList=Le.slice(0),s.handleColDragSwapColumn())}).catch(()=>{})}Re(),L.dragCol=null,L.dragGroupField=null,L.dragAggFnCol=null,F.prevDragGroupField=null,F.prevDragAggFnColid=null,vt.draggable=!1,vt.removeAttribute("drag-pos"),Wn(vt,"active--drag-target"),Wn(vt,"active--drag-origin")},Te=te=>{const $e=E.value,{immediate:ce}=$e,Le=y.value,{isCrossDrag:nt,isToChildDrag:et}=Le,vt=te.currentTarget,xt=Cs(te),Dt=vt.getAttribute("colid"),gt=s.getColumnById(Dt),{dragCol:Tt}=L;if(F.prevDragGroupField=null,F.prevDragAggFnColid=null,gt&&(nt||gt.level===1)){te.preventDefault();const yt=te.clientY-vt.getBoundingClientRect().y<vt.clientHeight/2?"top":"bottom";if(!Tt||Tt&&Tt.id===gt.id||!nt&&gt.level>1||!ce&&gt.level>1){ve(te,vt,!1,yt);return}F.prevDragToChild=!!(nt&&et&&xt&&ce),F.prevDragCol=gt,F.prevDragPos=yt,ve(te,vt,!0,yt)}},Ae=()=>{const{dragTipText:te}=L,$e=y.value;return m("div",{},[m("div",{ref:N,class:["vxe-table-custom-popup--drag-line",{"is--guides":$e.showGuidesStatus}]}),m("div",{ref:Y,class:"vxe-table-custom-popup--drag-tip"},[m("div",{class:"vxe-table-custom-popup--drag-tip-wrapper"},[m("div",{class:"vxe-table-custom-popup--drag-tip-status"},[m("span",{class:["vxe-table-custom-popup--drag-tip-normal-status",bn().TABLE_DRAG_STATUS_ROW]}),m("span",{class:["vxe-table-custom-popup--drag-tip-sub-status",bn().TABLE_DRAG_STATUS_SUB_ROW]}),m("span",{class:["vxe-table-custom-popup--drag-tip-group-status",bn().TABLE_DRAG_STATUS_AGG_GROUP]}),m("span",{class:["vxe-table-custom-popup--drag-tip-values-status",bn().TABLE_DRAG_STATUS_AGG_VALUES]}),m("span",{class:["vxe-table-custom-popup--drag-tip-disabled-status",bn().TABLE_DRAG_DISABLED]})]),m("div",{class:"vxe-table-custom-popup--drag-tip-content"},`${te||""}`)])])])},tt=()=>{const te=s.xeGrid,$e=s.xeGantt,ce=s.props,{customStore:Le}=e,{treeConfig:nt,rowGroupConfig:et,aggregateConfig:vt}=ce,{isCustomStatus:xt,customColumnList:Dt}=c,gt=E.value,{immediate:Tt}=gt,ht=y.value,{maxHeight:yt}=Le,{checkMethod:Lt,visibleMethod:Vt,allowVisible:Bt,allowSort:Nt,allowFixed:Kt,trigger:Wt,placement:Fe}=gt,Oe=g.value,{isCrossDrag:Ye}=ht,rt=gt.slots||{},at=rt.header,ee=rt.top,Ie=rt.bottom,Ne=rt.default,pt=rt.footer,He=[],dt={},Ze=Le.isAll,$=Le.isIndeterminate;Wt==="hover"&&(dt.onMouseenter=V,dt.onMouseleave=j);const H={$table:s,$grid:te,$gantt:$e,columns:Dt,isAllChecked:Ze,isAllIndeterminate:$,isCustomStatus:xt};return u.eachTree(Dt,(Z,xe,De,ke,Be)=>{if(Vt?Vt({$table:s,column:Z}):!0){const it=Z.renderVisible,ft=Z.halfVisible,Ve=Z.children&&Z.children.length,wt=Rn(Z.getTitle(),1),ir=Lt?!Lt({$table:s,column:Z}):!1,be=!it;He.push(m("li",{key:Z.id,colid:Z.id,class:["vxe-table-custom--option",`level--${Z.level}`,{"is--hidden":ir||be,"is--group":Ve}],onDragstart:Xe,onDragend:me,onDragover:Te},[Bt?m("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":it,"is--indeterminate":ft,"is--disabled":ir}],title:Yr("vxe.custom.setting.colVisible"),onClick:Ke=>{ir||J(Z,Ke)}},[m("span",{class:["vxe-checkbox--icon",ft?bn().TABLE_CHECKBOX_INDETERMINATE:it?bn().TABLE_CHECKBOX_CHECKED:bn().TABLE_CHECKBOX_UNCHECKED]})]):Ht(),m("div",{class:"vxe-table-custom--name-option"},[Nt&&(Ye&&Tt||Z.level===1)?m("div",{class:"vxe-table-custom--sort-option"},[m("span",Object.assign({class:["vxe-table-custom--sort-btn",{"is--disabled":ir||be}],title:Yr("vxe.custom.setting.sortHelpTip")},ir||be?{}:{onMousedown:Pe,onMouseup:le}),[m("i",{class:bn().TABLE_CUSTOM_SORT})])]):Ht(),Z.type==="html"?m("div",{key:"1",class:"vxe-table-custom--checkbox-label",innerHTML:wt}):m("div",{key:"0",class:"vxe-table-custom--checkbox-label"},wt)]),!Be&&Kt?m("div",{class:"vxe-table-custom--fixed-option"},[a?m(a,{mode:"text",icon:Z.renderFixed==="left"?bn().TOOLBAR_TOOLS_FIXED_LEFT_ACTIVE:bn().TOOLBAR_TOOLS_FIXED_LEFT,status:Z.renderFixed==="left"?"primary":"",disabled:ir||be||Oe&&!Z.renderFixed,title:Yr(Z.renderFixed==="left"?"vxe.toolbar.cancelFixed":"vxe.toolbar.fixedLeft"),onClick:({$event:Ke})=>{se(Z,"left",Ke)}}):Ht(),a?m(a,{mode:"text",icon:Z.renderFixed==="right"?bn().TOOLBAR_TOOLS_FIXED_RIGHT_ACTIVE:bn().TOOLBAR_TOOLS_FIXED_RIGHT,status:Z.renderFixed==="right"?"primary":"",disabled:ir||be||Oe&&!Z.renderFixed,title:Yr(Z.renderFixed==="right"?"vxe.toolbar.cancelFixed":"vxe.toolbar.fixedRight"),onClick:({$event:Ke})=>{se(Z,"right",Ke)}}):Ht()]):Ht()]))}}),m("div",{ref:D,key:"simple",class:["vxe-table-custom-wrapper",`placement--${Fe}`,{"is--active":Le.visible}],style:yt&&!["left","right"].includes(Fe||"")?{maxHeight:`${yt}px`}:{}},Le.visible?[m("div",{ref:I,class:"vxe-table-custom-simple--body-wrapper"},[!nt&&(vt||et)&&s.getPivotTableAggregateSimplePanel?m(s.getPivotTableAggregateSimplePanel(),{customStore:Le}):ei(s),m("div",{ref:W,class:"vxe-table-custom--handle-wrapper"},[m("div",{class:"vxe-table-custom--header"},at?s.callSlot(at,H):[m("ul",{class:"vxe-table-custom--panel-list"},[m("li",{class:"vxe-table-custom--option"},[Bt?m("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":Ze,"is--indeterminate":$}],title:Yr("vxe.table.allTitle"),onClick:re},[m("span",{class:["vxe-checkbox--icon",$?bn().TABLE_CHECKBOX_INDETERMINATE:Ze?bn().TABLE_CHECKBOX_CHECKED:bn().TABLE_CHECKBOX_UNCHECKED]}),m("span",{class:"vxe-checkbox--label"},Yr("vxe.toolbar.customAll"))]):m("span",{class:"vxe-checkbox--label"},Yr("vxe.table.customTitle"))])])]),m("div",{class:"vxe-table-custom--body"},[ee?m("div",{class:"vxe-table-custom--panel-top"},s.callSlot(ee,H)):ei(s),Ne?m("div",{class:"vxe-table-custom--panel-body"},s.callSlot(Ne,H)):m(ui,Object.assign({class:"vxe-table-custom--panel-list",name:"vxe-table-custom--list",tag:"ul"},dt),{default:()=>He}),Ie?m("div",{class:"vxe-table-custom--panel-bottom"},s.callSlot(Ie,H)):ei(s)]),gt.showFooter?m("div",{class:"vxe-table-custom--footer"},pt?s.callSlot(pt,H):[m("div",{class:"vxe-table-custom--footer-buttons"},[a?m(a,{mode:"text",content:gt.resetButtonText||Yr("vxe.table.customRestore"),disabled:!xt,onClick:fe}):Ht(),Tt?a?m(a,{mode:"text",content:gt.closeButtonText||Yr("vxe.table.customClose"),onClick:z}):Ht():a?m(a,{mode:"text",content:gt.cancelButtonText||Yr("vxe.table.customCancel"),onClick:k}):Ht(),Tt?Ht():a?m(a,{mode:"text",status:"primary",content:gt.confirmButtonText||Yr("vxe.table.customConfirm"),onClick:U}):Ht()])]):null]),Ae()])]:[])},Ue=()=>{const te=s.xeGrid,$e=s.xeGantt,{customStore:ce}=e,{treeConfig:Le,rowGroupConfig:nt,aggregateConfig:et,resizable:vt}=h,{isCustomStatus:xt,customColumnList:Dt}=c,gt=E.value,{immediate:Tt}=gt,ht=y.value,{mode:yt,modalOptions:Lt,drawerOptions:Vt,allowVisible:Bt,allowSort:Nt,allowFixed:Kt,allowResizable:Wt,checkMethod:Fe,visibleMethod:Oe}=gt,Ye=p.value,{maxFixedSize:rt}=Ye,at=O.value,{minWidth:ee,maxWidth:Ie}=at,Ne=Object.assign({},Lt),pt=Object.assign({},Vt),He=g.value,{isCrossDrag:dt}=ht,Ze=gt.slots||{},$=Ze.header,H=Ze.top,Z=Ze.bottom,xe=Ze.default,De=Ze.footer,ke=[],Be=ce.isAll,qe=ce.isIndeterminate,it={$table:s,$grid:te,$gantt:$e,columns:Dt,isAllChecked:Be,isAllIndeterminate:qe,isCustomStatus:xt};u.eachTree(Dt,(Ve,wt,ir,be,Ke)=>{if(Oe?Oe({$table:s,column:Ve}):!0){let Ct=0,Pt=0;if(Wt){const qt={$table:s,column:Ve,columnIndex:wt,$columnIndex:wt,$rowIndex:-1};ee&&(Ct=u.toNumber(u.isFunction(ee)?ee(qt):ee)),Ie&&(Pt=u.toNumber(u.isFunction(Ie)?Ie(qt):Ie))}const zt=Ve.renderVisible,Xt=Ve.halfVisible,_t=Rn(Ve.getTitle(),1),st=Ve.children&&Ve.children.length,Et=Fe?!Fe({$table:s,column:Ve}):!1,Ut=!zt;ke.push(m("tr",{key:Ve.id,colid:Ve.id,class:[`vxe-table-custom-popup--row level--${Ve.level}`,{"is--group":st}],onDragstart:Xe,onDragend:me,onDragover:Te},[Bt?m("td",{class:"vxe-table-custom-popup--column-item col--visible"},[m("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":zt,"is--indeterminate":Xt,"is--disabled":Et}],title:Yr("vxe.custom.setting.colVisible"),onClick:qt=>{Et||J(Ve,qt)}},[m("span",{class:["vxe-checkbox--icon",Xt?bn().TABLE_CHECKBOX_INDETERMINATE:zt?bn().TABLE_CHECKBOX_CHECKED:bn().TABLE_CHECKBOX_UNCHECKED]})])]):Ht(),m("td",{class:"vxe-table-custom-popup--column-item col--name"},[m("div",{class:"vxe-table-custom-popup--name"},[Nt?dt&&Tt||Ve.level===1?m("div",Object.assign({class:["vxe-table-custom-popup--column-sort-btn",{"is--disabled":Et||Ut}],title:Yr("vxe.custom.setting.sortHelpTip")},Et||Ut?{}:{onMousedown:Pe,onMouseup:le}),[m("i",{class:bn().TABLE_CUSTOM_SORT})]):m("div",{class:"vxe-table-custom-popup--column-sort-placeholder"}):Ht(),Ve.type==="html"?m("div",{key:"1",class:"vxe-table-custom-popup--title",innerHTML:_t}):m("div",{key:"0",class:"vxe-table-custom-popup--title",title:_t},_t)])]),Wt?m("td",{class:"vxe-table-custom-popup--column-item col--resizable"},[Ve.children&&Ve.children.length||!(u.isBoolean(Ve.resizable)?Ve.resizable:Ye.resizable||vt)?m("span","-"):i?m(i,{type:"integer",immediate:!1,disabled:Et||Ut,modelValue:Ve.renderResizeWidth,min:Ct||void 0,max:Pt||void 0,"onUpdate:modelValue"(qt){const cr=Math.max(0,Number(qt));Ve.renderResizeWidth=cr},onChange(){we(Ve)}}):Ht()]):Ht(),Kt?m("td",{class:"vxe-table-custom-popup--column-item col--fixed"},[Ke?m("span","-"):d?m(d,{modelValue:Ve.renderFixed||"",type:"button",size:"mini",disabled:Et||Ut,options:[{label:Yr("vxe.custom.setting.fixedLeft"),value:"left",disabled:Et||Ut||He},{label:Yr("vxe.custom.setting.fixedUnset"),value:"",disabled:Et||Ut},{label:Yr("vxe.custom.setting.fixedRight"),value:"right",disabled:Et||Ut||He}],onChange({label:qt,$event:cr}){se(Ve,qt,cr)}}):Ht()]):Ht()]))}});const ft={default:()=>m("div",{ref:I,class:"vxe-table-custom-popup--body-wrapper"},xe?s.callSlot(xe,it):[m("div",{ref:W,class:"vxe-table-custom-popup--handle-wrapper"},[H?m("div",{class:"vxe-table-custom-popup--table-top"},s.callSlot(H,it)):ei(s),m("div",{class:"vxe-table-custom-popup--table-wrapper"},[m("table",{},[m("colgroup",{},[Bt?m("col",{class:"vxe-table-custom-popup--table-col-seq"}):Ht(),m("col",{class:"vxe-table-custom-popup--table-col-title"}),Wt?m("col",{class:"vxe-table-custom-popup--table-col-width"}):Ht(),Kt?m("col",{class:"vxe-table-custom-popup--table-col-fixed"}):Ht()]),m("thead",{},[m("tr",{},[Bt?m("th",{},[m("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":Be,"is--indeterminate":qe}],title:Yr("vxe.table.allTitle"),onClick:re},[m("span",{class:["vxe-checkbox--icon",qe?bn().TABLE_CHECKBOX_INDETERMINATE:Be?bn().TABLE_CHECKBOX_CHECKED:bn().TABLE_CHECKBOX_UNCHECKED]}),m("span",{class:"vxe-checkbox--label"},Yr("vxe.toolbar.customAll"))])]):Ht(),m("th",{},Yr("vxe.custom.setting.colTitle")),Wt?m("th",{},Yr("vxe.custom.setting.colResizable")):Ht(),Kt?m("th",{},Yr(`vxe.custom.setting.${rt?"colFixedMax":"colFixed"}`,[rt])):Ht()])]),m(ui,{class:"vxe-table-custom--panel-list",tag:"tbody",name:"vxe-table-custom--list"},{default:()=>ke})])]),Z?m("div",{class:"vxe-table-custom-popup--table-bottom"},s.callSlot(Z,it)):ei(s),Ae()]),!Le&&(et||nt)&&s.getPivotTableAggregatePopupPanel?m(s.getPivotTableAggregatePopupPanel(),{customStore:ce}):ei(s)]),footer:()=>De?s.callSlot(De,it):m("div",{class:"vxe-table-custom-popup--footer"},[a?m(a,{content:gt.resetButtonText||Yr("vxe.custom.cstmRestore"),disabled:!xt,onClick:fe}):Ht(),Tt?a?m(a,{content:gt.closeButtonText||Yr("vxe.table.customClose"),onClick:z}):Ht():a?m(a,{content:gt.cancelButtonText||Yr("vxe.table.customCancel"),onClick:k}):Ht(),Tt?Ht():a?m(a,{status:"primary",content:gt.confirmButtonText||Yr("vxe.custom.cstmConfirm"),onClick:U}):Ht()])};return $&&(ft.header=()=>s.callSlot($,it)),yt==="drawer"?l?m(l,{key:"drawer",className:["vxe-table-custom-drawer-wrapper","vxe-table--ignore-clear",pt.className||""].join(" "),modelValue:ce.visible,title:pt.title||Yr("vxe.custom.cstmTitle"),width:pt.width||Math.min(880,Math.floor(document.documentElement.clientWidth*.6)),position:pt.position,resize:!!pt.resize,escClosable:!!pt.escClosable,maskClosable:!!pt.maskClosable,destroyOnClose:!0,showFooter:!0,"onUpdate:modelValue"(Ve){ce.visible=Ve}},ft):Ht():n?m(n,{key:"modal",className:["vxe-table-custom-modal-wrapper","vxe-table--ignore-clear",Ne.className||""].join(" "),modelValue:ce.visible,title:Ne.title||Yr("vxe.custom.cstmTitle"),width:Ne.width||Math.min(880,document.documentElement.clientWidth),minWidth:Ne.minWidth||700,height:Ne.height||Math.min(680,document.documentElement.clientHeight),minHeight:Ne.minHeight||400,showZoom:Ne.showZoom,showMaximize:Ne.showMaximize,showMinimize:Ne.showMinimize,mask:Ne.mask,lockView:Ne.lockView,resize:Ne.resize,escClosable:!!Ne.escClosable,maskClosable:!!Ne.maskClosable,destroyOnClose:!0,showFooter:!0,"onUpdate:modelValue"(Ve){ce.visible=Ve}},ft):Ht()},ut=()=>{const te=E.value;return["modal","drawer","popup"].includes(`${te.mode}`)?Ue():tt()};ge(()=>{const te=E.value,{mode:$e}=te;!n&&$e==="modal"&&At("vxe.error.reqComp",["vxe-modal"]),!l&&$e==="drawer"&&At("vxe.error.reqComp",["vxe-drawer"]),a||At("vxe.error.reqComp",["vxe-button"]),i||At("vxe.error.reqComp",["vxe-number-input"]),d||At("vxe.error.reqComp",["vxe-radio-group"])});const _e={xID:r,props:e,context:t,reactData:L,internalData:F,xeTable:s,getRefMaps:()=>M,getComputeMaps:()=>q,renderVN:ut};return xo(()=>{F=IT()}),ao("$xeTableCustomPanel",_e),_e},render(){return this.renderVN()}}),{getI18n:ac,getIcon:is,renderer:FT}=Se,A_=Bo({name:"VxeTableFilterPanel",props:{filterStore:Object},setup(e,t){const r=u.uniqueId(),n=mr("$xeTable",{}),{reactData:l,internalData:a,getComputeMaps:i}=n,{computeFilterOpts:d}=i(),s=mt(),h={refElem:s},c={xID:r,props:e,context:t,getRefMaps:()=>h},b=ue(()=>{const{filterStore:F}=e;return F&&F.options.some(M=>M.checked)}),E=(F,M)=>{const{filterStore:q}=e;q.options.forEach(V=>{V._checked=M,V.checked=M}),q.isAllSelected=M,q.isIndeterminate=!1},y=F=>{F||Zt("vxe.error.delFunc",["confirmFilter","saveFilterPanelByEvent"]),n.handleFilterConfirmFilter(F||new Event("click"))},p=(F,M,q)=>{n.handleFilterChangeRadioOption(F,M,q)},g=F=>{n.handleFilterResetFilter(F)},O=(F,M,q)=>{n.handleFilterChangeMultipleOption(F,M,q)},D=(F,M,q)=>{n.handleFilterChangeOption(F,M,q)},I=(F,M)=>{const{filterStore:q}=e;q.multiple?E(F,M):g(F)};Object.assign(c,{changeRadioOption:p,changeMultipleOption:O,changeAllOption:I,changeOption:D,confirmFilter:y,resetFilter:g});const N=(F,M)=>{const{filterStore:q}=e,{column:V,multiple:j,maxHeight:U}=q,z=V?V.slots:null,k=z?z.filter:null,ne=Object.assign({},a._currFilterParams,{$panel:c,$table:n}),fe=M?M.renderTableFilter||M.renderFilter:null;if(k)return[m("div",{class:"vxe-table--filter-template",style:U?{maxHeight:`${U}px`}:{}},n.callSlot(k,ne))];if(fe)return[m("div",{class:"vxe-table--filter-template",style:U?{maxHeight:`${U}px`}:{}},_n(fe(F,ne)))];const G=j?q.isAllSelected:!q.options.some(we=>we._checked),J=j&&q.isIndeterminate;return[m("ul",{class:"vxe-table--filter-header"},[m("li",{class:["vxe-table--filter-option",{"is--checked":G,"is--indeterminate":J}],title:ac(j?"vxe.table.allTitle":"vxe.table.allFilter"),onClick:we=>{I(we,!q.isAllSelected)}},(j?[m("span",{class:["vxe-checkbox--icon",J?is().TABLE_CHECKBOX_INDETERMINATE:G?is().TABLE_CHECKBOX_CHECKED:is().TABLE_CHECKBOX_UNCHECKED]})]:[]).concat([m("span",{class:"vxe-checkbox--label"},ac("vxe.table.allFilter"))]))]),m("ul",{class:"vxe-table--filter-body",style:U?{maxHeight:`${U}px`}:{}},q.options.map(we=>{const se=we._checked;return m("li",{class:["vxe-table--filter-option",{"is--checked":we._checked}],title:we.label,onClick:re=>{D(re,!we._checked,we)}},(j?[m("span",{class:["vxe-checkbox--icon",se?is().TABLE_CHECKBOX_CHECKED:is().TABLE_CHECKBOX_UNCHECKED]})]:[]).concat([m("span",{class:"vxe-checkbox--label"},Rn(we.label,1))]))}))]},Y=()=>{const{filterStore:F}=e,{column:M,multiple:q}=F,V=d.value,j=b.value,{filterRender:U}=M,z=pr(U)?FT.get(U.name):null,k=!j&&!F.isAllSelected&&!F.isIndeterminate;return q&&(!z||!(z.showTableFilterFooter===!1||z.showFilterFooter===!1||z.isFooter===!1))?[m("div",{class:"vxe-table--filter-footer"},[m("button",{class:{"is--disabled":k},disabled:k,onClick:y},V.confirmButtonText||ac("vxe.table.confirmFilter")),m("button",{onClick:g},V.resetButtonText||ac("vxe.table.resetFilter"))])]:[]},L=()=>{const{filterStore:F}=e,{initStore:M}=l,{visible:q,multiple:V,column:j}=F,U=j?j.filterRender:null,z=pr(U)?FT.get(U.name):null,k=z?z.tableFilterClassName||z.filterClassName:"",ne=Object.assign({},a._currFilterParams,{$panel:c,$table:n}),fe=n.props,{computeSize:G}=n.getComputeMaps(),J=G.value,we=d.value,{transfer:se,destroyOnClose:re}=we;return m(Bl,{to:"body",disabled:!se},[m("div",{ref:s,class:["vxe-table--filter-wrapper","filter--prevent-default",pl(k,ne),{[`size--${J}`]:J,"is--animat":fe.animat,"is--multiple":V,"is--active":q}],style:F.style},M.filter&&(!re||q)&&j?N(U,z).concat(Y()):[])])};return c.renderVN=L,c},render(){return this.renderVN()}}),{getI18n:Fl,getIcon:P_}=Se,k_=Bo({name:"VxeTableImportPanel",props:{defaultOptions:Object,storeData:Object},setup(e){const t=Se.getComponent("VxeModal"),r=Se.getComponent("VxeButton"),n=Se.getComponent("VxeSelect"),l=mr("$xeTable",{}),{computeImportOpts:a}=l.getComputeMaps(),i=rn({loading:!1}),d=mt(),s=ue(()=>{const{storeData:D}=e;return`${D.filename}.${D.type}`}),h=ue(()=>{const{storeData:D}=e;return D.file&&D.type}),c=ue(()=>{const{storeData:D}=e,{type:I,typeList:W}=D;if(I){const N=u.find(W,Y=>I===Y.value);return N?N.label:"*.*"}return`*.${W.map(N=>N.value).join(", *.")}`}),b=()=>{const{storeData:D}=e;Object.assign(D,{filename:"",sheetName:"",type:""})},E=()=>{const{storeData:D,defaultOptions:I}=e;l.readFile(I).then(W=>{const{file:N}=W;Object.assign(D,R$(N),{file:N})}).catch(W=>W)},y=()=>{ge(()=>{const D=d.value;D&&D.focus()})},p=()=>{const{storeData:D}=e;D.visible=!1},g=()=>{const{storeData:D,defaultOptions:I}=e,W=a.value;i.loading=!0,l.importByFile(D.file,Object.assign({},W,I)).then(()=>{i.loading=!1,D.visible=!1}).catch(()=>{i.loading=!1})},O=()=>{const D=l.xeGrid,I=l.xeGantt,{defaultOptions:W,storeData:N}=e,Y=s.value,L=h.value,F=c.value,M=W.slots||{},q=M.top,V=M.bottom,j=M.default,U=M.footer;return t?m(t,{id:"VXE_IMPORT_MODAL",modelValue:N.visible,title:Fl("vxe.import.impTitle"),className:"vxe-table-export-popup-wrapper",width:540,minWidth:360,minHeight:240,mask:!0,lockView:!0,showFooter:!0,escClosable:!0,maskClosable:!0,showMaximize:!0,resize:!0,loading:i.loading,"onUpdate:modelValue"(z){N.visible=z},onShow:y},{default:()=>{const z={$table:l,$grid:D,$gantt:I,options:W,params:W.params};return m("div",{class:"vxe-table-export--panel"},[q?m("div",{class:"vxe-table-export--panel-top"},l.callSlot(q,z)):Ht(),m("div",{class:"vxe-table-export--panel-body"},j?l.callSlot(j,z):[m("table",{class:"vxe-table-export--panel-table",cellspacing:0,cellpadding:0,border:0},[m("tbody",[m("tr",[m("td",Fl("vxe.import.impFile")),m("td",[L?m("div",{class:"vxe-table-export--selected--file",title:Y},[m("span",Y),m("i",{class:P_().INPUT_CLEAR,onClick:b})]):m("button",{ref:d,class:"vxe-table-export--select--file",onClick:E},Fl("vxe.import.impSelect"))])]),m("tr",[m("td",Fl("vxe.import.impType")),m("td",F)]),m("tr",[m("td",Fl("vxe.import.impMode")),m("td",[n?m(n,{modelValue:W.mode,options:N.modeList,"onUpdate:modelValue"(k){W.mode=k}}):Ht()])])])])]),V?m("div",{class:"vxe-table-export--panel-bottom"},l.callSlot(V,z)):Ht()])},footer(){const z={$table:l,$grid:D,$gantt:I,options:W,params:W.params};return m("div",{class:"vxe-table-export--panel-footer"},U?l.callSlot(U,z):[m("div",{class:"vxe-table-export--panel-btns"},[r?m(r,{content:Fl("vxe.import.impCancel"),onClick:p}):Ht(),r?m(r,{status:"primary",disabled:!L||i.loading,content:Fl("vxe.import.impConfirm"),onClick:g}):Ht()])])}}):Ht()};return ge(()=>{t||At("vxe.error.reqComp",["vxe-modal"]),r||At("vxe.error.reqComp",["vxe-button"]),n||At("vxe.error.reqComp",["vxe-select"])}),O}}),{getI18n:en,getIcon:ti}=Se,L_=Bo({name:"VxeTableExportPanel",props:{defaultOptions:Object,storeData:Object},setup(e){const t=Se.getComponent("VxeModal"),r=Se.getComponent("VxeButton"),n=Se.getComponent("VxeSelect"),l=Se.getComponent("VxeInput"),a=Se.getComponent("VxeCheckbox"),i=mr("$xeTable",{}),{computeExportOpts:d,computePrintOpts:s}=i.getComputeMaps(),h=rn({isAll:!1,isIndeterminate:!1,loading:!1}),c=mt(),b=mt(),E=mt(),y=ue(()=>{const{storeData:U}=e;return U.columns.every(z=>z.checked)}),p=ue(()=>{const{defaultOptions:U}=e;return["html","xml","xlsx","pdf"].indexOf(U.type)>-1}),g=ue(()=>{const{storeData:U,defaultOptions:z}=e;return!z.original&&z.mode==="current"&&(U.isPrint||["html","xlsx"].indexOf(z.type)>-1)}),O=ue(()=>{const{defaultOptions:U}=e;return!U.original&&["xlsx"].indexOf(U.type)>-1}),D=U=>{const{storeData:z}=e,k=u.findTree(z.columns,ne=>ne===U);if(k&&k.parent){const{parent:ne}=k;ne.children&&ne.children.length&&(ne.checked=ne.children.every(fe=>fe.checked),ne.halfChecked=!ne.checked&&ne.children.some(fe=>fe.checked||fe.halfChecked),D(ne))}},I=()=>{const{storeData:U}=e,z=U.columns;h.isAll=z.every(k=>k.disabled||k.checked),h.isIndeterminate=!h.isAll&&z.some(k=>!k.disabled&&(k.checked||k.halfChecked))},W=U=>{const z=!U.checked;u.eachTree([U],k=>{k.checked=z,k.halfChecked=!1}),D(U),I()},N=()=>{const{storeData:U}=e,z=!h.isAll;u.eachTree(U.columns,k=>{k.disabled||(k.checked=z,k.halfChecked=!1)}),h.isAll=z,I()},Y=()=>{ge(()=>{const U=b.value,z=E.value,k=c.value,ne=U||z||k;ne&&ne.focus()}),I()},L=()=>{const{storeData:U,defaultOptions:z}=e,{hasMerge:k,columns:ne}=U,fe=y.value,G=g.value,J=u.searchTree(ne,we=>we.checked,{children:"children",mapChildren:"childNodes",original:!0});return Object.assign({},z,{columns:J,isMerge:k&&G&&fe?z.isMerge:!1})},F=()=>{const{storeData:U}=e,z=s.value;U.visible=!1,i.print(Object.assign({},z,L()))},M=()=>{const{storeData:U}=e,z=d.value;h.loading=!0,i.exportData(Object.assign({},z,L())).then(()=>{h.loading=!1,U.visible=!1}).catch(()=>{h.loading=!1})},q=()=>{const{storeData:U}=e;U.visible=!1},V=()=>{const{storeData:U}=e;U.isPrint?F():M()},j=()=>{const U=i.xeGrid,z=i.xeGantt,{defaultOptions:k,storeData:ne}=e,{isAll:fe,isIndeterminate:G}=h,{hasTree:J,hasMerge:we,isPrint:se,hasColgroup:re,columns:ve}=ne,{isHeader:Ee}=k,Re=[],Pe=y.value,le=p.value,Xe=g.value,me=O.value,Te=k.slots||{},Ae=Te.top,tt=Te.bottom,Ue=Te.default,ut=Te.footer,_e=Te.parameter;return u.eachTree(ve,te=>{const $e=Rn(te.getTitle(),1),ce=te.children&&te.children.length,Le=te.checked,nt=te.halfChecked,et=te.type==="html";Re.push(m("li",{key:te.id,class:["vxe-table-export--panel-column-option",`level--${te.level}`,{"is--group":ce,"is--checked":Le,"is--indeterminate":nt,"is--disabled":te.disabled}],title:et?"":$e,onClick:()=>{te.disabled||W(te)}},[m("span",{class:["vxe-checkbox--icon",nt?ti().TABLE_CHECKBOX_INDETERMINATE:Le?ti().TABLE_CHECKBOX_CHECKED:ti().TABLE_CHECKBOX_UNCHECKED]}),et?m("span",{key:"1",class:"vxe-checkbox--label",innerHTML:$e}):m("span",{key:"0",class:"vxe-checkbox--label"},$e)]))}),t?m(t,{id:"VXE_EXPORT_MODAL",modelValue:ne.visible,title:en(se?"vxe.export.printTitle":"vxe.export.expTitle"),className:"vxe-table-export-popup-wrapper",width:660,minWidth:500,minHeight:400,mask:!0,lockView:!0,showFooter:!0,escClosable:!0,maskClosable:!0,showMaximize:!0,resize:!0,loading:h.loading,"onUpdate:modelValue"(te){ne.visible=te},onShow:Y},{default:()=>{const te={$table:i,$grid:U,$gantt:z,options:k,columns:ve,params:k.params},$e=k.mode==="empty";return m("div",{class:"vxe-table-export--panel"},[Ae?m("div",{class:"vxe-table-export--panel-top"},i.callSlot(Ae,te)):Ht(),m("div",{class:"vxe-table-export--panel-body"},Ue?i.callSlot(Ue,te):[m("table",{class:"vxe-table-export--panel-table",cellspacing:0,cellpadding:0,border:0},[m("tbody",[[se?Ht():m("tr",[m("td",en("vxe.export.expName")),m("td",[l?m(l,{ref:b,modelValue:k.filename,type:"text",clearable:!0,placeholder:en("vxe.export.expNamePlaceholder"),"onUpdate:modelValue"(ce){k.filename=ce}}):Ht()])]),se?Ht():m("tr",[m("td",en("vxe.export.expType")),m("td",[n?m(n,{modelValue:k.type,options:ne.typeList,"onUpdate:modelValue"(ce){k.type=ce}}):Ht()])]),se||le?m("tr",[m("td",en("vxe.export.expSheetName")),m("td",[l?m(l,{ref:E,modelValue:k.sheetName,type:"text",clearable:!0,placeholder:en("vxe.export.expSheetNamePlaceholder"),"onUpdate:modelValue"(ce){k.sheetName=ce}}):Ht()])]):Ht(),m("tr",[m("td",en("vxe.export.expMode")),m("td",[n?m(n,{modelValue:k.mode,options:ne.modeList.map(ce=>({value:ce.value,label:en(ce.label)})),"onUpdate:modelValue"(ce){k.mode=ce}}):Ht()])]),m("tr",[m("td",[en("vxe.export.expColumn")]),m("td",[m("div",{class:"vxe-table-export--panel-column"},[m("ul",{class:"vxe-table-export--panel-column-header"},[m("li",{class:["vxe-table-export--panel-column-option",{"is--checked":fe,"is--indeterminate":G}],title:en("vxe.table.allTitle"),onClick:N},[m("span",{class:["vxe-checkbox--icon",G?ti().TABLE_CHECKBOX_INDETERMINATE:fe?ti().TABLE_CHECKBOX_CHECKED:ti().TABLE_CHECKBOX_UNCHECKED]}),m("span",{class:"vxe-checkbox--label"},en("vxe.export.expCurrentColumn"))])]),m("ul",{class:"vxe-table-export--panel-column-body"},Re)])])]),m("tr",[m("td",en("vxe.export.expOpts")),_e?m("td",[m("div",{class:"vxe-table-export--panel-option-row"},i.callSlot(_e,te))]):m("td",[m("div",{class:"vxe-table-export--panel-option-row"},[a?m(a,{modelValue:$e||Ee,disabled:$e,title:en("vxe.export.expHeaderTitle"),content:en("vxe.export.expOptHeader"),"onUpdate:modelValue"(ce){k.isHeader=ce}}):Ht(),a?m(a,{modelValue:Ee?k.isTitle:!1,disabled:!Ee,title:en("vxe.export.expTitleTitle"),content:en("vxe.export.expOptTitle"),"onUpdate:modelValue"(ce){k.isTitle=ce}}):Ht(),a?m(a,{modelValue:Ee&&re&&Xe?k.isColgroup:!1,title:en("vxe.export.expColgroupTitle"),disabled:!Ee||!re||!Xe,content:en("vxe.export.expOptColgroup"),"onUpdate:modelValue"(ce){k.isColgroup=ce}}):Ht()]),m("div",{class:"vxe-table-export--panel-option-row"},[a?m(a,{modelValue:$e?!1:k.original,disabled:$e,title:en("vxe.export.expOriginalTitle"),content:en("vxe.export.expOptOriginal"),"onUpdate:modelValue"(ce){k.original=ce}}):Ht(),a?m(a,{modelValue:we&&Xe&&Pe?k.isMerge:!1,title:en("vxe.export.expMergeTitle"),disabled:$e||!we||!Xe||!Pe,content:en("vxe.export.expOptMerge"),"onUpdate:modelValue"(ce){k.isMerge=ce}}):Ht(),se||!a?Ht():m(a,{modelValue:me?k.useStyle:!1,disabled:!me,title:en("vxe.export.expUseStyleTitle"),content:en("vxe.export.expOptUseStyle"),"onUpdate:modelValue"(ce){k.useStyle=ce}}),a?m(a,{modelValue:J?k.isAllExpand:!1,disabled:$e||!J,title:en("vxe.export.expAllExpandTitle"),content:en("vxe.export.expOptAllExpand"),"onUpdate:modelValue"(ce){k.isAllExpand=ce}}):Ht()]),m("div",{class:"vxe-table-export--panel-option-row"},[a?m(a,{modelValue:k.isFooter,disabled:!ne.hasFooter,title:en("vxe.export.expFooterTitle"),content:en("vxe.export.expOptFooter"),"onUpdate:modelValue"(ce){k.isFooter=ce}}):Ht()])])])]])])]),tt?m("div",{class:"vxe-table-export--panel-bottom"},i.callSlot(tt,te)):Ht()])},footer(){const te={$table:i,$grid:U,$gantt:z,options:k,columns:ve,params:k.params};return m("div",{class:"vxe-table-export--panel-footer"},ut?i.callSlot(ut,te):[m("div",{class:"vxe-table-export--panel-btns"},[r?m(r,{content:en("vxe.export.expCancel"),onClick:q}):Ht(),r?m(r,{ref:c,status:"primary",content:en(se?"vxe.export.expPrint":"vxe.export.expConfirm"),onClick:V}):Ht()])])}}):Ht()};return ge(()=>{t||At("vxe.error.reqComp",["vxe-modal"]),r||At("vxe.error.reqComp",["vxe-button"]),n||At("vxe.error.reqComp",["vxe-select"]),l||At("vxe.error.reqComp",["vxe-input"]),a||At("vxe.error.reqComp",["vxe-checkbox"])}),j}}),{getIcon:N_}=Se,__=Bo({name:"VxeTableMenuPanel",setup(e,t){const r=u.uniqueId(),n=mr("$xeTable",{}),{reactData:l}=n,a=mt(),i={refElem:a},d={xID:r,props:e,context:t,getRefMaps:()=>i},s=()=>{const{ctxMenuStore:h}=l,{computeMenuOpts:c}=n.getComputeMaps(),b=c.value;return m(Bl,{to:"body",disabled:!1},[m("div",{ref:a,class:["vxe-table--context-menu-wrapper",b.className,{"is--visible":h.visible}],style:h.style},h.list.map((E,y)=>E.every(p=>p.visible===!1)?Ht():m("ul",{class:"vxe-context-menu--option-wrapper",key:y},E.map((p,g)=>{const O=p.children&&p.children.some(N=>N.visible!==!1),D=Object.assign({},p.prefixConfig),I=Object.assign({},p.suffixConfig),W=$a(p.name);return p.visible===!1?null:m("li",{class:[p.className,{"link--disabled":p.disabled,"link--active":p===h.selected}],key:`${y}_${g}`},[m("a",{class:"vxe-context-menu--link",onClick(N){n.ctxMenuLinkEvent(N,p)},onMouseover(N){n.ctxMenuMouseoverEvent(N,p)},onMouseout(N){n.ctxMenuMouseoutEvent(N,p)}},[m("div",{class:["vxe-context-menu--link-prefix",D.className||""]},[m("i",{class:D.icon||p.prefixIcon}),D.content?m("span",{},`${D.content}`):Ht()]),m("div",{class:"vxe-context-menu--link-content",title:W},W),m("div",{class:["vxe-context-menu--link-suffix",I.className||""]},[m("i",{class:I.icon||p.suffixIcon||(O?N_().TABLE_MENU_OPTIONS:"")}),I.content?m("span",`${I.content}`):Ht()])]),O?m("ul",{class:["vxe-table--context-menu-clild-wrapper",{"is--show":p===h.selected&&h.showChild}]},p.children.map((N,Y)=>{const L=Object.assign({},N.prefixConfig),F=Object.assign({},N.suffixConfig),M=$a(N.name);return N.visible===!1?null:m("li",{class:[N.className,{"link--disabled":N.disabled,"link--active":N===h.selectChild}],key:`${y}_${g}_${Y}`},[m("a",{class:"vxe-context-menu--link",onClick(q){n.ctxMenuLinkEvent(q,N)},onMouseover(q){n.ctxMenuMouseoverEvent(q,p,N)},onMouseout(q){n.ctxMenuMouseoutEvent(q,p)}},[m("div",{class:["vxe-context-menu--link-prefix",L.className||""]},[m("i",{class:L.icon||N.prefixIcon}),L.content?m("span",`${L.content}`):Ht()]),m("div",{class:"vxe-context-menu--link-content",title:M},M),m("div",{class:["vxe-context-menu--link-suffix",F.className||""]},[m("i",{class:F.icon}),F.content?m("span",`${F.content}`):Ht()])])])})):null])}))))])};return d.renderVN=s,d},render(){return this.renderVN()}}),{renderer:q_,hooks:H_}=Se,$T=["openFilter","setFilter","clearFilter","saveFilterPanel","saveFilterPanelByEvent","resetFilterPanel","resetFilterPanelByEvent","getCheckedFilters","updateFilterOptionStatus"];H_.add("tableFilterModule",{setupTable(e){const{props:t,reactData:r,internalData:n}=e,{refElem:l,refTableFilter:a}=e.getRefMaps(),{computeFilterOpts:i,computeMouseOpts:d}=e.getComputeMaps(),s=p=>{const{filterStore:g}=r;g.options.forEach(O=>{O.checked=O._checked}),e.confirmFilterEvent(p)},h=(p,g,O)=>{const{filterStore:D}=r;D.options.forEach(I=>{I._checked=!1}),O._checked=g,e.checkFilterOptions(),s(p)},c=(p,g,O)=>{O._checked=g,e.checkFilterOptions()},b=p=>{const{filterStore:g}=r;e.handleClearFilter(g.column),e.confirmFilterEvent(p),p&&e.dispatchEvent("clear-filter",{filterList:[]},p)},E={checkFilterOptions(){const{filterStore:p}=r;p.isAllSelected=p.options.every(g=>g._checked),p.isIndeterminate=!p.isAllSelected&&p.options.some(g=>g._checked)},triggerFilterEvent(p,g,O){const{initStore:D,filterStore:I}=r,{elemStore:W}=n;if(I.column===g&&I.visible)I.visible=!1;else{const N=l.value,{scrollTop:Y,scrollLeft:L,visibleHeight:F,visibleWidth:M}=au(),q=i.value,{transfer:V}=q,j=N.getBoundingClientRect(),U=p.currentTarget;e.handleFilterOptions(g),n._currFilterParams=O,I.style=null,I.visible=!0,D.filter=!0,ge(()=>{if(!nr(W["main-header-scroll"]))return;const k=a.value,ne=k?k.getRefMaps().refElem.value:null;if(!ne)return;const fe=U.getBoundingClientRect(),G=ne.querySelector(".vxe-table--filter-header"),J=ne.querySelector(".vxe-table--filter-footer"),we=ne.offsetWidth,se=we/2;let re=0,ve=0,Ee=0;V?(re=fe.left-se+L,ve=fe.top+U.clientHeight+Y,Ee=Math.min(Math.max(j.height,Math.floor(F/2)),Math.max(80,F-ve-(G?G.clientHeight:0)-(J?J.clientHeight:0)-28)),re<16?re=16:re>M-we-16&&(re=M-we-16)):(re=fe.left-j.left-se,ve=fe.top-j.top+U.clientHeight,Ee=Math.max(40,N.clientHeight-ve-(G?G.clientHeight:0)-(J?J.clientHeight:0)-14),re<1?re=1:re>N.clientWidth-we-1&&(re=N.clientWidth-we-1)),I.style={top:Ss(ve),left:Ss(re)},I.maxHeight=Ee})}e.dispatchEvent("filter-visible",{column:g,field:g.field,property:g.field,filterList:e.getCheckedFilters(),visible:I.visible},p)},handleClearFilter(p){if(p){const{filters:g,filterRender:O}=p;if(g){const D=pr(O)?q_.get(O.name):null,I=p.filterResetMethod||(D?D.tableFilterResetMethod||D.filterResetMethod:null);g.forEach(W=>{W._checked=!1,W.checked=!1,I||(W.data=u.clone(W.resetValue,!0))}),I&&I({options:g,column:p,$table:e})}}},handleColumnConfirmFilter(p,g){const{mouseConfig:O}=t,{scrollXLoad:D,scrollYLoad:I}=r,W=i.value,N=d.value,{field:Y}=p,L=[],F=[];p.filters.forEach(V=>{V.checked&&(L.push(V.value),F.push(V.data))});const M=e.getCheckedFilters(),q={$table:e,$event:g,column:p,field:Y,property:Y,values:L,datas:F,filters:M,filterList:M};return W.remote||(e.handleTableData(!0),e.checkSelectionStatus()),O&&N.area&&e.handleFilterEvent&&e.handleFilterEvent(g,q),g&&e.dispatchEvent("filter-change",q,g),e.closeFilter(),e.updateFooter().then(()=>{const{scrollXLoad:V,scrollYLoad:j}=r;if(D||V||I||j)return(D||V)&&e.updateScrollXSpace(),(I||j)&&e.updateScrollYSpace(),e.refreshScroll()}).then(()=>(e.updateCellAreas(),e.recalculate(!0))).then(()=>{setTimeout(()=>e.recalculate(),50)})},confirmFilterEvent(p){const{filterStore:g}=r,{column:O}=g;e.handleColumnConfirmFilter(O,p)},handleFilterChangeRadioOption:h,handleFilterChangeMultipleOption:c,handleFilterChangeOption(p,g,O){const{filterStore:D}=r;D.multiple?c(p,g,O):h(p,g,O)},handleFilterConfirmFilter:s,handleFilterResetFilter:b};return Object.assign(Object.assign({},{openFilter(p){const g=un(e,p);if(g&&g.filters){const{elemStore:O}=n,{fixed:D}=g;return e.scrollToColumn(g).then(()=>{const I=nr(O[`${D||"main"}-header-wrapper`]||O["main-header-wrapper"]);if(I){const W=I.querySelector(`.vxe-header--column.${g.id} .vxe-cell--filter`);r_(W,"click")}})}return ge()},setFilter(p,g,O){const{filterStore:D}=r,I=un(e,p);if(I&&I.filters){if(I.filters=rC(g||[]),O)return e.handleColumnConfirmFilter(I,null);D.visible&&e.handleFilterOptions(I)}return ge()},clearFilter(p){const{filterStore:g}=r,{tableFullColumn:O}=n,D=i.value;let I;return p?(I=un(e,p),I&&e.handleClearFilter(I)):O.forEach(e.handleClearFilter),(!p||I!==g.column)&&Object.assign(g,{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1}),D.remote?ge():e.updateData()},saveFilterPanel(){return s(null),ge()},saveFilterPanelByEvent(p){return s(p),ge()},resetFilterPanel(){return b(null),ge()},resetFilterPanelByEvent(p){return b(p),ge()},getCheckedFilters(){const{tableFullColumn:p}=n,g=[];return p.forEach(O=>{const{field:D,filters:I}=O,W=[],N=[];I&&I.length&&(I.forEach(Y=>{Y.checked&&(W.push(Y.value),N.push(Y.data))}),W.length&&g.push({column:O,field:D,property:D,values:W,datas:N}))}),g},updateFilterOptionStatus(p,g){return p._checked=g,p.checked=g,ge()}}),E)},setupGrid(e){return e.extendTableMethods($T)},setupGantt(e){return e.extendTableMethods($T)}});const{menus:B_,hooks:V_,globalEvents:lc,GLOBAL_EVENT_KEYS:ic}=Se,AT=["closeMenu"];V_.add("tableMenuModule",{setupTable(e){const{xID:t,props:r,reactData:n,internalData:l}=e,{refElem:a,refTableFilter:i,refTableMenu:d}=e.getRefMaps(),{computeMouseOpts:s,computeIsContentMenu:h,computeMenuOpts:c}=e.getComputeMaps();let b={},E={};const y=(p,g,O)=>{const{ctxMenuStore:D}=n,I=h.value,W=c.value,N=W[g],Y=W.visibleMethod;if(N){const{options:L,disabled:F}=N;F?p.preventDefault():I&&L&&L.length&&(O.options=L,e.preventEvent(p,"event.showMenu",O,()=>{if(!Y||Y(O)){p.preventDefault(),e.updateZindex();const{scrollTop:M,scrollLeft:q,visibleHeight:V,visibleWidth:j}=au();let U=p.clientY+M,z=p.clientX+q;const k=()=>{l._currMenuParams=O,Object.assign(D,{visible:!0,list:L,selected:null,selectChild:null,showChild:!1,style:{zIndex:l.tZindex,top:`${U}px`,left:`${z}px`}}),ge(()=>{const we=d.value.getRefMaps().refElem.value,se=we.clientHeight,re=we.clientWidth,{boundingTop:ve,boundingLeft:Ee}=Rc(we),Re=ve+se-V,Pe=Ee+re-j;Re>-10&&(D.style.top=`${Math.max(M+2,U-se-2)}px`),Pe>-10&&(D.style.left=`${Math.max(q+2,z-re-2)}px`)})},{keyboard:ne,row:fe,column:G}=O;ne&&fe&&G?e.scrollToRow(fe,G).then(()=>{const J=e.getCellElement(fe,G);if(J){const{boundingTop:we,boundingLeft:se}=Rc(J);U=we+M+Math.floor(J.offsetHeight/2),z=se+q+Math.floor(J.offsetWidth/2)}k()}):k()}else b.closeMenu()}))}e.closeFilter()};return b={closeMenu(){return Object.assign(n.ctxMenuStore,{visible:!1,selected:null,selectChild:null,showChild:!1}),ge()}},E={moveCtxMenu(p,g,O,D,I,W){let N;const Y=u.findIndexOf(W,L=>g[O]===L);if(D)I&&fi(g.selected)?g.showChild=!0:(g.showChild=!1,g.selectChild=null);else if(lc.hasKey(p,ic.ARROW_UP)){for(let L=Y-1;L>=0;L--)if(W[L].visible!==!1){N=W[L];break}g[O]=N||W[W.length-1]}else if(lc.hasKey(p,ic.ARROW_DOWN)){for(let L=Y+1;L<W.length;L++)if(W[L].visible!==!1){N=W[L];break}g[O]=N||W[0]}else g[O]&&(lc.hasKey(p,ic.ENTER)||lc.hasKey(p,ic.SPACEBAR))&&e.ctxMenuLinkEvent(p,g[O])},handleOpenMenuEvent:y,handleGlobalContextmenuEvent(p){const g=e.xeGrid,O=e.xeGantt,{mouseConfig:D,menuConfig:I}=r,{editStore:W,ctxMenuStore:N}=n,{visibleColumn:Y}=l,L=i.value,F=d.value,M=s.value,q=c.value,V=a.value,{selected:j}=W,U=["header","body","footer"];if(pr(I)){if(N.visible&&F&&$r(p,F.getRefMaps().refElem.value).flag){p.preventDefault();return}if(l._keyCtx){const z="body",k={type:z,$table:e,$grid:g,$gantt:O,keyboard:!0,columns:Y.slice(0),$event:p};if(D&&M.area){const ne=e.getActiveCellArea();if(ne&&ne.row&&ne.column){k.row=ne.row,k.column=ne.column,y(p,z,k);return}}else if(D&&M.selected&&j.row&&j.column){k.row=j.row,k.column=j.column,y(p,z,k);return}}for(let z=0;z<U.length;z++){const k=U[z],ne=$r(p,V,`vxe-${k}--column`,G=>G.parentNode.parentNode.parentNode.getAttribute("xid")===t),fe={type:k,$table:e,$grid:g,$gantt:O,columns:Y.slice(0),$event:p};if(ne.flag){const G=ne.targetElem,J=e.getColumnNode(G),we=J?J.item:null;let se=`${k}-`;if(we&&Object.assign(fe,{column:we,columnIndex:e.getColumnIndex(we),cell:G}),k==="body"){const ve=e.getRowNode(G.parentNode),Ee=ve?ve.item:null;se="",Ee&&(fe.row=Ee,fe.rowIndex=e.getRowIndex(Ee))}const re=`${se}cell-menu`;y(p,k,fe),e.dispatchEvent(re,fe,p);return}else if($r(p,V,`vxe-table--${k}-wrapper`,G=>G.getAttribute("xid")===t).flag){q.trigger==="cell"?p.preventDefault():y(p,k,fe);return}}}L&&!$r(p,L.getRefMaps().refElem.value).flag&&e.closeFilter(),b.closeMenu()},ctxMenuMouseoverEvent(p,g,O){const D=p.currentTarget,{ctxMenuStore:I}=n;p.preventDefault(),p.stopPropagation(),I.selected=g,I.selectChild=O,O||(I.showChild=fi(g),I.showChild&&ge(()=>{const W=D.nextElementSibling;if(W){const{boundingTop:N,boundingLeft:Y,visibleHeight:L,visibleWidth:F}=Rc(D),M=N+D.offsetHeight,q=Y+D.offsetWidth;let V="",j="";q+W.offsetWidth>F-10&&(V="auto",j=`${D.offsetWidth}px`);let U="",z="";M+W.offsetHeight>L-10&&(U="auto",z="0"),W.style.left=V,W.style.right=j,W.style.top=U,W.style.bottom=z}}))},ctxMenuMouseoutEvent(p,g){const{ctxMenuStore:O}=n;g.children||(O.selected=null),O.selectChild=null},ctxMenuLinkEvent(p,g){const O=e.xeGrid,D=e.xeGantt;if(!g.disabled&&(g.code||!g.children||!g.children.length)){const I=B_.get(g.code),W=Object.assign({},l._currMenuParams,{menu:g,$table:e,$grid:O,$gantt:D,$event:p}),N=I?I.tableMenuMethod||I.menuMethod:null;N&&N(W,p),e.dispatchEvent("menu-click",W,p),b.closeMenu()}}},Object.assign(Object.assign({},b),E)},setupGrid(e){return e.extendTableMethods(AT)},setupGantt(e){return e.extendTableMethods(AT)}});const{getConfig:z_,renderer:G_,hooks:W_,getI18n:za}=Se,PT=["insert","insertAt","insertNextAt","insertChild","insertChildAt","insertChildNextAt","remove","removeCheckboxRow","removeRadioRow","removeCurrentRow","getRecordset","getInsertRecords","getRemoveRecords","getUpdateRecords","getEditRecord","getActiveRecord","getEditCell","getSelectedCell","clearEdit","clearActived","clearSelected","isEditByRow","isActiveByRow","setEditRow","setActiveRow","setEditCell","setActiveCell","setSelectCell"];W_.add("tableEditModule",{setupTable(e){const{props:t,reactData:r,internalData:n}=e,{refElem:l}=e.getRefMaps(),{computeMouseOpts:a,computeEditOpts:i,computeCheckboxOpts:d,computeTreeOpts:s,computeValidOpts:h}=e.getComputeMaps(),c=u.browse();let b={},E={};const y=(F,M)=>{const{model:q,editRender:V}=M;V&&(q.value=yn(F,M),q.update=!1)},p=(F,M)=>{const{model:q,editRender:V}=M;V&&q.update&&(ca(F,M,q.value),q.update=!1,q.value=null)},g=()=>{const F=l.value;if(F){const M=F.querySelector(".col--selected");M&&Wn(M,"col--selected")}},O=()=>{const{editStore:F,tableColumn:M}=r,q=i.value,{actived:V}=F,{row:j,column:U}=V;(j||U)&&(q.mode==="row"?M.forEach(z=>p(j,z)):p(j,U))},D=(F,M)=>{const{tableFullTreeData:q,afterFullData:V,fullDataRowIdData:j,fullAllDataRowIdData:U}=n,z=s.value,{rowField:k,parentField:ne,mapChildrenField:fe}=z,G=z.children||z.childrenField,J=M?"push":"unshift";F.forEach(we=>{const se=we[ne],re=It(e,we),ve=se?u.findTree(q,Ee=>se===Ee[k],{children:fe}):null;if(ve){const{item:Ee}=ve,Re=U[It(e,Ee)],Pe=Re?Re.level:0;let le=Ee[G],Xe=Ee[fe];u.isArray(le)||(le=Ee[G]=[]),u.isArray(Xe)||(Xe=Ee[G]=[]),le[J](we),Xe[J](we);const me={row:we,rowid:re,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,_tIndex:-1,items:le,parent:Ee,level:Pe+1,height:0,resizeHeight:0,oTop:0,expandHeight:0};j[re]=me,U[re]=me}else{se&&Zt("vxe.error.unableInsert"),V[J](we),q[J](we);const Ee={row:we,rowid:re,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,_tIndex:-1,items:q,parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};j[re]=Ee,U[re]=Ee}})},I=(F,M,q)=>{const{treeConfig:V}=t,{isRowGroupStatus:j}=r,{tableFullTreeData:U,afterFullData:z,mergeBodyList:k,tableFullData:ne,fullDataRowIdData:fe,fullAllDataRowIdData:G,insertRowMaps:J,removeRowMaps:we}=n,se=s.value,{transform:re,parentField:ve,rowField:Ee,mapChildrenField:Re}=se,Pe=se.children||se.childrenField;u.isArray(F)||(F=[F]);const le=rn(e.defineField(F.map(Te=>Object.assign(V&&re?{[Re]:[],[Pe]:[]}:{},Te))));let Xe=[];if(V&&re&&(Xe=u.toArrayTree(le,{key:Ee,parentKey:ve,children:Pe})),u.eqNull(M))if(V&&re)D(le,!1);else if(j){if(V)throw new Error(za("vxe.error.noTree",["insert"]));Zt(za("vxe.error.noGroup",["remove"]))}else le.forEach(Te=>{const Ae=It(e,Te),tt={row:Te,rowid:Ae,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,_tIndex:-1,items:z,parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};fe[Ae]=tt,G[Ae]=tt,z.unshift(Te),ne.unshift(Te)}),k.forEach(Te=>{const{row:Ae}=Te;Ae>=0&&(Te.row=Ae+le.length)});else if(M===-1)if(V&&re)D(le,!0);else if(j){if(V)throw new Error(za("vxe.error.noTree",["insert"]));Zt(za("vxe.error.noGroup",["remove"]))}else le.forEach(Te=>{const Ae=It(e,Te),tt={row:Te,rowid:Ae,seq:-1,index:-1,_index:-1,treeIndex:-1,_tIndex:-1,$index:-1,items:z,parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};fe[Ae]=tt,G[Ae]=tt,z.push(Te),ne.push(Te)});else if(V&&re){const Te=u.findTree(U,Ae=>M[Ee]===Ae[Ee],{children:Re});if(Te){const{parent:Ae}=Te,tt=Ae?Ae[Re]:U,Ue=G[It(e,Ae)],ut=Ue?Ue.level:0;if(Xe.forEach((_e,te)=>{Ae?_e[ve]!==Ae[Ee]&&(_e[ve]=Ae[Ee],At("vxe.error.errProp",[`${ve}=${_e[ve]}`,`${ve}=${Ae[Ee]}`])):_e[ve]!==null&&(_e[ve]=null,At("vxe.error.errProp",[`${ve}=${_e[ve]}`,"null"]));let $e=Te.index+te;q&&($e=$e+1),tt.splice($e,0,_e)}),u.eachTree(Xe,_e=>{const te=It(e,_e),$e={row:_e,rowid:te,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,_tIndex:-1,items:tt,parent:Ae,level:ut+1,height:0,resizeHeight:0,oTop:0,expandHeight:0};_e[Pe]&&(_e[Re]=_e[Pe]),fe[te]=$e,G[te]=$e},{children:Pe}),Ae){const _e=u.findTree(U,te=>M[Ee]===te[Ee],{children:Pe});if(_e){const te=_e.items;let $e=_e.index;q&&($e=$e+1),te.splice($e,0,...Xe)}}}else Zt("vxe.error.unableInsert"),D(le,!0)}else if(j){if(V)throw new Error(za("vxe.error.noTree",["insert"]));Zt(za("vxe.error.noGroup",["remove"]))}else{if(V)throw new Error(za("vxe.error.noTree",["insert"]));let Te=-1;if(u.isNumber(M)?M<z.length&&(Te=M):Te=e.findRowIndexOf(z,M),q&&(Te=Math.min(z.length,Te+1)),Te===-1)throw new Error(za("vxe.error.unableInsert"));z.splice(Te,0,...le);const Ae=e.findRowIndexOf(ne,M);Ae>-1?ne.splice(Ae+(q?1:0),0,...le):ne.push(...le),k.forEach(tt=>{const{row:Ue,rowspan:ut}=tt;Ue>=Te?tt.row=Ue+le.length:(q?Ue+ut>=Te:Ue+ut>Te)&&(tt.rowspan=ut+le.length)})}const me=Te=>{const Ae=It(e,Te);we[Ae]?(delete we[Ae],J[Ae]&&delete J[Ae]):J[Ae]=Te};return V&&re?u.eachTree(Xe,me,{children:Re}):le.forEach(me),r.removeRowFlag++,r.insertRowFlag++,e.cacheRowMap(!1),e.updateScrollYStatus(),e.handleTableData(V&&re),V&&re||e.updateAfterDataIndex(),e.updateFooter(),e.handleUpdateBodyMerge(),e.checkSelectionStatus(),r.scrollYLoad&&e.updateScrollYSpace(),ge().then(()=>(e.updateCellAreas(),e.recalculate(!0))).then(()=>({row:le.length?le[le.length-1]:null,rows:le}))},W=(F,M,q,V)=>{const{treeConfig:j}=t,U=s.value,{transform:z,rowField:k,parentField:ne}=U;return j&&z?(u.isArray(F)||(F=[F]),I(F.map(fe=>Object.assign({},fe,{[ne]:M[k]})),q,V)):(At("vxe.error.errProp",["tree-config.transform=false","tree-config.transform=true"]),Promise.resolve({row:null,rows:[]}))},N=(F,M)=>{const{editStore:q}=r,{actived:V,focused:j}=q,{row:U,column:z}=V,k=h.value;if(U||z){if(M&&It(e,M)!==It(e,U))return ge();O(),V.args=null,V.row=null,V.column=null,e.updateFooter(),e.dispatchEvent("edit-closed",{row:U,rowIndex:e.getRowIndex(U),$rowIndex:e.getVMRowIndex(U),column:z,columnIndex:e.getColumnIndex(z),$columnIndex:e.getVMColumnIndex(z)},F||null)}return j.row=null,j.column=null,k.autoClear&&(k.msgMode!=="full"||z_().cellVaildMode==="obsolete")&&e.clearValidate?e.clearValidate():ge().then(()=>e.updateCellAreas())},Y=(F,M,q,V)=>{const j=e.xeGrid,U=e.xeGantt,{editConfig:z,mouseConfig:k}=t,{editStore:ne,tableColumn:fe}=r,G=i.value,{mode:J}=G,{actived:we,focused:se}=ne,{row:re,column:ve}=F,{editRender:Ee}=ve,Re=F.cell||e.getCellElement(re,ve),Pe=G.beforeEditMethod||G.activeMethod;if(F.cell=Re,Re&&pr(z)&&pr(Ee)&&!e.isPendingByRow(re)&&!e.isAggregateRecord(re)){if(we.row!==re||J==="cell"&&we.column!==ve){let le="edit-disabled";if(!Pe||Pe(Object.assign(Object.assign({},F),{$table:e,$grid:j,$gantt:U}))){k&&(e.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea())),e.closeTooltip(),we.column&&N(M),le="edit-activated",ve.renderHeight=Re.offsetHeight,we.args=F,we.row=re,we.column=ve,J==="row"?fe.forEach(me=>y(re,me)):y(re,ve);const Xe=G.afterEditMethod;ge(()=>{q&&e.handleFocus(F,M),Xe&&Xe(Object.assign(Object.assign({},F),{$table:e,$grid:j,$gantt:U}))})}e.dispatchEvent(le,{row:re,rowIndex:e.getRowIndex(re),$rowIndex:e.getVMRowIndex(re),column:ve,columnIndex:e.getColumnIndex(ve),$columnIndex:e.getVMColumnIndex(ve)},M),le==="edit-activated"&&e.dispatchEvent("edit-actived",{row:re,rowIndex:e.getRowIndex(re),$rowIndex:e.getVMRowIndex(re),column:ve,columnIndex:e.getColumnIndex(ve),$columnIndex:e.getVMColumnIndex(ve)},M)}else{const{column:le}=we;if(k&&(e.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea())),le!==ve){const{model:Xe}=le;Xe.update&&ca(re,le,Xe.value),e.clearValidate&&e.clearValidate(re,ve)}ve.renderHeight=Re.offsetHeight,we.args=F,we.column=ve,V&&setTimeout(()=>{e.handleFocus(F,M)})}se.column=null,se.row=null,e.focus()}return ge()},L=(F,M,q)=>{const{editConfig:V}=t,j=u.isString(M)?e.getColumnByField(M):M;return F&&j&&pr(V)&&pr(j.editRender)&&!e.isAggregateRecord(F)?Promise.resolve(q?e.scrollToRow(F,j):null).then(()=>{const U=e.getCellElement(F,j);return U&&(Y({row:F,rowIndex:e.getRowIndex(F),column:j,columnIndex:e.getColumnIndex(j),cell:U,$table:e},null,q,q),n._lastCallTime=Date.now()),ge()}):ge()};return b={insert(F){return I(F,null)},insertAt(F,M){return I(F,M)},insertNextAt(F,M){return I(F,M,!0)},insertChild(F,M){return W(F,M,null)},insertChildAt(F,M,q){return W(F,M,q)},insertChildNextAt(F,M,q){return W(F,M,q,!0)},remove(F){const{treeConfig:M}=t,{editStore:q,isRowGroupStatus:V}=r,{tableFullTreeData:j,selectCheckboxMaps:U,afterFullData:z,mergeBodyList:k,tableFullData:ne,pendingRowMaps:fe,insertRowMaps:G,removeRowMaps:J}=n,we=d.value,se=s.value,{transform:re,mapChildrenField:ve}=se,Ee=se.children||se.childrenField,{actived:Re}=q,{checkField:Pe}=we;let le=[];return F?u.isArray(F)||(F=[F]):F=ne,F.forEach(Xe=>{if(!e.isInsertByRow(Xe)){const me=It(e,Xe);J[me]=Xe}}),Pe||(F.forEach(Xe=>{const me=It(e,Xe);U[me]&&delete U[me]}),r.updateCheckboxFlag++),ne===F?(F=le=ne.slice(0),n.tableFullData=[],n.afterFullData=[],e.clearMergeCells()):M&&re?F.forEach(Xe=>{const me=It(e,Xe),Te=u.findTree(j,Ue=>me===It(e,Ue),{children:ve});if(Te){const Ue=Te.items.splice(Te.index,1);le.push(Ue[0])}const Ae=u.findTree(j,Ue=>me===It(e,Ue),{children:Ee});Ae&&Ae.items.splice(Ae.index,1);const tt=e.findRowIndexOf(z,Xe);tt>-1&&z.splice(tt,1)}):V?Zt(za("vxe.error.noGroup",["remove"])):F.forEach(Xe=>{const me=e.findRowIndexOf(ne,Xe);if(me>-1){const Ae=ne.splice(me,1);le.push(Ae[0])}const Te=e.findRowIndexOf(z,Xe);Te>-1&&(k.forEach(Ae=>{const{row:tt,rowspan:Ue}=Ae;tt>Te?Ae.row=tt-1:tt+Ue>Te&&(Ae.rowspan=Ue-1)}),z.splice(Te,1))}),Re.row&&e.findRowIndexOf(F,Re.row)>-1&&b.clearEdit(),F.forEach(Xe=>{const me=It(e,Xe);G[me]&&delete G[me],fe[me]&&delete fe[me]}),r.removeRowFlag++,r.insertRowFlag++,r.pendingRowFlag++,e.cacheRowMap(!1),e.handleTableData(M&&re),e.updateFooter(),e.handleUpdateBodyMerge(),M&&re||e.updateAfterDataIndex(),e.checkSelectionStatus(),r.scrollYLoad&&e.updateScrollYSpace(),ge().then(()=>(e.updateCellAreas(),e.recalculate(!0))).then(()=>({row:le.length?le[le.length-1]:null,rows:le}))},removeCheckboxRow(){return b.remove(e.getCheckboxRecords()).then(F=>(e.clearCheckboxRow(),F))},removeRadioRow(){const F=e.getRadioRecord();return b.remove(F||[]).then(M=>(e.clearRadioRow(),M))},removeCurrentRow(){const F=e.getCurrentRecord();return b.remove(F||[]).then(M=>(e.clearCurrentRow(),M))},getRecordset(){const F=b.getRemoveRecords(),M=e.getPendingRecords(),q=F.concat(M),V=b.getUpdateRecords().filter(j=>!q.some(U=>e.eqRow(U,j)));return{insertRecords:b.getInsertRecords(),removeRecords:F,updateRecords:V,pendingRecords:M}},getInsertRecords(){const{fullAllDataRowIdData:F,insertRowMaps:M}=n,q=[];return u.each(M,(V,j)=>{F[j]&&q.push(V)}),q},getRemoveRecords(){const{removeRowMaps:F}=n,M=[];return u.each(F,q=>{M.push(q)}),M},getUpdateRecords(){const{keepSource:F,treeConfig:M}=t,{tableFullData:q}=n,V=s.value;return F?(O(),M?u.filterTree(q,j=>e.isUpdateByRow(j),V):q.filter(j=>e.isUpdateByRow(j))):[]},getActiveRecord(){Zt("vxe.error.delFunc",["getActiveRecord","getEditCell"]);const{editStore:F}=r,{fullAllDataRowIdData:M}=n,{args:q,row:V}=F.actived;return q&&V&&M[It(e,V)]?Object.assign({},q,{row:V}):null},getEditRecord(){Zt("vxe.error.delFunc",["getEditRecord","getEditCell"]);const{editStore:F}=r,{fullAllDataRowIdData:M}=n,{args:q,row:V}=F.actived;return q&&V&&M[It(e,V)]?Object.assign({},q,{row:V}):null},getEditCell(){const{editStore:F}=r,{row:M,column:q}=F.actived;return q&&M?{row:M,rowIndex:e.getRowIndex(M),column:q,columnIndex:e.getColumnIndex(q)}:null},getSelectedCell(){const{editStore:F}=r,{row:M,column:q}=F.selected;return M&&q?{row:M,column:q}:null},clearActived(F){return Zt("vxe.error.delFunc",["clearActived","clearEdit"]),e.clearEdit(F)},clearEdit(F){return N(null,F)},clearSelected(){const{editStore:F}=r,{selected:M}=F;return M.row=null,M.column=null,g(),ge()},isActiveByRow(F){return Zt("vxe.error.delFunc",["isActiveByRow","isEditByRow"]),e.isEditByRow(F)},isEditByRow(F){const{editStore:M}=r;return M.actived.row===F},setActiveRow(F){return Zt("vxe.error.delFunc",["setActiveRow","setEditRow"]),b.setEditRow(F)},setEditRow(F,M){const{visibleColumn:q}=n;let V=u.find(q,U=>pr(U.editRender)),j=!1;return M&&(j=!0,M!==!0&&(V=u.isString(M)?e.getColumnByField(M):M)),L(F,V,j)},setActiveCell(F,M){return Zt("vxe.error.delFunc",["setActiveCell","setEditCell"]),b.setEditCell(F,M)},setEditCell(F,M){return L(F,M,!0)},setSelectCell(F,M){const{tableData:q}=r,V=i.value,j=u.isString(M)?e.getColumnByField(M):M;if(F&&j&&V.trigger!=="manual"){const U=e.findRowIndexOf(q,F);if(U>-1&&j){const z=e.getCellElement(F,j),k={row:F,rowIndex:U,column:j,columnIndex:e.getColumnIndex(j),cell:z};e.handleSelected(k,{})}}return ge()}},E={handleEdit(F,M){return Y(F,M,!0,!0)},handleActived(F,M){return E.handleEdit(F,M)},handleClearEdit:N,handleFocus(F){const{row:M,column:q,cell:V}=F,{editRender:j}=q,U=i.value;if(pr(j)){const z=G_.get(j.name);let k=j.autofocus||j.autoFocus,ne=j.autoSelect||j.autoselect,fe;if(U.autoFocus&&(!k&&z&&(k=z.tableAutoFocus||z.tableAutofocus||z.autofocus),!ne&&z&&(ne=z.tableAutoSelect||z.autoselect),u.isFunction(k)?fe=k(F):k&&(k===!0?fe=V.querySelector("input,textarea"):fe=V.querySelector(k),fe&&fe.focus())),fe){if(ne)fe.select();else if(c.msie){const G=fe.createTextRange();G.collapse(!1),G.select()}}else U.autoPos&&(q.fixed||e.scrollToRow(M,q))}},handleSelected(F,M){const{mouseConfig:q}=t,{editStore:V}=r,j=a.value,U=i.value,{actived:z,selected:k}=V,{row:ne,column:fe}=F,G=q&&j.selected;return G&&(k.row!==ne||k.column!==fe)&&(z.row!==ne||U.mode==="cell"&&z.column!==fe)&&(N(M),e.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea()),k.args=F,k.row=ne,k.column=fe,G&&E.addCellSelectedClass(),e.focus(),M&&e.dispatchEvent("cell-selected",F,M)),ge()},addCellSelectedClass(){const{editStore:F}=r,{selected:M}=F,{row:q,column:V}=M;if(g(),q&&V){const j=e.getCellElement(q,V);j&&Lo(j,"col--selected")}}},Object.assign(Object.assign({},b),E)},setupGrid(e){return e.extendTableMethods(PT)},setupGantt(e){return e.extendTableMethods(PT)}});const U_='body{margin:0;padding: 0 1px;color:#333333;font-size:14px;font-family:"Microsoft YaHei",,"MicrosoftJhengHei",,STHeiti,MingLiu}body *{-webkit-box-sizing:border-box;box-sizing:border-box}.vxe-table{border-collapse:collapse;text-align:left;border-spacing:0}.vxe-table:not(.is--print){table-layout:fixed}.vxe-table,.vxe-table th,.vxe-table td,.vxe-table td{border-color:#D0D0D0;border-style:solid;border-width:0}.vxe-table.is--print{width:100%}.border--default,.border--full,.border--outer{border-top-width:1px}.border--default,.border--full,.border--outer{border-left-width:1px}.border--outer,.border--default th,.border--default td,.border--full th,.border--full td,.border--outer th,.border--inner th,.border--inner td{border-bottom-width:1px}.border--default,.border--outer,.border--full th,.border--full td{border-right-width:1px}.border--default th,.border--full th,.border--outer th{background-color:#f8f8f9}.vxe-table td>div,.vxe-table th>div{padding:.5em .4em}.col--center{text-align:center}.col--right{text-align:right}.vxe-table:not(.is--print) .col--ellipsis>div{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-break:break-all}.vxe-table--tree-node{text-align:left}.vxe-table--tree-node-wrapper{position:relative}.vxe-table--tree-icon-wrapper{position:absolute;top:50%;width:1em;height:1em;text-align:center;-webkit-transform:translateY(-50%);transform:translateY(-50%);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.vxe-table--tree-unfold-icon,.vxe-table--tree-fold-icon{position:absolute;width:0;height:0;border-style:solid;border-width:.5em;border-right-color:transparent;border-bottom-color:transparent}.vxe-table--tree-unfold-icon{left:.3em;top:0;border-left-color:#939599;border-top-color:transparent}.vxe-table--tree-fold-icon{left:0;top:.3em;border-left-color:transparent;border-top-color:#939599}.vxe-table--tree-cell{display:block;padding-left:1.5em}.vxe-table input[type="checkbox"]{margin:0}.vxe-table input[type="checkbox"],.vxe-table input[type="radio"],.vxe-table input[type="checkbox"]+span,.vxe-table input[type="radio"]+span{vertical-align:middle;padding-left:0.4em}';function j_(e,t){return new Blob([e],{type:`text/${t.type};charset=utf-8;`})}function Y_(e,t){const{style:r}=e;return["<!DOCTYPE html><html>","<head>",'<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no,minimal-ui">',`<title>${e.sheetName}</title>`,'<style media="print">.vxe-page-break-before{page-break-before:always;}.vxe-page-break-after{page-break-after:always;}</style>',`<style>${U_}</style>`,r?`<style>${r}</style>`:"","</head>",`<body>${t}</body>`,"</html>"].join("")}const{getI18n:Da,hooks:K_,renderer:Qb}=Se;let ri;const X_="\uFEFF",kl=`\r
`;function sc(e){return!!e.field||["seq","checkbox","radio"].indexOf(e.type||"")===-1}const W$=e=>{const t=[];return e.forEach(r=>{r.childNodes&&r.childNodes.length?(t.push(r),t.push(...W$(r.childNodes))):t.push(r)}),t},Z_=e=>{let t=1;const r=(a,i)=>{if(i&&(a._level=i._level+1,t<a._level&&(t=a._level)),a.childNodes&&a.childNodes.length){let d=0;a.childNodes.forEach(s=>{r(s,a),d+=s._colSpan}),a._colSpan=d}else a._colSpan=1};e.forEach(a=>{a._level=1,r(a)});const n=[];for(let a=0;a<t;a++)n.push([]);return W$(e).forEach(a=>{a.childNodes&&a.childNodes.length?a._rowSpan=1:a._rowSpan=t-a._level+1,n[a._level-1].push(a)}),n};function J_(e){return e===!0?"full":e||"default"}function ni(e){return e==="TRUE"||e==="true"||e===!0}function cc(e,t,r){const n=e.xeGrid,l=e.xeGantt,{footerFilterMethod:a}=t;return a?r.filter((i,d)=>a({$table:e,$grid:n,$gantt:l,items:i,$rowIndex:d})):r}function Q_(e,t){if(t){if(e.type==="seq")return`	${t}`;switch(e.cellType){case"string":if(!isNaN(t))return`	${t}`;break;case"number":break;default:if(t.length>=12&&!isNaN(t))return`	${t}`;break}}return t}function oi(e){return/[",\s\n]/.test(e)?`"${e.replace(/"/g,'""')}"`:e}function No(e,t){return e.getElementsByTagName(t)}function kT(e){return`#${e}@${u.uniqueId()}`}function U$(e,t){return e.replace(/#\d+@\d+/g,r=>u.hasOwnProp(t,r)?t[r]:r)}function LT(e,t){return U$(e,t).replace(/^"+$/g,n=>'"'.repeat(Math.ceil(n.length/2)))}function oC(e,t){const{fieldMaps:r,titleMaps:n}=e;if(!r[t]){const l=n[t];l&&l.field&&(t=l.field)}return t}function j$(e,t,r){const n=t.split(kl),l=[];let a=[];if(n.length){const i={},d=Date.now();n.forEach(s=>{if(s){const h={};s=s.replace(/("")|(\n)/g,(b,E)=>{const y=kT(d);return i[y]=E?'"':`
`,y}).replace(/"(.*?)"/g,(b,E)=>{const y=kT(d);return i[y]=U$(E,i),y});const c=s.split(r);a.length?(c.forEach((b,E)=>{E<a.length&&(h[a[E]]=LT(b.trim(),i))}),l.push(h)):a=c.map(b=>oC(e,LT(b.trim(),i)))}})}return{fields:a,rows:l}}function eq(e,t){return j$(e,t,",")}function tq(e,t){return j$(e,t,"	")}function rq(e,t){const n=new DOMParser().parseFromString(t,"text/html"),l=No(n,"body"),a=[],i=[];if(l.length){const d=No(l[0],"table");if(d.length){const s=No(d[0],"thead");if(s.length){u.arrayEach(No(s[0],"tr"),c=>{u.arrayEach(No(c,"th"),b=>{i.push(oC(e,b.textContent||""))})});const h=No(d[0],"tbody");h.length&&u.arrayEach(No(h[0],"tr"),c=>{const b={};u.arrayEach(No(c,"td"),(E,y)=>{i[y]&&(b[i[y]]=E.textContent||"")}),a.push(b)})}}}return{fields:i,rows:a}}function nq(e,t){const n=new DOMParser().parseFromString(t,"application/xml"),l=No(n,"Worksheet"),a=[],i=[];if(l.length){const d=No(l[0],"Table");if(d.length){const s=No(d[0],"Row");s.length&&(u.arrayEach(No(s[0],"Cell"),h=>{i.push(oC(e,h.textContent||""))}),u.arrayEach(s,(h,c)=>{if(c){const b={},E=No(h,"Cell");u.arrayEach(E,(y,p)=>{i[p]&&(b[i[p]]=y.textContent)}),a.push(b)}}))}}return{fields:i,rows:a}}function NT(e){u.eachTree(e,t=>{delete t._level,delete t._colSpan,delete t._rowSpan,delete t._children,delete t.childNodes},{children:"children"})}const _T=["exportData","importByFile","importData","saveFile","readFile","print","getPrintHtml","openImport","closeImport","openExport","closeExport","openPrint","closePrint"];K_.add("tableExportModule",{setupTable(e){const{props:t,reactData:r,internalData:n}=e,{computeTreeOpts:l,computePrintOpts:a,computeExportOpts:i,computeImportOpts:d,computeCustomOpts:s,computeSeqOpts:h,computeRadioOpts:c,computeCheckboxOpts:b,computeColumnOpts:E}=e.getComputeMaps(),y=se=>{const re=l.value,ve=re.children||re.childrenField;return se[ve]&&se[ve].length},p=(se,re,ve,Ee,Re)=>{const le=h.value.seqMethod||Ee.seqMethod;return le?le({$table:e,row:re,rowIndex:e.getRowIndex(re),$rowIndex:ve,column:Ee,columnIndex:e.getColumnIndex(Ee),$columnIndex:Re}):se};function g(se,re){const ve=E.value,Ee=re.headerExportMethod||ve.headerExportMethod;return Ee?Ee({column:re,options:se,$table:e}):(se.isTitle?re.getTitle():re.field)||""}const O=se=>u.isBoolean(se)?se?"TRUE":"FALSE":se,D=se=>Ma(se)?"":`${se}`,I=(se,re,ve)=>{const{isAllExpand:Ee,mode:Re}=se,{treeConfig:Pe}=t,le=c.value,Xe=b.value,me=l.value,Te=E.value;if(ri||(ri=document.createElement("div")),Pe){const Ae=me.children||me.childrenField,tt=[],Ue={},ut={},{handleGetRowId:_e}=hn(e);return u.eachTree(ve,(te,$e,ce,Le,nt,et)=>{const vt=te._row||te,xt=_e(vt);if(ut[xt])return;const Dt=nt&&nt._row?nt._row:nt,gt=Dt?_e(Dt):"";if(Ee||!Dt||Ue[gt]&&e.isTreeExpandByRow(Dt)){const Tt=y(vt),ht={_row:vt,_level:et.length-1,_hasChild:Tt,_expand:Tt&&e.isTreeExpandByRow(vt)};re.forEach((yt,Lt)=>{let Vt="";const Bt=yt.editRender||yt.cellRender;let Nt=yt.exportMethod||Te.exportMethod;if(!Nt&&Bt&&Bt.name){const Kt=Qb.get(Bt.name);Kt&&(Nt=Kt.tableExportMethod||Kt.exportMethod)}if(Nt||(Nt=Te.exportMethod),Nt)Vt=Nt({$table:e,row:vt,column:yt,options:se});else switch(yt.type){case"seq":{const Kt=Le.map((Wt,Fe)=>Fe%2===0?Number(Wt)+1:".").join("");Vt=Re==="all"?Kt:p(Kt,vt,$e,yt,Lt);break}case"checkbox":Vt=O(e.isCheckedByCheckboxRow(vt)),ht._checkboxLabel=Xe.labelField?u.get(vt,Xe.labelField):"",ht._checkboxDisabled=Xe.checkMethod&&!Xe.checkMethod({$table:e,row:vt});break;case"radio":Vt=O(e.isCheckedByRadioRow(vt)),ht._radioLabel=le.labelField?u.get(vt,le.labelField):"",ht._radioDisabled=le.checkMethod&&!le.checkMethod({$table:e,row:vt});break;default:if(se.original)Vt=yn(vt,yt);else if(Vt=e.getCellLabel(vt,yt),yt.type==="html")ri.innerHTML=Vt,Vt=ri.innerText.trim();else{const Kt=e.getCellElement(vt,yt);Kt&&!Fa(Kt,"is--progress")&&(Vt=Kt.innerText.trim())}}ht[yt.id]=D(Vt)}),ut[xt]=!0,gt&&(Ue[gt]=!0),tt.push(Object.assign(ht,vt))}},{children:Ae}),tt}return ve.map((Ae,tt)=>{const Ue={_row:Ae};return re.forEach((ut,_e)=>{let te="";const $e=ut.editRender||ut.cellRender;let ce=ut.exportMethod||Te.exportMethod;if(!ce&&$e&&$e.name){const Le=Qb.get($e.name);Le&&(ce=Le.tableExportMethod||Le.exportMethod)}if(ce)te=ce({$table:e,row:Ae,column:ut,options:se});else switch(ut.type){case"seq":{const Le=tt+1;te=Re==="all"?Le:p(Le,Ae,tt,ut,_e);break}case"checkbox":te=O(e.isCheckedByCheckboxRow(Ae)),Ue._checkboxLabel=Xe.labelField?u.get(Ae,Xe.labelField):"",Ue._checkboxDisabled=Xe.checkMethod&&!Xe.checkMethod({$table:e,row:Ae});break;case"radio":te=O(e.isCheckedByRadioRow(Ae)),Ue._radioLabel=le.labelField?u.get(Ae,le.labelField):"",Ue._radioDisabled=le.checkMethod&&!le.checkMethod({$table:e,row:Ae});break;default:if(se.original)te=yn(Ae,ut);else if(te=e.getCellLabel(Ae,ut),ut.type==="html")ri.innerHTML=te,te=ri.innerText.trim();else{const Le=e.getCellElement(Ae,ut);Le&&!Fa(Le,"is--progress")&&(te=Le.innerText.trim())}}Ue[ut.id]=D(te)}),Ue})},W=se=>{const re=e.xeGrid,ve=e.xeGantt,{columns:Ee,dataFilterMethod:Re}=se;let Pe=se.data;return Re&&(Pe=Pe.filter((le,Xe)=>Re({$table:e,$grid:re,$gantt:ve,row:le,$rowIndex:Xe}))),I(se,Ee,Pe)},N=(se,re,ve)=>{const Ee=E.value,Re=ve.editRender||ve.cellRender;let Pe=ve.footerExportMethod;if(!Pe&&Re&&Re.name){const Xe=Qb.get(Re.name);Xe&&(Pe=Xe.tableFooterExportMethod||Xe.footerExportMethod)}Pe||(Pe=Ee.footerExportMethod);const le=e.getVTColumnIndex(ve);return Pe?Pe({$table:e,items:re,itemIndex:le,row:re,_columnIndex:le,column:ve,options:se}):u.isArray(re)?u.toValueString(re[le]):u.get(re,ve.field)},Y=(se,re,ve,Ee)=>{let Re=X_;if(re.isHeader&&(Re+=ve.map(Pe=>oi(g(re,Pe))).join(",")+kl),Ee.forEach(Pe=>{Re+=ve.map(le=>oi(Q_(le,Pe[le.id]))).join(",")+kl}),re.isFooter){const{footerTableData:Pe}=r;cc(se,re,Pe).forEach(Xe=>{Re+=ve.map(me=>oi(N(re,Xe,me))).join(",")+kl})}return Re},L=(se,re,ve,Ee)=>{let Re="";if(re.isHeader&&(Re+=ve.map(Pe=>oi(g(re,Pe))).join("	")+kl),Ee.forEach(Pe=>{Re+=ve.map(le=>oi(Pe[le.id])).join("	")+kl}),re.isFooter){const{footerTableData:Pe}=r;cc(se,re,Pe).forEach(Xe=>{Re+=ve.map(me=>oi(N(re,Xe,me))).join("	")+kl})}return Re},F=(se,re,ve)=>{const Ee=se[re],Re=u.isUndefined(Ee)||u.isNull(Ee)?ve:Ee;let me=Re==="title"||(Re===!0||Re==="tooltip")||Re==="ellipsis";const{scrollXLoad:Te,scrollYLoad:Ae}=r;return(Te||Ae)&&!me&&(me=!0),me},M=(se,re,ve)=>{const{id:Ee,border:Re,treeConfig:Pe,headerAlign:le,align:Xe,footerAlign:me,showOverflow:Te,showHeaderOverflow:Ae}=t,{isAllSelected:tt,isIndeterminate:Ue}=r,{mergeBodyCellMaps:ut}=n,_e=l.value,{print:te,isHeader:$e,isFooter:ce,isColgroup:Le,isMerge:nt,colgroups:et,original:vt}=se,xt="check-all",gt=[`<table class="${["vxe-table",`border--${J_(Re)}`,te?"is--print":"",$e?"is--header":""].filter(ht=>ht).join(" ")}" border="0" cellspacing="0" cellpadding="0">`,`<colgroup>${re.map(ht=>`<col style="width:${ht.renderWidth}px">`).join("")}</colgroup>`];if($e&&(gt.push("<thead>"),Le&&!vt?et.forEach(ht=>{gt.push(`<tr>${ht.map(yt=>{const Lt=yt.headerAlign||yt.align||le||Xe,Vt=F(yt,"showHeaderOverflow",Ae)?["col--ellipsis"]:[],Bt=g(se,yt);let Nt=0,Kt=0;u.eachTree([yt],Fe=>{(!Fe.childNodes||!yt.childNodes.length)&&Kt++,Nt+=Fe.renderWidth},{children:"childNodes"});const Wt=Nt-Kt;return Lt&&Vt.push(`col--${Lt}`),yt.type==="checkbox"?`<th class="${Vt.join(" ")}" colspan="${yt._colSpan}" rowspan="${yt._rowSpan}"><div ${te?"":`style="width: ${Wt}px"`}><input type="checkbox" class="${xt}" ${tt?"checked":""}><span>${Bt}</span></div></th>`:`<th class="${Vt.join(" ")}" colspan="${yt._colSpan}" rowspan="${yt._rowSpan}" title="${Bt}"><div ${te?"":`style="width: ${Wt}px"`}><span>${Rn(Bt,!0)}</span></div></th>`}).join("")}</tr>`)}):gt.push(`<tr>${re.map(ht=>{const yt=ht.headerAlign||ht.align||le||Xe,Lt=F(ht,"showHeaderOverflow",Ae)?["col--ellipsis"]:[],Vt=g(se,ht);return yt&&Lt.push(`col--${yt}`),ht.type==="checkbox"?`<th class="${Lt.join(" ")}"><div ${te?"":`style="width: ${ht.renderWidth}px"`}><input type="checkbox" class="${xt}" ${tt?"checked":""}><span>${Vt}</span></div></th>`:`<th class="${Lt.join(" ")}" title="${Vt}"><div ${te?"":`style="width: ${ht.renderWidth}px"`}><span>${Rn(Vt,!0)}</span></div></th>`}).join("")}</tr>`),gt.push("</thead>")),ve.length&&(gt.push("<tbody>"),Pe?ve.forEach(ht=>{gt.push("<tr>"+re.map(yt=>{const Lt=yt.id,Vt=yt.align||Xe,Bt=F(yt,"showOverflow",Te)?["col--ellipsis"]:[],Nt=ht[Lt];if(Vt&&Bt.push(`col--${Vt}`),yt.treeNode){let Kt="";return ht._hasChild&&(Kt=`<i class="${ht._expand?"vxe-table--tree-fold-icon":"vxe-table--tree-unfold-icon"}"></i>`),Bt.push("vxe-table--tree-node"),yt.type==="radio"?`<td class="${Bt.join(" ")}" title="${Nt}"><div ${te?"":`style="width: ${yt.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${ht._level*_e.indent}px"><div class="vxe-table--tree-icon-wrapper">${Kt}</div><div class="vxe-table--tree-cell"><input type="radio" name="radio_${Ee}" ${ht._radioDisabled?"disabled ":""}${ni(Nt)?"checked":""}><span>${ht._radioLabel}</span></div></div></div></td>`:yt.type==="checkbox"?`<td class="${Bt.join(" ")}" title="${Nt}"><div ${te?"":`style="width: ${yt.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${ht._level*_e.indent}px"><div class="vxe-table--tree-icon-wrapper">${Kt}</div><div class="vxe-table--tree-cell"><input type="checkbox" ${ht._checkboxDisabled?"disabled ":""}${ni(Nt)?"checked":""}><span>${ht._checkboxLabel}</span></div></div></div></td>`:`<td class="${Bt.join(" ")}" title="${Nt}"><div ${te?"":`style="width: ${yt.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${ht._level*_e.indent}px"><div class="vxe-table--tree-icon-wrapper">${Kt}</div><div class="vxe-table--tree-cell">${Nt}</div></div></div></td>`}return yt.type==="radio"?`<td class="${Bt.join(" ")}"><div ${te?"":`style="width: ${yt.renderWidth}px"`}><input type="radio" name="radio_${Ee}" ${ht._radioDisabled?"disabled ":""}${ni(Nt)?"checked":""}><span>${ht._radioLabel}</span></div></td>`:yt.type==="checkbox"?`<td class="${Bt.join(" ")}"><div ${te?"":`style="width: ${yt.renderWidth}px"`}><input type="checkbox" ${ht._checkboxDisabled?"disabled ":""}${ni(Nt)?"checked":""}><span>${ht._checkboxLabel}</span></div></td>`:`<td class="${Bt.join(" ")}" title="${Nt}"><div ${te?"":`style="width: ${yt.renderWidth}px"`}>${Rn(Nt,!0)}</div></td>`}).join("")+"</tr>")}):ve.forEach(ht=>{gt.push("<tr>"+re.map(yt=>{const Lt=yt.align||Xe,Vt=F(yt,"showOverflow",Te)?["col--ellipsis"]:[],Bt=ht[yt.id];let Nt=1,Kt=1;if(nt){const Wt=e.getVTRowIndex(ht._row),Fe=e.getVTColumnIndex(yt),Oe=ut[`${Wt}:${Fe}`];if(Oe){const{rowspan:Ye,colspan:rt}=Oe;if(!Ye||!rt)return"";Ye>1&&(Nt=Ye),rt>1&&(Kt=rt)}}return Lt&&Vt.push(`col--${Lt}`),yt.type==="radio"?`<td class="${Vt.join(" ")}" rowspan="${Nt}" colspan="${Kt}"><div ${te?"":`style="width: ${yt.renderWidth}px"`}><input type="radio" name="radio_${Ee}" ${ht._radioDisabled?"disabled ":""}${ni(Bt)?"checked":""}><span>${ht._radioLabel}</span></div></td>`:yt.type==="checkbox"?`<td class="${Vt.join(" ")}" rowspan="${Nt}" colspan="${Kt}"><div ${te?"":`style="width: ${yt.renderWidth}px"`}><input type="checkbox" ${ht._checkboxDisabled?"disabled ":""}${ni(Bt)?"checked":""}><span>${ht._checkboxLabel}</span></div></td>`:`<td class="${Vt.join(" ")}" rowspan="${Nt}" colspan="${Kt}" title="${Bt}"><div ${te?"":`style="width: ${yt.renderWidth}px"`}>${Rn(Bt,!0)}</div></td>`}).join("")+"</tr>")}),gt.push("</tbody>")),ce){const{footerTableData:ht}=r,yt=cc(e,se,ht);yt.length&&(gt.push("<tfoot>"),yt.forEach(Lt=>{gt.push(`<tr>${re.map(Vt=>{const Bt=Vt.footerAlign||Vt.align||me||Xe,Nt=F(Vt,"showOverflow",Te)?["col--ellipsis"]:[],Kt=N(se,Lt,Vt);return Bt&&Nt.push(`col--${Bt}`),`<td class="${Nt.join(" ")}" title="${Kt}"><div ${te?"":`style="width: ${Vt.renderWidth}px"`}>${Rn(Kt,!0)}</div></td>`}).join("")}</tr>`)}),gt.push("</tfoot>"))}const Tt=!tt&&Ue?`<script>(function(){var a=document.querySelector(".${xt}");if(a){a.indeterminate=true}})()<\/script>`:"";return gt.push("</table>",Tt),te?gt.join(""):Y_(se,gt.join(""))},q=(se,re,ve)=>{let Ee=['<?xml version="1.0"?>','<?mso-application progid="Excel.Sheet"?>','<Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns:ss="urn:schemas-microsoft-com:office:spreadsheet" xmlns:html="http://www.w3.org/TR/REC-html40">','<DocumentProperties xmlns="urn:schemas-microsoft-com:office:office">',"<Version>16.00</Version>","</DocumentProperties>",'<ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel">',"<WindowHeight>7920</WindowHeight>","<WindowWidth>21570</WindowWidth>","<WindowTopX>32767</WindowTopX>","<WindowTopY>32767</WindowTopY>","<ProtectStructure>False</ProtectStructure>","<ProtectWindows>False</ProtectWindows>","</ExcelWorkbook>",`<Worksheet ss:Name="${se.sheetName}">`,"<Table>",re.map(Re=>`<Column ss:Width="${Re.renderWidth}"/>`).join("")].join("");if(se.isHeader&&(Ee+=`<Row>${re.map(Re=>`<Cell><Data ss:Type="String">${g(se,Re)}</Data></Cell>`).join("")}</Row>`),ve.forEach(Re=>{Ee+="<Row>"+re.map(Pe=>`<Cell><Data ss:Type="String">${Re[Pe.id]}</Data></Cell>`).join("")+"</Row>"}),se.isFooter){const{footerTableData:Re}=r;cc(e,se,Re).forEach(le=>{Ee+=`<Row>${re.map(Xe=>`<Cell><Data ss:Type="String">${N(se,le,Xe)}</Data></Cell>`).join("")}</Row>`})}return`${Ee}</Table></Worksheet></Workbook>`},V=(se,re,ve,Ee)=>{if(ve.length)switch(re.type){case"csv":return Y(se,re,ve,Ee);case"txt":return L(se,re,ve,Ee);case"html":return M(re,ve,Ee);case"xml":return q(re,ve,Ee)}return""},j=(se,re)=>{const{filename:ve,type:Ee,download:Re}=se;if(!Re){const Pe=j_(re,se);return Promise.resolve({type:Ee,content:re,blob:Pe})}Se.saveFile&&Se.saveFile({filename:ve,type:Ee,content:re}).then(()=>{se.message!==!1&&Se.modal&&Se.modal.message({content:Da("vxe.table.expSuccess"),status:"success"})})},U=se=>{const re=e.xeGrid,ve=e.xeGantt,{remote:Ee,columns:Re,colgroups:Pe,exportMethod:le,afterExportMethod:Xe}=se;return new Promise(me=>{if(Ee){const Te={options:se,$table:e,$grid:re,$gantt:ve};me(le?le(Te):Te)}else{const Te=W(se);me(e.preventEvent(null,"event.export",{options:se,columns:Re,colgroups:Pe,datas:Te},()=>j(se,V(e,se,Re,Te))))}}).then(me=>(NT(Re),se.print||Xe&&Xe({status:!0,options:se,$table:e,$grid:re,$gantt:ve}),Object.assign({status:!0},me))).catch(()=>{NT(Re),se.print||Xe&&Xe({status:!1,options:se,$table:e,$grid:re,$gantt:ve});const me={status:!1};return Promise.reject(me)})},z=(se,re)=>{const{tableFullColumn:ve,_importResolve:Ee,_importReject:Re}=n;let Pe={fields:[],rows:[]};const le={},Xe={};ve.forEach(Ue=>{const ut=Ue.field,_e=Ue.getTitle();ut&&(le[ut]=Ue),_e&&(Xe[Ue.getTitle()]=Ue)});const me={fieldMaps:le,titleMaps:Xe};switch(re.type){case"csv":Pe=eq(me,se);break;case"txt":Pe=tq(me,se);break;case"html":Pe=rq(me,se);break;case"xml":Pe=nq(me,se);break}const{fields:Te,rows:Ae}=Pe;Te.some(Ue=>le[Ue]||Xe[Ue])?e.createData(Ae).then(Ue=>{let ut;return(re.mode==="insert"||re.mode==="insertBottom")&&(ut=e.insertAt(Ue,-1)),re.mode==="insertTop"?ut=e.insert(Ue):ut=e.reloadData(Ue),re.message!==!1&&Se.modal&&Se.modal.message({content:Da("vxe.table.impSuccess",[Ae.length]),status:"success"}),ut.then(()=>{Ee&&Ee({status:!0})})}):re.message!==!1&&(Se.modal&&Se.modal.message({content:Da("vxe.error.impFields"),status:"error"}),Re&&Re({status:!1}))},k=(se,re)=>{const{importMethod:ve,afterImportMethod:Ee}=re,{type:Re,filename:Pe}=R$(se),le=d.value;if(!ve&&!u.includes(u.keys(le._typeMaps),Re)){re.message!==!1&&Se.modal&&Se.modal.message({content:Da("vxe.error.notType",[Re]),status:"error"});const me={status:!1};return Promise.reject(me)}return new Promise((me,Te)=>{const Ae=Ue=>{me(Ue),n._importResolve=null,n._importReject=null},tt=Ue=>{Te(Ue),n._importResolve=null,n._importReject=null};if(n._importResolve=Ae,n._importReject=tt,window.FileReader){const Ue=Object.assign({mode:"insertTop"},re,{type:Re,filename:Pe});if(Ue.remote)ve?Promise.resolve(ve({file:se,options:Ue,$table:e})).then(()=>{Ae({status:!0})}).catch(()=>{Ae({status:!0})}):Ae({status:!0});else{const{tableFullColumn:ut}=n;e.preventEvent(null,"event.import",{file:se,options:Ue,columns:ut},()=>{const _e=new FileReader;_e.onerror=()=>{At("vxe.error.notType",[Re]),tt({status:!1})},_e.onload=te=>{z(te.target.result,Ue)},_e.readAsText(se,Ue.encoding||"UTF-8")})}}else At("vxe.error.notExp"),Ae({status:!0})}).then(()=>{Ee&&Ee({status:!0,options:re,$table:e})}).catch(me=>(Ee&&Ee({status:!1,options:re,$table:e}),Promise.reject(me)))},ne=(se,re,ve)=>ve.some(Ee=>{if(Dc(Ee))return re.id===Ee.id;if(u.isString(Ee))return re.field===Ee;{const Re=Ee.id||Ee.colId,Pe=Ee.type,le=Ee.field;if(Re)return re.id===Re;if(le&&Pe)return re.field===le&&re.type===Pe;if(le)return re.field===le;if(Pe)return re.type===Pe}return!1}),fe=(se,re,ve,Ee)=>Ee&&u.includes(Ee,re.field)?!1:ve?!!u.includes(ve,re.field):se.original?!!re.field:sc(re),G=(se,re)=>{const ve=e.xeGrid,Ee=e.xeGantt,Re=ve||Ee,{treeConfig:Pe,showHeader:le,showFooter:Xe}=t,{initStore:me,isGroup:Te,footerTableData:Ae,exportStore:tt,exportParams:Ue}=r,{collectColumn:ut,mergeBodyList:_e,mergeFooterList:te}=n,$e=i.value,ce=Pe,Le=s.value,nt=e.getCheckboxRecords(),et=Re?Re.getComputeMaps().computeProxyOpts.value:{},vt=!!Ae.length,xt=!!(_e.length||te.length),Dt=Object.assign({message:!0,isHeader:le,isTitle:le,isFooter:Xe,isColgroup:Te,isMerge:xt,useStyle:!0,current:"current",modes:(et.ajax&&et.ajax.queryAll?["all"]:[]).concat(["current","selected","empty"])},se),gt=Dt.types||u.keys($e._typeMaps),Tt=Dt.modes||[],ht=Le.checkMethod,yt=ut.slice(0),{columns:Lt,excludeFields:Vt,includeFields:Bt}=Dt,Nt=gt.map(rt=>({value:rt,label:Da(`vxe.export.types.${rt}`)})),Kt=Tt.map(rt=>rt&&rt.value?{value:rt.value,label:rt.label||rt.value}:{value:rt,label:Da(`vxe.export.modes.${rt}`)});u.eachTree(yt,(rt,at,ee,Ie,Ne)=>{const pt=rt.children&&rt.children.length>0;let He=!1;Lt&&Lt.length?He=ne(Dt,rt,Lt):Vt||Bt?He=fe(Dt,rt,Bt,Vt):He=rt.visible&&(pt||sc(rt)),rt.checked=He,rt.halfChecked=!1,rt.disabled=Ne&&Ne.disabled||(ht?!ht({$table:e,column:rt}):!1)}),Object.assign(tt,{columns:yt,typeList:Nt,modeList:Kt,hasFooter:vt,hasMerge:xt,hasTree:ce,isPrint:re,hasColgroup:Te,visible:!0}),Object.assign(Ue,{mode:nt.length?"selected":"current"},Dt);const{filename:Wt,sheetName:Fe,mode:Oe,type:Ye}=Ue;return Wt&&(u.isFunction(Wt)?Ue.filename=Wt({options:Dt,$table:e,$grid:ve,$gantt:Ee}):Ue.filename=`${Wt}`),Fe&&(u.isFunction(Fe)?Ue.sheetName=Fe({options:Dt,$table:e,$grid:ve,$gantt:Ee}):Ue.sheetName=`${Fe}`),Kt.some(rt=>rt.value===Oe)||(Ue.mode=Kt[0].value),Nt.some(rt=>rt.value===Ye)||(Ue.type=Nt[0].value),me.export=!0,ge()},J=()=>Se.modal?Se.modal.close("VXE_EXPORT_MODAL"):Promise.resolve(),we={exportData(se){const re=e.xeGrid,ve=e.xeGantt,Ee=re||ve,{treeConfig:Re,showHeader:Pe,showFooter:le}=t,{isGroup:Xe}=r,{tableFullColumn:me,afterFullData:Te,afterTreeFullData:Ae,collectColumn:tt,mergeBodyList:Ue,mergeFooterList:ut}=n,_e=i.value,te=l.value,$e=Ee?Ee.getComputeMaps().computeProxyOpts.value:{},ce=!!(Ue.length||ut.length),Le=Object.assign({message:!0,isHeader:Pe,isTitle:Pe,isFooter:le,isColgroup:Xe,isMerge:ce,useStyle:!0,current:"current",modes:($e.ajax&&$e.ajax.queryAll?["all"]:[]).concat(["current","selected","empty"]),download:!0,type:"csv"},_e,se);let{filename:nt,sheetName:et,type:vt,mode:xt,columns:Dt,original:gt,columnFilterMethod:Tt,beforeExportMethod:ht,includeFields:yt,excludeFields:Lt}=Le,Vt=[];const Bt=e.getCheckboxRecords();xt||(xt=Bt.length?"selected":"current");let Nt=!1,Kt=[];Dt&&Dt.length?(Nt=!0,Kt=Dt):Kt=u.searchTree(tt,Oe=>{const Ye=Oe.children&&Oe.children.length>0;let rt=!1;return Dt&&Dt.length?rt=ne(Le,Oe,Dt):Lt||yt?rt=fe(Le,Oe,yt,Lt):rt=Oe.visible&&(Ye||sc(Oe)),rt},{children:"children",mapChildren:"childNodes",original:!0});const Wt=Object.assign({},Le,{filename:"",sheetName:""});!Nt&&!Tt&&(Tt=({column:Oe})=>Lt&&u.includes(Lt,Oe.field)?!1:yt?!!u.includes(yt,Oe.field):gt?!!Oe.field:sc(Oe),Wt.columnFilterMethod=Tt),Kt?(Wt._isCustomColumn=!0,Vt=u.searchTree(u.mapTree(Kt,Oe=>{let Ye;if(Oe){if(Dc(Oe))Ye=Oe;else if(u.isString(Oe))Ye=e.getColumnByField(Oe);else{const rt=Oe.id||Oe.colId,at=Oe.type,ee=Oe.field;rt?Ye=e.getColumnById(rt):ee&&at?Ye=me.find(Ie=>Ie.field===ee&&Ie.type===at):ee?Ye=e.getColumnByField(ee):at&&(Ye=me.find(Ie=>Ie.type===at))}return Ye||{}}},{children:"childNodes",mapChildren:"_children"}),(Oe,Ye)=>Dc(Oe)&&(!Tt||Tt({$table:e,$grid:re,$gantt:ve,column:Oe,$columnIndex:Ye})),{children:"_children",mapChildren:"childNodes",original:!0})):Vt=u.searchTree(Xe?tt:me,(Oe,Ye)=>Oe.visible&&(!Tt||Tt({$table:e,$grid:re,$gantt:ve,column:Oe,$columnIndex:Ye})),{children:"children",mapChildren:"childNodes",original:!0});const Fe=[];if(u.eachTree(Vt,Oe=>{Oe.children&&Oe.children.length||Fe.push(Oe)},{children:"childNodes"}),Wt.columns=Fe,Wt.colgroups=Z_(Vt),nt&&(u.isFunction(nt)?Wt.filename=nt({options:Le,$table:e,$grid:re,$gantt:ve}):Wt.filename=`${nt}`),Wt.filename||(Wt.filename=Da(Wt.original?"vxe.table.expOriginFilename":"vxe.table.expFilename",[u.toDateString(Date.now(),"yyyyMMddHHmmss")])),et&&(u.isFunction(et)?Wt.sheetName=et({options:Le,$table:e,$grid:re,$gantt:ve}):Wt.sheetName=`${et}`),Wt.sheetName||(Wt.sheetName=document.title||""),!Wt.exportMethod&&!u.includes(u.keys(_e._typeMaps),vt)){At("vxe.error.notType",[vt]),["xlsx","pdf"].includes(vt)&&Zt("vxe.error.reqPlugin",[4,"plugin-export-xlsx"]);const Oe={status:!1};return Promise.reject(Oe)}if(Wt.print||ht&&ht({options:Wt,$table:e,$grid:re,$gantt:ve}),Wt.data)Wt._isCustomData=!0;else{if(Wt.data=[],xt==="selected")["html","pdf"].indexOf(vt)>-1&&Re?Wt.data=u.searchTree(e.getTableData().fullData,Oe=>e.findRowIndexOf(Bt,Oe)>-1,Object.assign({},te,{data:"_row"})):Wt.data=Bt;else if(xt==="all"&&(Ee||At("vxe.error.errProp",["all","mode=current,selected"]),Ee&&!Wt.remote)){const Oe=Ee.reactData,{computeProxyOpts:Ye}=Ee.getComputeMaps(),rt=Ye.value,{sortData:at}=Oe,{beforeQueryAll:ee,afterQueryAll:Ie,ajax:Ne={}}=rt,pt=rt.response||rt.props||{},He=Ne.queryAll,dt=Ne.queryAllSuccess,Ze=Ne.queryAllError;if(He||At("vxe.error.notFunc",["proxy-config.ajax.queryAll"]),He){const $={$table:e,$grid:re,$gantt:ve,sort:at.length?at[0]:{},sorts:at,filters:Oe.filterData,form:Oe.formData,options:Wt};return Promise.resolve((ee||He)($)).then(H=>{const Z=pt.list;return Wt.data=(Z?u.isFunction(Z)?Z({data:H,$table:e,$grid:re,$gantt:ve}):u.get(H,Z):H)||[],Ie&&Ie($),dt&&dt(Object.assign(Object.assign({},$),{response:H})),U(Wt)}).catch(H=>{Ze&&Ze(Object.assign(Object.assign({},$),{response:H}))})}}xt==="current"&&(Wt.data=Re?Ae:Te)}return U(Wt)},importByFile(se,re){const ve=Object.assign({},re),{beforeImportMethod:Ee}=ve;return Ee&&Ee({options:ve,$table:e}),k(se,ve)},importData(se){const re=d.value,ve=Object.assign({types:u.keys(re._typeMaps)},re,se),{beforeImportMethod:Ee,afterImportMethod:Re}=ve;return Ee&&Ee({options:ve,$table:e}),Se.readFile(ve).catch(Pe=>(Re&&Re({status:!1,options:ve,$table:e}),Promise.reject(Pe))).then(Pe=>{const{file:le}=Pe;return k(le,ve)})},saveFile(se){return Se.saveFile(se)},readFile(se){return Se.readFile(se)},print(se){const re=e.xeGrid,ve=e.xeGantt,Ee=a.value,Re=Object.assign({original:!1},Ee,se,{type:"html",download:!1,remote:!1,print:!0}),{sheetName:Pe}=Re;let le="";Pe&&(u.isFunction(Pe)?le=Pe({options:Re,$table:e,$grid:re,$gantt:ve}):le=`${Pe}`),le||(le=document.title||"");const Xe=Re.beforePrintMethod,me=Re.html||Re.content;return new Promise((Te,Ae)=>{Se.print?Te(me?Se.print({title:le,html:me,customStyle:Re.style,beforeMethod:Xe?({html:tt})=>Xe({html:tt,content:tt,options:Re,$table:e,$grid:re,$gantt:ve}):void 0}):we.exportData(Re).then(({content:tt})=>Se.print({title:le,html:tt,customStyle:Re.style,beforeMethod:Xe?({html:Ue})=>Xe({html:Ue,content:Ue,options:Re,$table:e,$grid:re,$gantt:ve}):void 0}))):Ae({status:!1})})},getPrintHtml(se){const re=a.value,ve=Object.assign({original:!1},re,se,{type:"html",download:!1,remote:!1,print:!0});return e.exportData(ve).then(({content:Ee})=>({html:Ee}))},closeImport(){return Se.modal?Se.modal.close("VXE_IMPORT_MODAL"):Promise.resolve()},openImport(se){const{treeConfig:re,importConfig:ve}=t,{initStore:Ee,importStore:Re,importParams:Pe}=r,le=d.value,Xe=Object.assign({mode:"insertTop",message:!0,types:u.keys(le._typeMaps),modes:["insertTop","covering"]},le,se),me=Xe.types||[],Te=Xe.modes||[];if(!!re){Xe.message&&Se.modal&&Se.modal.message({content:Da("vxe.error.treeNotImp"),status:"error"});return}ve||At("vxe.error.reqProp",["import-config"]);const tt=me.map(ut=>({value:ut,label:Da(`vxe.export.types.${ut}`)})),Ue=Te.map(ut=>ut&&ut.value?{value:ut.value,label:ut.label||ut.value}:{value:ut,label:Da(`vxe.import.modes.${ut}`)});Object.assign(Re,{file:null,type:"",filename:"",modeList:Ue,typeList:tt,visible:!0}),Object.assign(Pe,Xe),Ue.some(ut=>ut.value===Pe.mode)||(Pe.mode=Ue[0].value),Ee.import=!0},closeExport:J,openExport(se){const re=i.value,ve=Object.assign({message:!0,types:u.keys(re._typeMaps)},re,se);return t.exportConfig||At("vxe.error.reqProp",["export-config"]),G(ve)},closePrint:J,openPrint(se){const re=a.value,ve=Object.assign({message:!0},re,se);return t.printConfig||At("vxe.error.reqProp",["print-config"]),G(ve,!0)}};return we},setupGrid(e){return e.extendTableMethods(_T)},setupGantt(e){return e.extendTableMethods(_T)}});const{hooks:oq}=Se,aq=u.browse();function lq(e,t){let r=0,n=0;const l=!aq.firefox&&Fa(e,"vxe-checkbox--label");if(l){const a=getComputedStyle(e);r-=u.toNumber(a.paddingTop),n-=u.toNumber(a.paddingLeft)}for(;e&&e!==t;)if(r+=e.offsetTop,n+=e.offsetLeft,e=e.offsetParent,l){const a=getComputedStyle(e);r-=u.toNumber(a.paddingTop),n-=u.toNumber(a.paddingLeft)}return{offsetTop:r,offsetLeft:n}}oq.add("tableKeyboardModule",{setupTable(e){const{props:t,reactData:r,internalData:n}=e,{refElem:l}=e.getRefMaps(),{computeEditOpts:a,computeCheckboxOpts:i,computeMouseOpts:d,computeTreeOpts:s,computeRowOpts:h,computeColumnOpts:c,computeCellOpts:b,computeDefaultRowHeight:E,computeCurrentRowOpts:y,computeCurrentColumnOpts:p}=e.getComputeMaps();function g(N,Y,L,F,M,q){const{showOverflow:V}=t,{fullAllDataRowIdData:j,isResizeCellHeight:U}=n,z=h.value,k=b.value,ne=E.value,{row:fe}=Y;let G=0,J=[],we=0;const se=q>0,{scrollYLoad:re}=r,{afterFullData:ve}=n;if(se?we=M+q:we=F.height-M+Math.abs(q),re){const Ee=e.getVTRowIndex(fe);if(!(U||k.height||z.height)&&V)se?J=ve.slice(Ee,Ee+Math.ceil(we/ne)):J=ve.slice(Ee-Math.floor(we/ne),Ee+1);else if(se)for(let Pe=Ee;Pe<ve.length;Pe++){const le=ve[Pe],Xe=e.getRowid(le),me=j[Xe]||{};if(G+=me.resizeHeight||k.height||z.height||me.height||ne,J.push(le),G>we)return J}else for(let Pe=Ee;Pe>=0;Pe--){const le=ve[Pe],Xe=e.getRowid(le),me=j[Xe]||{};if(G+=me.resizeHeight||k.height||z.height||me.height||ne,J.push(le),G>we)return J}}else{const Ee=se?"next":"previous";for(;L&&G<we;){const Re=e.getRowNode(L);Re&&(J.push(Re.item),G+=L.offsetHeight,L=L[`${Ee}ElementSibling`])}}return J}const O=(N,Y)=>{const{elemStore:L}=n,F=nr(L["main-body-scroll"]),M=nr(L["left-body-scroll"]),q=nr(L["right-body-scroll"]),{column:V,cell:j}=Y;if(V.type==="checkbox"){let U=F;if(M&&V.fixed==="left"?U=M:q&&V.fixed==="right"&&(U=q),!U)return;const z=l.value,k=N.clientX,ne=N.clientY,fe=U.querySelector(".vxe-table--checkbox-range"),G=j.parentElement,J=e.getCheckboxRecords();let we=[];const se=1,re=lq(N.target,U),ve=re.offsetTop+N.offsetY,Ee=re.offsetLeft+N.offsetX,Re=U.scrollTop,Pe=G.offsetHeight,le=G.getBoundingClientRect(),Xe=ne-le.y;let me=null,Te=!1,Ae=1;const tt=(te,$e)=>{e.dispatchEvent(`checkbox-range-${te}`,{records:()=>e.getCheckboxRecords(),reserves:()=>e.getCheckboxReserveRecords()},$e)},Ue=te=>{const{clientX:$e,clientY:ce}=te,Le=$e-k,nt=ce-ne+(U.scrollTop-Re);let et=Math.abs(nt),vt=Math.abs(Le),xt=ve,Dt=Ee;nt<se?(xt+=nt,xt<se&&(xt=se,et=ve)):et=Math.min(et,U.scrollHeight-ve-se),Le<se?(Dt+=Le,vt>Ee&&(Dt=se,vt=Ee)):vt=Math.min(vt,U.clientWidth-Ee-se),fe.style.height=`${et}px`,fe.style.width=`${vt}px`,fe.style.left=`${Dt}px`,fe.style.top=`${xt}px`,fe.style.display="block";const gt=g(te,Y,G,le,Xe,nt<se?-et:et);if(et>10&&gt.length!==we.length){const Tt=Cs(te);we=gt,Tt?gt.forEach(ht=>{e.handleBatchSelectRows([ht],J.indexOf(ht)===-1)}):(e.setAllCheckboxRow(!1),e.handleCheckedCheckboxRow(gt,!0,!1)),tt("change",te)}},ut=()=>{clearTimeout(me),me=null},_e=te=>{ut(),me=setTimeout(()=>{if(me){const{scrollLeft:$e,scrollTop:ce,clientHeight:Le,scrollHeight:nt}=U,et=Math.ceil(Ae*50/Pe);Te?ce+Le<nt?(e.scrollTo($e,ce+et),_e(te),Ue(te)):ut():ce?(e.scrollTo($e,ce-et),_e(te),Ue(te)):ut()}},50)};Lo(z,"drag--range"),document.onmousemove=te=>{te.preventDefault(),te.stopPropagation();const{clientY:$e}=te,{boundingTop:ce}=Rc(U);$e<ce?(Te=!1,Ae=ce-$e,me||_e(te)):$e>ce+U.clientHeight?(Te=!0,Ae=$e-ce-U.clientHeight,me||_e(te)):me&&ut(),Ue(te)},document.onmouseup=te=>{ut(),Wn(z,"drag--range"),fe.removeAttribute("style"),document.onmousemove=null,document.onmouseup=null,tt("end",te)},tt("start",N)}},D=(N,Y)=>{const{editConfig:L,checkboxConfig:F,mouseConfig:M}=t,q=i.value,V=d.value,j=a.value;if(M&&V.area&&e.triggerCellAreaModnEvent)return e.triggerCellAreaModnEvent(N,Y);F&&q.range&&O(N,Y),M&&V.selected&&(!L||j.mode==="cell")&&e.handleSelected(Y,N)},I=(N,Y,L,F,M,q)=>{const{afterFullData:V,visibleColumn:j}=n,U=Object.assign({},Y),z=e.getVTRowIndex(U.row),k=e.getVTColumnIndex(U.column);return N.preventDefault(),F&&z>0?(U.rowIndex=z-1,U.row=V[U.rowIndex]):q&&z<V.length-1?(U.rowIndex=z+1,U.row=V[U.rowIndex]):L&&k?(U.columnIndex=k-1,U.column=j[U.columnIndex]):M&&k<j.length-1&&(U.columnIndex=k+1,U.column=j[U.columnIndex]),e.scrollToRow(U.row,U.column).then(()=>{U.cell=e.getCellElement(U.row,U.column),e.handleSelected(U,N)}),U};return{moveTabSelected(N,Y,L){const{editConfig:F}=t,{afterFullData:M,visibleColumn:q}=n,V=a.value,j=h.value,U=y.value,z=c.value,k=p.value;let ne,fe,G;const J=Object.assign({},N),we=e.getVTRowIndex(J.row),se=e.getVTColumnIndex(J.column);L.preventDefault(),Y?se<=0?we>0&&(fe=we-1,ne=M[fe],G=q.length-1):G=se-1:se>=q.length-1?we<M.length-1&&(fe=we+1,ne=M[fe],G=0):G=se+1;const re=q[G];re&&(ne?(J.rowIndex=fe,J.row=ne):J.rowIndex=we,J.columnIndex=G,J.column=re,J.cell=e.getCellElement(J.row,J.column),j.isCurrent&&U.isFollowSelected&&e.triggerCurrentRowEvent(L,J),z.isCurrent&&k.isFollowSelected&&e.triggerCurrentColumnEvent(L,J),F?(V.trigger==="click"||V.trigger==="dblclick")&&(V.mode==="row"?e.handleEdit(J,L):e.scrollToRow(J.row,J.column).then(()=>{e.handleSelected(J,L)})):e.scrollToRow(J.row,J.column).then(()=>{e.handleSelected(J,L)}))},moveCurrentRow(N,Y,L){const{treeConfig:F}=t,{currentRow:M}=r,{afterFullData:q}=n,V=s.value,j=V.children||V.childrenField;let U;if(M)if(F){const{index:z,items:k}=u.findTree(q,ne=>ne===M,{children:j});N&&z>0?U=k[z-1]:Y&&z<k.length-1&&(U=k[z+1])}else{const z=e.getVTRowIndex(M);N&&z>0?U=q[z-1]:Y&&z<q.length-1&&(U=q[z+1])}else U=q[0];if(U){L.preventDefault();const z={$table:e,row:U,rowIndex:e.getRowIndex(U),$rowIndex:e.getVMRowIndex(U)};e.scrollToRow(U).then(()=>e.triggerCurrentRowEvent(L,z))}},moveCurrentColumn(N,Y,L){const{currentColumn:F}=r,{visibleColumn:M}=n;let q=null;if(F){const V=e.getVTColumnIndex(F);N&&V>0?q=M[V-1]:Y&&V<M.length-1&&(q=M[V+1])}else q=M[0];if(q){L.preventDefault();const V={$table:e,column:q,columnIndex:e.getColumnIndex(q),$columnIndex:e.getVMColumnIndex(q)};e.scrollToColumn(q).then(()=>e.triggerCurrentColumnEvent(L,V))}},moveArrowSelected(N,Y,L,F,M,q){const{highlightCurrentRow:V,highlightCurrentColumn:j}=t,U=h.value,z=y.value,k=c.value,ne=p.value,fe=I(q,N,Y,L,F,M);(U.isCurrent||V)&&(z.isFollowSelected?e.triggerCurrentRowEvent(q,fe):(L||M)&&(U.isCurrent||V)&&e.moveCurrentRow(L,M,q)),(k.isCurrent||j)&&(ne.isFollowSelected?e.triggerCurrentColumnEvent(q,fe):(Y||F)&&(k.isCurrent||j)&&e.moveCurrentColumn(Y,F,q))},moveEnterSelected(N,Y,L,F,M,q){const{highlightCurrentRow:V,highlightCurrentColumn:j}=t,U=h.value,z=y.value,k=c.value,ne=p.value,fe=I(q,N,Y,L,F,M);(U.isCurrent||V)&&z.isFollowSelected&&e.triggerCurrentRowEvent(q,fe),(k.isCurrent||j)&&ne.isFollowSelected&&e.triggerCurrentColumnEvent(q,fe)},moveSelected(N,Y,L,F,M,q){I(q,N,Y,L,F,M)},handleCellMousedownEvent:D}}});const{getConfig:iq,validators:sq,hooks:cq}=Se;class ss{constructor(t){Object.assign(this,{$options:t,required:t.required,min:t.min,max:t.max,type:t.type,pattern:t.pattern,validator:t.validator,trigger:t.trigger,maxWidth:t.maxWidth})}get content(){return $a(this.$options.content||this.$options.message)}get message(){return this.content}}function uq(e,t){return!(e&&!(u.isRegExp(e)?e:new RegExp(e)).test(t))}function ex(e,t){return!(!u.eqNull(e)&&t>u.toNumber(e))}function tx(e,t){return!(!u.eqNull(e)&&t<u.toNumber(e))}function qT(e,t,r){const{type:n,min:l,max:a,pattern:i}=e,d=n==="array",s=n==="number",h=n==="string",c=`${t}`;if(!uq(i,c))return!1;if(d){if(!u.isArray(t)||r&&!t.length||!tx(l,t.length)||!ex(a,t.length))return!1}else if(s){const b=Number(t);if(isNaN(b)||!tx(l,b)||!ex(a,b))return!1}else if(h&&!u.isString(t)||r&&!c||!tx(l,c.length)||!ex(a,c.length))return!1;return!0}function dq(e,t){const{required:r}=e,n=u.isArray(t)?!t.length:Ma(t);if(r){if(n||!qT(e,t,r))return!1}else if(!n&&!qT(e,t,r))return!1;return!0}const HT=["fullValidate","validate","fullValidateField","validateField","clearValidate"];cq.add("tableValidatorModule",{setupTable(e){const{props:t,reactData:r,internalData:n}=e,{refValidTooltip:l}=e.getRefMaps(),{computeValidOpts:a,computeTreeOpts:i,computeEditOpts:d,computeAggregateOpts:s}=e.getComputeMaps();let h={},c={},b;const E=g=>new Promise(O=>{a.value.autoPos===!1?(e.dispatchEvent("valid-error",g,null),O()):e.handleEdit(g,{type:"valid-error",trigger:"call"}).then(()=>{O(c.showValidTooltip(g))})}),y=g=>{if(a.value.msgMode==="single"){const D=Object.keys(g),I={};if(D.length){const W=D[0];I[W]=g[W]}return I}return g},p=(g,O,D,I)=>{const W={},{editRules:N,treeConfig:Y}=t,{isRowGroupStatus:L}=r,{afterFullData:F,pendingRowMaps:M,removeRowMaps:q}=n,V=i.value,j=s.value,U=a.value;let z;g===!0?z=F:g&&(u.isFunction(g)?D=g:z=u.isArray(g)?g:[g]),z||(e.getInsertRecords?z=e.getInsertRecords().concat(e.getUpdateRecords()):z=[]);const k=[];n._lastCallTime=Date.now(),b=!1,h.clearValidate();const ne={};if(N){const fe=O&&O.length?O:e.getColumns(),G=J=>{const we=It(e,J);if(!q[we]&&!M[we]&&!e.isAggregateRecord(J)&&(I||!b)){const se=[];fe.forEach(re=>{const ve=u.isString(re)?re:re.field;(I||!b)&&u.has(N,ve)&&se.push(c.validCellRules("all",J,re).catch(({rule:Ee,rules:Re})=>{const Pe={rule:Ee,rules:Re,rowIndex:e.getRowIndex(J),row:J,columnIndex:e.getColumnIndex(re),column:re,field:ve,$table:e};if(W[ve]||(W[ve]=[]),ne[`${It(e,J)}:${re.id}`]={column:re,row:J,rule:Ee,content:Ee.content},W[ve].push(Pe),!I)return b=!0,Promise.reject(Pe)}))}),k.push(Promise.all(se))}};if(L)u.eachTree(z,G,{children:j.mapChildrenField});else if(Y){const J=V.children||V.childrenField;u.eachTree(z,G,{children:J})}else z.forEach(G);return Promise.all(k).then(()=>{const J=Object.keys(W);return r.validErrorMaps=y(ne),ge().then(()=>{if(J.length)return Promise.reject(W[J[0]][0]);D&&D()})}).catch(J=>new Promise((we,se)=>{const re=()=>{ge(()=>{D?(D(W),we()):iq().validToReject==="obsolete"?se(W):we(W)})},ve=()=>{J.cell=e.getCellElement(J.row,J.column),t_(J.cell),E(J).then(re)};if(U.autoPos===!1)re();else{const Ee=J.row,Re=J.column;e.scrollToRow(Ee,Re).then(ve)}}))}else r.validErrorMaps={};return ge().then(()=>{D&&D()})};return h={fullValidate(g,O){return u.isFunction(O)&&Zt("vxe.error.notValidators",["fullValidate(rows, callback)","fullValidate(rows)"]),p(g,null,O,!0)},validate(g,O){return p(g,null,O)},fullValidateField(g,O){const D=(u.isArray(O)?O:O?[O]:[]).map(I=>un(e,I));return D.length?p(g,D,null,!0):ge()},validateField(g,O){const D=(u.isArray(O)?O:O?[O]:[]).map(I=>un(e,I));return D.length?p(g,D,null):ge()},clearValidate(g,O){const{validErrorMaps:D}=r,I=l.value,W=a.value,N=u.isArray(g)?g:g?[g]:[],Y=(u.isArray(O)?O:O?[O]:[]).map(F=>un(e,F));let L={};if(I&&I.reactData.visible&&I.close(),W.msgMode==="single")return r.validErrorMaps={},ge();if(N.length&&Y.length)L=Object.assign({},D),N.forEach(F=>{Y.forEach(M=>{const q=`${It(e,F)}:${M.id}`;L[q]&&delete L[q]})});else if(N.length){const F=N.map(M=>`${It(e,M)}`);u.each(D,(M,q)=>{F.indexOf(q.split(":")[0])>-1&&(L[q]=M)})}else if(Y.length){const F=Y.map(M=>`${M.id}`);u.each(D,(M,q)=>{F.indexOf(q.split(":")[1])>-1&&(L[q]=M)})}return r.validErrorMaps=L,ge()}},c={validCellRules(g,O,D,I){const W=e.xeGrid,N=e.xeGantt,{editRules:Y}=t,{field:L}=D,F=[],M=[];if(L&&Y){const q=u.get(Y,L);if(q){const V=u.isUndefined(I)?u.get(O,L):I;q.forEach(j=>{const{trigger:U,validator:z}=j;if(g==="all"||!U||g===U)if(z){const k={cellValue:V,rule:j,rules:q,row:O,rowIndex:e.getRowIndex(O),column:D,columnIndex:e.getColumnIndex(D),field:D.field,$table:e,$grid:W,$gantt:N};let ne;if(u.isString(z)){const fe=sq.get(z);if(fe){const G=fe.tableCellValidatorMethod||fe.cellValidatorMethod;G?ne=G(k):At("vxe.error.notValidators",[z])}else At("vxe.error.notValidators",[z])}else ne=z(k);ne&&(u.isError(ne)?(b=!0,F.push(new ss({type:"custom",trigger:U,content:ne.message,rule:new ss(j)}))):ne.catch&&M.push(ne.catch(fe=>{b=!0,F.push(new ss({type:"custom",trigger:U,content:fe&&fe.message?fe.message:j.content||j.message,rule:new ss(j)}))})))}else dq(j,V)||(b=!0,F.push(new ss(j)))})}}return Promise.all(M).then(()=>{if(F.length){const q={rules:F,rule:F[0]};return Promise.reject(q)}})},hasCellRules(g,O,D){const{editRules:I}=t,{field:W}=D;if(W&&I){const N=u.get(I,W);return N&&!!u.find(N,Y=>g==="all"||!Y.trigger||g===Y.trigger)}return!1},triggerValidate(g){const{editConfig:O,editRules:D}=t,{editStore:I}=r,{actived:W}=I,N=d.value,Y=a.value;if(D&&Y.msgMode==="single"&&(r.validErrorMaps={}),O&&D&&W.row){const{row:L,column:F,cell:M}=W.args;if(c.hasCellRules(g,L,F))return c.validCellRules(g,L,F).then(()=>{N.mode==="row"&&h.clearValidate(L,F)}).catch(({rule:q})=>{if(!q.trigger||g===q.trigger){const V={rule:q,row:L,column:F,cell:M};return c.showValidTooltip(V),Promise.reject(V)}return Promise.resolve()})}return Promise.resolve()},showValidTooltip(g){const{height:O}=t,{tableData:D,validStore:I,validErrorMaps:W}=r,{rule:N,row:Y,column:L,cell:F}=g,M=a.value,q=l.value,V=N.content;return I.visible=!0,M.msgMode==="single"?r.validErrorMaps={[`${It(e,Y)}:${L.id}`]:{column:L,row:Y,rule:N,content:V}}:r.validErrorMaps=Object.assign({},W,{[`${It(e,Y)}:${L.id}`]:{column:L,row:Y,rule:N,content:V}}),e.dispatchEvent("valid-error",g,null),q&&q&&(M.message==="tooltip"||M.message==="default"&&!O&&D.length<2)?q.open(F,V):ge()}},Object.assign(Object.assign({},h),c)},setupGrid(e){return e.extendTableMethods(HT)},setupGantt(e){return e.extendTableMethods(HT)}});const BT=["openCustom","closeCustom","toggleCustom","saveCustom","cancelCustom","resetCustom","toggleCustomAllCheckbox","setCustomAllCheckbox"];Se.hooks.add("tableCustomModule",{setupTable(e){const{reactData:t,internalData:r}=e,{computeCustomOpts:n,computeRowGroupFields:l}=e.getComputeMaps(),{refElem:a}=e.getRefMaps(),i=e.xeGrid,d=e.xeGantt,s=()=>{const{customStore:N}=t;let Y=a.value,L=0;if(d){const{refGanttContainerElem:F}=d.getRefMaps(),M=F.value;M&&(Y=M)}Y&&(L=Y.clientHeight-28),N.maxHeight=Math.max(88,L)},h=()=>{const{initStore:N,customStore:Y}=t;return Y.visible=!0,N.custom=!0,c(),D(),s(),ge().then(()=>s())},c=()=>{const{customStore:N}=t,{collectColumn:Y}=r;if(N.visible){const L={},F={},M={};u.eachTree(Y,q=>{const V=q.getKey();q.renderFixed=q.fixed,q.renderVisible=q.visible,q.renderResizeWidth=q.renderWidth,L[V]=q.renderSortNumber,F[V]=q.fixed,M[V]=q.visible}),N.oldSortMaps=L,N.oldFixedMaps=F,N.oldVisibleMaps=M,t.customColumnList=Y.slice(0)}},b=()=>{const{customStore:N}=t,Y=n.value;return N.visible&&(N.visible=!1,Y.immediate||e.handleCustom()),ge()},E=()=>{const{customStore:N}=t;return N.visible?b():h()},y=()=>{const{customColumnList:N,aggHandleFields:Y,rowGroupList:L}=t,F=n.value,{allowVisible:M,allowSort:q,allowFixed:V,allowResizable:j,allowGroup:U,allowValues:z}=F;return u.eachTree(N,(k,ne,fe,G,J)=>{if(J)k.fixed=J.fixed;else{if(q){const we=ne+1;k.renderSortNumber=we}V&&(k.fixed=k.renderFixed)}j&&k.renderVisible&&(!k.children||k.children.length)&&k.renderResizeWidth!==k.renderWidth&&(k.resizeWidth=k.renderResizeWidth,k.renderWidth=k.renderResizeWidth),M&&(k.visible=k.renderVisible),U&&z&&(k.aggFunc=k.renderAggFn)}),t.isCustomStatus=!0,U&&e.handlePivotTableAggregateData&&(L.length!==Y.length||L.some((k,ne)=>k.field!==Y[ne])?Y.length?e.setRowGroups(Y):e.clearRowGroups():z&&e.handleUpdateAggData()),q&&(r.collectColumn=N),e.saveCustomStore("confirm")},p=()=>{const{customColumnList:N,customStore:Y}=t,{oldSortMaps:L,oldFixedMaps:F,oldVisibleMaps:M}=Y,q=n.value,{allowVisible:V,allowSort:j,allowFixed:U,allowResizable:z}=q;return u.eachTree(N,k=>{const ne=k.getKey(),fe=!!M[ne],G=F[ne]||"";V&&(k.renderVisible=fe,k.visible=fe),U&&(k.renderFixed=G,k.fixed=G),j&&(k.renderSortNumber=L[ne]||0),z&&(k.renderResizeWidth=k.renderWidth)},{children:"children"}),ge()},g=N=>{const{customStore:Y}=t,{customColumnList:L}=t,F=n.value,{checkMethod:M,visibleMethod:q}=F,V=!!N;return F.immediate?(u.eachTree(L,j=>{q&&!q({$table:e,column:j})||M&&!M({$table:e,column:j})||(j.visible=V,j.renderVisible=V,j.halfVisible=!1)}),Y.isAll=V,t.isCustomStatus=!0,e.handleCustom(),e.saveCustomStore("update:visible")):(u.eachTree(L,j=>{q&&!q({$table:e,column:j})||M&&!M({$table:e,column:j})||(j.renderVisible=V,j.halfVisible=!1)}),Y.isAll=V),e.checkCustomStatus(),ge()},O={getCustomVisible(){const{customStore:N}=t;return N.visible},openCustom:h,closeCustom:b,toggleCustom:E,saveCustom:y,cancelCustom:p,resetCustom(N){const{rowGroupList:Y}=t,{collectColumn:L}=r,F=n.value,{checkMethod:M}=F,q=Object.assign({visible:!0,resizable:N===!0,fixed:N===!0,sort:N===!0,aggFunc:N===!0},N),V=[];if(u.eachTree(L,j=>{q.resizable&&(j.resizeWidth=0),q.fixed&&(j.fixed=j.defaultFixed),q.sort&&(j.renderSortNumber=j.sortNumber,j.parentId=j.defaultParentId),(!M||M({$table:e,column:j}))&&(j.visible=j.defaultVisible),q.aggFunc&&(j.aggFunc=j.defaultAggFunc,j.renderAggFn=j.defaultAggFunc),j.renderResizeWidth=j.renderWidth,V.push(j)}),q.sort){const j=u.toArrayTree(u.orderBy(V,"renderSortNumber"),{key:"id",parentKey:"parentId",children:"children"});r.collectColumn=j,r.tableFullColumn=ws(j)}return t.isCustomStatus=!1,e.handleCustom().then(()=>{if(q.aggFunc&&e.handlePivotTableAggregateData){const j=l.value;(j?j.length:Y.length)?j&&j.length?e.setRowGroups(j):e.clearRowGroups():e.handleUpdateAggData()}e.saveCustomStore("reset")})},toggleCustomAllCheckbox(){const{customStore:N}=t,Y=!N.isAll;return g(Y)},setCustomAllCheckbox:g},D=()=>{const{customStore:N}=t,{collectColumn:Y}=r,L=n.value,{checkMethod:F}=L;N.isAll=Y.every(M=>(F?!F({$table:e,column:M}):!1)||M.renderVisible),N.isIndeterminate=!N.isAll&&Y.some(M=>(!F||F({$table:e,column:M}))&&(M.renderVisible||M.halfVisible))},I=(N,Y)=>{(i||d||e).dispatchEvent("custom",{type:N},Y)},W={checkCustomStatus:D,emitCustomEvent:I,triggerCustomEvent(N){const Y=e.reactData,{customStore:L}=Y;L.visible?(b(),I("close",N)):(L.btnEl=N.target,h(),I("open",N))},customOpenEvent(N){const Y=e.reactData,{customStore:L}=Y;L.visible||(L.activeBtn=!0,L.btnEl=N.target,e.openCustom(),e.emitCustomEvent("open",N))},customCloseEvent(N){const Y=e.reactData,{customStore:L}=Y;L.visible&&(L.activeBtn=!1,e.closeCustom(),e.emitCustomEvent("close",N))},handleUpdateCustomColumn:c};return Object.assign(Object.assign({},O),W)},setupGrid(e){return e.extendTableMethods(BT)},setupGantt(e){return e.extendTableMethods(BT)}});const{getConfig:Oc,renderer:fq,getI18n:aC,getComponent:Y$}=Se,K$="modelValue",X$={};function Ia(e,t,r){return u.eqNull(e)?u.eqNull(t)?r:t:e}function pq(e,t){return e&&t.valueFormat?u.toStringDate(e,t.valueFormat):e}function gq(e,t,r){const{dateConfig:n={}}=t;return u.toDateString(pq(e,t),n.labelFormat||r)}function rx(e,t){return gq(e,t,aC(`vxe.input.date.labelFormat.${t.type||"date"}`))}function hq(e){return`vxe-${e.replace("$","")}`}function to({name:e}){return Y$(e)}function iu({name:e}){return ux(hq(e))}function Pc(e,t,r){const{$panel:n}=e;n.changeOption({},t,r)}function su(e){let{name:t,attrs:r}=e;return t==="input"&&(r=Object.assign({type:"text"},r)),r}function Z$(e){const{name:t,immediate:r,props:n}=e;if(!r){if(t==="VxeInput"||t==="$input"){const{type:l}=n||{};return!(!l||l==="text"||l==="number"||l==="integer"||l==="float")}return!(t==="input"||t==="textarea"||t==="$textarea")}return r}function _o(e,t,r,n){return u.assign({immediate:Z$(e)},X$,n,e.props,{[K$]:r})}function kc(e,t,r,n){return u.assign({},X$,n,e.props,{[K$]:r})}function cu(e,t){return t.$type==="cell"||Z$(e)}function eo(e,t,r,n){const{placeholder:l}=e;return[m("span",{class:["vxe-cell--label",n?n.class:""]},l&&Jx(r)?[m("span",{class:"vxe-cell--placeholder"},Rn($a(l),1))]:Rn(r,1))]}function J$(e,t,r){const{events:n}=e,l=q$(e),a=H$(e),{model:i,change:d,blur:s}=r||{},h=a===l,c={};return n&&u.objectEach(n,(b,E)=>{c[hl(E)]=function(...y){b(t,...y)}}),i&&(c[hl(l)]=function(b){i(b),h&&d&&d(b),n&&n[l]&&n[l](t,b)}),!h&&d&&(c[hl(a)]=function(b){d(b),n&&n[a]&&n[a](t,b)}),s&&(c[hl(xi)]=function(b){s(b),n&&n[xi]&&n[xi](t,b)}),c}const xi="blur";function Si(e,t,r,n){const{events:l}=e,a=q$(e),i=H$(e),{model:d,change:s,blur:h}=r||{},c={};return u.objectEach(l,(b,E)=>{c[hl(E)]=function(...y){u.isFunction(b)||At("vxe.error.errFunc",[b]),b(t,...y)}}),d&&(c[hl(a)]=function(b){d(b),l&&l[a]&&l[a](t,b)}),s&&(c[hl(i)]=function(...b){s(...b),l&&l[i]&&l[i](t,...b)}),h&&(c[hl(xi)]=function(...b){h(...b),l&&l[xi]&&l[xi](t,...b)}),n?Object.assign(c,n):c}function Ko(e,t){const{$table:r,row:n,column:l}=t,{name:a}=e,{model:i}=l,d=cu(e,t);return Si(e,t,{model(s){i.update=!0,i.value=s,d&&ca(n,l,s)},change(s){if(!d&&a&&["VxeInput","VxeNumberInput","VxeTextarea","$input","$textarea"].includes(a)){const h=s.value;i.update=!0,i.value=h,r.updateStatus(t,h)}else r.updateStatus(t)},blur(){d?r.handleCellRuleUpdateStatus("blur",t):r.handleCellRuleUpdateStatus("blur",t,i.value)}})}function Lc(e,t,r){return Si(e,t,{model(n){r.data=n},change(){Pc(t,!u.eqNull(r.data),r)},blur(){Pc(t,!u.eqNull(r.data),r)}})}function Q$(e,t){const{$table:r,row:n,column:l}=t,{model:a}=l;return J$(e,t,{model(i){const d=i.target;if(d){const s=d.value;cu(e,t)?ca(n,l,s):(a.update=!0,a.value=s)}},change(i){const d=i.target;if(d){const s=d.value;r.updateStatus(t,s)}},blur(i){const d=i.target;if(d){const s=d.value;r.updateStatus(t,s)}}})}function eA(e,t,r){return J$(e,t,{model(n){const l=n.target;l&&(r.data=l.value)},change(){Pc(t,!u.eqNull(r.data),r)},blur(){Pc(t,!u.eqNull(r.data),r)}})}function nx(e,t){const{row:r,column:n}=t,{name:l}=e,a=cu(e,t)?yn(r,n):n.model.value;return[m(`${l}`,Object.assign(Object.assign(Object.assign({class:`vxe-default-${l}`},su(e)),{value:a}),Q$(e,t)))]}function vq(e,t){return[m(to(e),Object.assign(Object.assign({},_o(e,t,null)),Si(e,t)))]}function bo(e,t){const{row:r,column:n}=t,l=yn(r,n);return[m(to(e),Object.assign(Object.assign({},_o(e,t,l)),Ko(e,t)))]}function mq(e,t){const{row:r,column:n}=t,l=yn(r,n);return[m(to(e),Object.assign(Object.assign({},_o(e,t,l)),Ko(e,t)))]}function VT(e,t){const{options:r}=e,{row:n,column:l}=t,a=yn(n,l);return[m(to(e),Object.assign(Object.assign({options:r},_o(e,t,a)),Ko(e,t)))]}function uc(e,t){const{row:r,column:n}=t,l=yn(r,n);return[m(iu(e),Object.assign(Object.assign({},_o(e,t,l)),Ko(e,t)))]}function tA(e,t){return[m(Y$("vxe-button"),Object.assign(Object.assign({},_o(e,t,null)),Si(e,t)))]}function bq(e,t){const{children:r}=e;return r?r.map(n=>tA(n,t)[0]):[]}function rA(e,t,r){const{optionGroups:n,optionGroupProps:l={}}=e,a=l.options||"options",i=l.label||"label";return n?n.map((d,s)=>m("optgroup",{key:s,label:d[i]},r(d[a],e,t))):[]}function Nc(e,t,r){const{optionProps:n={}}=t,{row:l,column:a}=r,i=n.label||"label",d=n.value||"value",s=n.disabled||"disabled",h=cu(t,r)?yn(l,a):a.model.value;return e?e.map((c,b)=>m("option",{key:b,value:c[d],disabled:c[s],selected:c[d]==h},c[i])):[]}function xq(e,t){const{column:r}=t,{name:n}=e,l=su(e);return r.filters.map((a,i)=>m(`${n}`,Object.assign(Object.assign(Object.assign({key:i,class:`vxe-default-${n}`},l),{value:a.data}),eA(e,t,a))))}function ox(e,t){const{column:r}=t;return r.filters.map((n,l)=>{const a=n.data;return m(to(e),Object.assign(Object.assign({key:l},kc(e,e,a)),Lc(e,t,n)))})}function Cq(e,t){const{column:r}=t;return r.filters.map((n,l)=>{const a=n.data;return m(iu(e),Object.assign(Object.assign({key:l},kc(e,e,a)),Lc(e,t,n)))})}function cs({option:e,row:t,column:r}){const{data:n}=e;return u.get(t,r.field)==n}function us({option:e,row:t,column:r}){const{data:n}=e,l=u.get(t,r.field);return u.toValueString(l).indexOf(n)>-1}function zT(e,t){return[m("select",Object.assign(Object.assign({class:"vxe-default-select"},su(e)),Q$(e,t)),e.optionGroups?rA(e,t,Nc):Nc(e.options,e,t))]}function GT(e,t){const{row:r,column:n}=t,{options:l,optionProps:a,optionGroups:i,optionGroupProps:d}=e,s=yn(r,n);return[m(to(e),Object.assign(Object.assign({},_o(e,t,s,{options:l,optionProps:a,optionGroups:i,optionGroupProps:d})),Ko(e,t)))]}function WT(e,t){const{row:r,column:n}=t,{options:l,optionProps:a}=e,i=yn(r,n);return[m(to(e),Object.assign(Object.assign({},_o(e,t,i,{options:l,optionProps:a})),Ko(e,t)))]}function UT(e,t){const{row:r,column:n}=t,{options:l,optionProps:a,optionGroups:i,optionGroupProps:d}=e,s=yn(r,n);return[m(iu(e),Object.assign(Object.assign({},_o(e,t,s,{options:l,optionProps:a,optionGroups:i,optionGroupProps:d})),Ko(e,t)))]}function ci(e,{row:t,column:r}){const{options:n,optionGroups:l,optionProps:a={},optionGroupProps:i={}}=e,d=u.get(t,r.field);let s;const h=a.label||"label",c=a.value||"value";return d!=null?u.map(u.isArray(d)?d:[d],l?b=>{const E=i.options||"options";for(let y=0;y<l.length&&(s=u.find(l[y][E],p=>p[c]==b),!s);y++);return s?s[h]:b}:b=>(s=u.find(n,E=>E[c]==b),s?s[h]:b)).join(", "):""}function dc(e){const{row:t,column:r,options:n}=e;return n.original?yn(t,r):ci(r.editRender||r.cellRender,e)}function fs(e,{row:t,column:r}){const{options:n,optionProps:l={}}=e,a=u.get(t,r.field),i=l.label||"label",d=l.value||"value",s=l.children||"children";if(a!=null){const h={};return u.eachTree(n,c=>{h[u.get(c,d)]=c},{children:s}),u.map(u.isArray(a)?a:[a],c=>{const b=h[c];return b&&u.get(b,i)}).join(", ")}return""}function ax(e){const{row:t,column:r,options:n}=e;return n.original?yn(t,r):fs(r.editRender||r.cellRender,e)}function jT(e,t){const{props:r={},showNegativeStatus:n}=e,{row:l,column:a}=t,{type:i}=r;let d=u.get(l,a.field),s=!1;if(!Jx(d)){const h=Oc().numberInput||{};if(i==="float"){const c=Ia(r.autoFill,h.autoFill,!0),b=Ia(r.digits,h.digits,1);d=u.toFixed(u.floor(d,b),b),c||(d=u.toNumber(d)),n&&d<0&&(s=!0)}else if(i==="amount"){const c=Ia(r.autoFill,h.autoFill,!0),b=Ia(r.digits,h.digits,2),E=Ia(r.showCurrency,h.showCurrency,!1);if(d=u.toNumber(d),n&&d<0&&(s=!0),d=u.commafy(d,{digits:b}),!c){const[y,p]=d.split(".");if(p){const g=p.replace(/0+$/,"");d=g?[y,".",g].join(""):y}}E&&(d=`${r.currencySymbol||h.currencySymbol||aC("vxe.numberInput.currencySymbol")||""}${d}`)}else n&&u.toNumber(d)<0&&(s=!0)}return eo(e,t,d,s?{class:"is--negative"}:{})}fq.mixin({input:{tableAutoFocus:"input",renderTableEdit:nx,renderTableDefault:nx,renderTableFilter:xq,tableFilterDefaultMethod:us},textarea:{tableAutoFocus:"textarea",renderTableEdit:nx},select:{renderTableEdit:zT,renderTableDefault:zT,renderTableCell(e,t){return eo(e,t,ci(e,t))},renderTableFilter(e,t){const{column:r}=t;return r.filters.map((n,l)=>m("select",Object.assign(Object.assign({key:l,class:"vxe-default-select"},su(e)),eA(e,t,n)),e.optionGroups?rA(e,t,Nc):Nc(e.options,e,t)))},tableFilterDefaultMethod:cs,tableExportMethod:dc},VxeInput:{tableAutoFocus:"input",renderTableEdit:bo,renderTableCell(e,t){const{props:r={}}=e,{row:n,column:l}=t,a=Oc().input||{},i=r.digits||a.digits||2;let d=u.get(n,l.field);if(d)switch(r.type){case"date":case"week":case"month":case"quarter":case"year":d=rx(d,r);break;case"float":d=u.toFixed(u.floor(d,i),i);break}return eo(e,t,d)},renderTableDefault:bo,renderTableFilter:ox,tableFilterDefaultMethod:us},FormatNumberInput:{renderTableDefault:jT,tableFilterDefaultMethod:us,tableExportMethod(e){const{row:t,column:r}=e;return u.get(t,r.field)}},VxeNumberInput:{tableAutoFocus:"input",renderTableEdit:bo,renderTableCell:jT,renderTableFooter(e,t){const{props:r={}}=e,{row:n,column:l,_columnIndex:a}=t,{type:i}=r,d=u.isArray(n)?n[a]:u.get(n,l.field);if(u.isNumber(d)){const s=Oc().numberInput||{};if(i==="float"){const h=Ia(r.autoFill,s.autoFill,!0),c=Ia(r.digits,s.digits,1);let b=u.toFixed(u.floor(d,c),c);return h||(b=u.toNumber(b)),b}else if(i==="amount"){const h=Ia(r.autoFill,s.autoFill,!0),c=Ia(r.digits,s.digits,2),b=Ia(r.showCurrency,s.showCurrency,!1);let E=u.commafy(u.toNumber(d),{digits:c});if(!h){const[y,p]=E.split(".");if(p){const g=p.replace(/0+$/,"");E=g?[y,".",g].join(""):y}}return b&&(E=`${r.currencySymbol||s.currencySymbol||aC("vxe.numberInput.currencySymbol")||""}${E}`),E}}return $a(d,1)},renderTableDefault:bo,renderTableFilter:ox,tableFilterDefaultMethod:us,tableExportMethod(e){const{row:t,column:r}=e;return u.get(t,r.field)}},VxeDatePicker:{tableAutoFocus:"input",renderTableEdit:bo,renderTableCell(e,t){const{props:r={}}=e,{row:n,column:l}=t;let a=u.get(n,l.field);return a&&r.type!=="time"&&(a=rx(a,r)),eo(e,t,a)},renderTableDefault:bo,renderTableFilter:ox,tableFilterDefaultMethod:cs},VxeDateRangePicker:{tableAutoFocus:"input",renderTableEdit(e,t){const{startField:r,endField:n}=e,{$table:l,row:a,column:i}=t,{model:d}=i,s=yn(a,i),h={},c={};return r&&n&&(h.startValue=u.get(a,r),h.endValue=u.get(a,n),c["onUpdate:startValue"]=b=>{r&&u.set(a,r,b)},c["onUpdate:endValue"]=b=>{n&&u.set(a,n,b)}),[m(to(e),Object.assign(Object.assign({},_o(e,t,s,h)),Si(e,t,{model(b){d.update=!0,d.value=b,ca(a,i,b)},change(){l.updateStatus(t)},blur(){l.handleCellRuleUpdateStatus("blur",t)}},c)))]},renderTableCell(e,t){const{startField:r,endField:n}=e,{row:l,column:a}=t;let i="",d="";if(r&&n)i=u.get(l,r),d=u.get(l,n);else{const h=u.get(l,a.field);if(h)if(u.isArray(h))i=h[0],d=h[1];else{const c=`${h}`.split(",");i=c[0],d=c[1]}}let s="";return i&&d&&(s=`${i} ~ ${d}`),eo(e,t,s)}},VxeTextarea:{tableAutoFocus:"textarea",renderTableEdit:bo,renderTableCell(e,t){const{row:r,column:n}=t,l=u.get(r,n.field);return eo(e,t,l)}},VxeButton:{renderTableDefault:vq},VxeButtonGroup:{renderTableDefault(e,t){const{options:r}=e;return[m(to(e),Object.assign(Object.assign({options:r},_o(e,t,null)),Si(e,t)))]}},VxeSelect:{tableAutoFocus:"input",renderTableEdit:GT,renderTableDefault:GT,renderTableCell(e,t){return eo(e,t,ci(e,t))},renderTableFilter(e,t){const{column:r}=t,{options:n,optionProps:l,optionGroups:a,optionGroupProps:i}=e;return r.filters.map((d,s)=>{const h=d.data;return m(to(e),Object.assign(Object.assign({key:s},kc(e,t,h,{options:n,optionProps:l,optionGroups:a,optionGroupProps:i})),Lc(e,t,d)))})},tableFilterDefaultMethod:cs,tableExportMethod:dc},formatOption:{renderTableDefault(e,t){return eo(e,t,ci(e,t))}},FormatSelect:{renderTableDefault(e,t){return eo(e,t,ci(e,t))},tableFilterDefaultMethod:cs,tableExportMethod:dc},VxeTreeSelect:{tableAutoFocus:"input",renderTableEdit:WT,renderTableCell(e,t){return eo(e,t,fs(e,t))},tableExportMethod:ax},formatTree:{renderTableDefault(e,t){return eo(e,t,fs(e,t))}},FormatTreeSelect:{renderTableDefault(e,t){return eo(e,t,fs(e,t))},tableExportMethod:ax},VxeTableSelect:{tableAutoFocus:"input",renderTableEdit:WT,renderTableCell(e,t){return eo(e,t,fs(e,t))},tableExportMethod:ax},VxeColorPicker:{tableAutoFocus:"input",renderTableEdit(e,t){const{row:r,column:n}=t,{options:l}=e,a=yn(r,n);return[m(to(e),Object.assign(Object.assign({},_o(e,t,a,{colors:l})),Ko(e,t)))]},renderTableCell(e,t){const{row:r,column:n}=t,l=u.get(r,n.field);return m("span",{class:"vxe-color-picker--readonly"},[m("div",{class:"vxe-color-picker--readonly-color",style:{backgroundColor:l}})])}},VxeIconPicker:{tableAutoFocus:"input",renderTableEdit(e,t){const{row:r,column:n}=t,{options:l}=e,a=yn(r,n);return[m(to(e),Object.assign(Object.assign({},_o(e,t,a,{icons:l})),Ko(e,t)))]},renderTableCell(e,t){const{row:r,column:n}=t,l=u.get(r,n.field);return m("i",{class:l})}},VxeRadioGroup:{renderTableDefault:VT},VxeCheckbox:{renderTableDefault:mq},VxeCheckboxGroup:{renderTableDefault:VT},VxeSwitch:{tableAutoFocus:"button",renderTableEdit:bo,renderTableDefault:bo},VxeUpload:{renderTableEdit:bo,renderTableCell:bo,renderTableDefault:bo},VxeImage:{renderTableDefault(e,t){const{row:r,column:n}=t,{props:l}=e,a=yn(r,n);return[m(to(e),Object.assign(Object.assign(Object.assign({},l),{src:a}),Ko(e,t)))]}},VxeImageGroup:{renderTableDefault(e,t){const{row:r,column:n}=t,{props:l}=e,a=yn(r,n);return[m(to(e),Object.assign(Object.assign(Object.assign({},l),{urlList:a}),Ko(e,t)))]}},VxeTextEllipsis:{renderTableDefault(e,t){const{row:r,column:n}=t,{props:l}=e,a=yn(r,n);return[m(to(e),Object.assign(Object.assign(Object.assign({},l),{content:a}),Ko(e,t)))]}},VxeRate:{renderTableDefault:bo},VxeSlider:{renderTableDefault:bo},$input:{tableAutoFocus:".vxe-input--inner",renderTableEdit:uc,renderTableCell(e,t){var r;const{props:n={}}=e,{row:l,column:a}=t,i=n.digits||((r=Oc().input)===null||r===void 0?void 0:r.digits)||2;let d=u.get(l,a.field);if(d)switch(n.type){case"date":case"week":case"month":case"year":d=rx(d,n);break;case"float":d=u.toFixed(u.floor(d,i),i);break}return eo(e,t,d)},renderTableDefault:uc,renderTableFilter:Cq,tableFilterDefaultMethod:us},$textarea:{tableAutoFocus:".vxe-textarea--inner"},$button:{renderTableDefault:tA},$buttons:{renderTableDefault:bq},$select:{tableAutoFocus:".vxe-input--inner",renderTableEdit:UT,renderTableDefault:UT,renderTableCell(e,t){return eo(e,t,ci(e,t))},renderTableFilter(e,t){const{column:r}=t,{options:n,optionProps:l,optionGroups:a,optionGroupProps:i}=e;return r.filters.map((d,s)=>{const h=d.data;return m(iu(e),Object.assign(Object.assign({key:s},kc(e,t,h,{options:n,optionProps:l,optionGroups:a,optionGroupProps:i})),Lc(e,t,d)))})},tableFilterDefaultMethod:cs,tableExportMethod:dc},$radio:{tableAutoFocus:".vxe-radio--input"},$checkbox:{tableAutoFocus:".vxe-checkbox--input"},$switch:{tableAutoFocus:".vxe-switch--button",renderTableEdit:uc,renderTableDefault:uc}});const{getConfig:xr,getIcon:fc,getI18n:aa,renderer:lx,formats:YT,createEvent:yq,globalResize:wq,interceptor:KT,hooks:Eq,globalEvents:Kr,GLOBAL_EVENT_KEYS:ko,useFns:Sq,renderEmptyElement:In}=Se,XT=5e6,ZT="VXE_CUSTOM_STORE",$l=5e6,ai=5e6;let Qn=null;const ql=Bo({name:"VxeTable",props:$c,emits:nC,setup(e,t){const{slots:r,emit:n}=t,l=u.uniqueId(),a=u.browse(),i=Se.getComponent("VxeLoading"),d=Se.getComponent("VxeTooltip"),s=mr("$xeTabs",null),h=mr("$xeGrid",null),c=mr("$xeGantt",null),b=h||c,{computeSize:E}=Sq.useSize(e),y=T_(),p=rn({staticColumns:[],tableGroupColumn:[],tableColumn:[],tableData:[],scrollXLoad:!1,scrollYLoad:!1,overflowY:!0,overflowX:!1,scrollbarWidth:0,scrollbarHeight:0,lastScrollTime:0,rowHeight:0,parentHeight:0,isGroup:!1,isAllOverflow:!1,isAllSelected:!1,isIndeterminate:!1,currentRow:null,currentColumn:null,selectRadioRow:null,footerTableData:[],rowGroupColumn:null,expandColumn:null,checkboxColumn:null,radioColumn:null,treeNodeColumn:null,hasFixedColumn:!1,upDataFlag:0,reColumnFlag:0,initStore:{filter:!1,import:!1,export:!1,custom:!1},customStore:{btnEl:null,isAll:!1,isIndeterminate:!1,activeBtn:!1,activeWrapper:!1,visible:!1,maxHeight:0,oldSortMaps:{},oldFixedMaps:{},oldVisibleMaps:{}},customColumnList:[],filterStore:{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1,maxHeight:null},columnStore:{leftList:[],centerList:[],rightList:[],resizeList:[],pxList:[],pxMinList:[],autoMinList:[],scaleList:[],scaleMinList:[],autoList:[],remainList:[]},ctxMenuStore:{selected:null,visible:!1,showChild:!1,selectChild:null,list:[],style:null},editStore:{indexs:{columns:[]},titles:{columns:[]},selected:{row:null,column:null},copyed:{cut:!1,rows:[],columns:[]},actived:{row:null,column:null},focused:{row:null,column:null}},tooltipStore:{row:null,column:null,content:null,visible:!1,type:null,currOpts:{}},validStore:{visible:!1},validErrorMaps:{},importStore:{inited:!1,file:null,type:"",modeList:[],typeList:[],filename:"",visible:!1},importParams:{mode:"",types:null,message:!0},exportStore:{inited:!1,name:"",modeList:[],typeList:[],columns:[],isPrint:!1,hasFooter:!1,hasMerge:!1,hasTree:!1,hasColgroup:!1,visible:!1},exportParams:{filename:"",sheetName:"",mode:"",type:"",isColgroup:!1,isMerge:!1,isAllExpand:!1,useStyle:!1,original:!1,message:!0,isHeader:!1,isTitle:!1,isFooter:!1},visiblwRowsFlag:1,isRowGroupStatus:!1,rowGroupList:[],aggHandleFields:[],aggHandleAggColumns:[],rowGroupExpandedFlag:1,rowExpandedFlag:1,treeExpandedFlag:1,updateCheckboxFlag:1,pendingRowFlag:1,insertRowFlag:1,removeRowFlag:1,mergeHeadFlag:1,mergeBodyFlag:1,mergeFootFlag:1,rowHeightStore:{large:52,default:48,medium:44,small:40,mini:36},scrollVMLoading:!1,scrollYHeight:0,scrollYTop:0,isScrollYBig:!1,scrollXLeft:0,scrollXWidth:0,isScrollXBig:!1,lazScrollLoading:!1,rowExpandHeightFlag:1,calcCellHeightFlag:1,resizeHeightFlag:1,resizeWidthFlag:1,isCustomStatus:!1,isCrossDragRow:!1,dragRow:null,isCrossDragCol:!1,dragCol:null,dragTipText:"",isDragResize:!1,isRowLoading:!1,isColLoading:!1}),g=cT();let O={},D={};const I=mt(),W=mt(),N=mt(),Y=mt(),L=mt(),F=mt(),M=mt(),q=mt(),V=mt(),j=mt(),U=mt(),z=mt(),k=mt(),ne=mt(),fe=mt(),G=mt(),J=mt(),we=mt(),se=mt(),re=mt(),ve=mt(),Ee=mt(),Re=mt(),Pe=mt(),le=mt(),Xe=mt(),me=mt(),Te=mt(),Ae=mt(),tt=mt(),Ue=mt(),ut=mt(),_e=mt(),te=mt(),$e=mt(),ce=mt(),Le=mt(),nt=mt(),et=mt(),vt=mt(),xt=mt();let Dt;const gt=ue(()=>{const{id:o}=e;return o?u.isFunction(o)?`${o({$table:C,$grid:h,$gantt:c})||""}`:`${o}`:""}),Tt=ue(()=>{const o=He.value;return`${e.rowId||o.keyField||"_X_ROW_KEY"}`}),ht=ue(()=>Object.assign({},xr().table.validConfig,e.validConfig)),yt=ue(()=>Bt.value),Lt=ue(()=>{const o=Bt.value,{threshold:f}=o;return f?u.toNumber(f):0}),Vt=ue(()=>Nt.value),Bt=ue(()=>{const{virtualXConfig:o,scrollX:f}=e,v=xr().table.virtualXConfig,x=xr().table.scrollX;return o?Object.assign({},v,o):f?Object.assign({},x,f):v?Object.assign({},v,o):Object.assign({},x,f)}),Nt=ue(()=>{const{virtualYConfig:o,scrollY:f}=e,v=xr().table.virtualYConfig,x=xr().table.scrollY;return o?Object.assign({},v,o):f?Object.assign({},x,f):v?Object.assign({},v,o):Object.assign({},x,f)}),Kt=ue(()=>Object.assign({},xr().table.scrollbarConfig,e.scrollbarConfig)),Wt=ue(()=>{const o=Kt.value;return!!(o.x&&o.x.position==="top")}),Fe=ue(()=>{const o=Kt.value;return!!(o.y&&o.y.position==="left")}),Oe=ue(()=>{const o=Nt.value,{threshold:f}=o;return f?u.toNumber(f):0}),Ye=ue(()=>p.rowHeightStore),rt=ue(()=>{const o=E.value;return Ye.value[o||"default"]||18}),at=ue(()=>Object.assign({},xr().table.columnConfig,e.columnConfig)),ee=ue(()=>Object.assign({},xr().table.currentColumnConfig,e.currentColumnConfig)),Ie=ue(()=>{const o=Object.assign({},xr().table.cellConfig,e.cellConfig);return o.height&&(o.height=u.toNumber(o.height)),o}),Ne=ue(()=>{const o=Object.assign({},xr().table.headerCellConfig,e.headerCellConfig),f=rt.value,v=Ie.value;let x=u.toNumber(Fc(o.height||v.height));if(c){const{computeTaskScaleConfs:w}=c.getComputeMaps(),S=w.value;if(S&&S.length>2){const T=f/2*S.length;x=Math.max(T,x)}}return o.height=x,o}),pt=ue(()=>{const o=Object.assign({},xr().table.footerCellConfig,e.footerCellConfig),f=Ie.value;return o.height=u.toNumber(Fc(o.height||f.height)),o}),He=ue(()=>Object.assign({},xr().table.rowConfig,e.rowConfig)),dt=ue(()=>Object.assign({},xr().table.aggregateConfig||xr().table.rowGroupConfig,e.aggregateConfig||e.rowGroupConfig)),Ze=ue(()=>dt.value),$=ue(()=>Object.assign({},xr().table.currentRowConfig,e.currentRowConfig)),H=ue(()=>Object.assign({},xr().table.rowDragConfig,e.rowDragConfig)),Z=ue(()=>Object.assign({},xr().table.columnDragConfig,e.columnDragConfig)),xe=ue(()=>Object.assign({},xr().table.resizeConfig,e.resizeConfig)),De=ue(()=>Object.assign({},xr().table.resizableConfig,e.resizableConfig)),ke=ue(()=>Object.assign({startIndex:0},xr().table.seqConfig,e.seqConfig)),Be=ue(()=>Object.assign({},xr().table.radioConfig,e.radioConfig)),qe=ue(()=>Object.assign({},xr().table.checkboxConfig,e.checkboxConfig)),it=ue(()=>Object.assign({},xr().tooltip,xr().table.tooltipConfig,e.tooltipConfig)),ft=ue(()=>Object.assign({},xr().tooltip,xr().table.headerTooltipConfig,e.headerTooltipConfig)),Ve=ue(()=>Object.assign({},xr().tooltip,xr().table.footerTooltipConfig,e.footerTooltipConfig)),wt=ue(()=>{const{tooltipStore:o}=p,f=it.value;return Object.assign({},f,o.currOpts)}),ir=ue(()=>{const o=it.value;return Object.assign({},o)}),be=ue(()=>Object.assign({},xr().table.editConfig,e.editConfig)),Ke=ue(()=>Object.assign({orders:["asc","desc",null]},xr().table.sortConfig,e.sortConfig)),Ft=ue(()=>Object.assign({},xr().table.filterConfig,e.filterConfig)),Ct=ue(()=>Object.assign({},xr().table.mouseConfig,e.mouseConfig)),Pt=ue(()=>Object.assign({},xr().table.areaConfig,e.areaConfig)),zt=ue(()=>Object.assign({},xr().table.keyboardConfig,e.keyboardConfig)),Xt=ue(()=>Object.assign({},xr().table.clipConfig,e.clipConfig)),_t=ue(()=>st.value),st=ue(()=>Object.assign({},xr().table.fnrConfig,e.fnrConfig)),Et=ue(()=>Object.assign({},xr().table.menuConfig,e.menuConfig)),Ut=ue(()=>{const{columnStore:o}=p,{leftList:f}=o;let v=0;for(let x=0;x<f.length;x++){const w=f[x];v+=w.renderWidth}return v}),qt=ue(()=>{const{columnStore:o}=p,{rightList:f}=o;let v=0;for(let x=0;x<f.length;x++){const w=f[x];v+=w.renderWidth}return v}),cr=ue(()=>{const f=Et.value.header;return f&&f.options?f.options:[]}),or=ue(()=>{const f=Et.value.body;return f&&f.options?f.options:[]}),Tr=ue(()=>{const f=Et.value.footer;return f&&f.options?f.options:[]}),nn=ue(()=>Fr.value),Fr=ue(()=>{const o=Et.value,f=cr.value,v=or.value,x=Tr.value;return!!(e.menuConfig&&pr(o)&&(f.length||v.length||x.length))}),Xr=ue(()=>{const{ctxMenuStore:o}=p,f=[];return o.list.forEach(v=>{v.forEach(x=>{f.push(x)})}),f}),zr=ue(()=>Object.assign({},xr().table.exportConfig,e.exportConfig)),Hr=ue(()=>Object.assign({},xr().table.importConfig,e.importConfig)),Zr=ue(()=>Object.assign({},xr().table.printConfig,e.printConfig)),Or=ue(()=>Object.assign({},xr().table.expandConfig,e.expandConfig)),er=ue(()=>Object.assign({},xr().table.treeConfig,e.treeConfig)),Ur=ue(()=>Object.assign({},xr().table.emptyRender,e.emptyRender)),Nr=ue(()=>Object.assign({},xr().table.loadingConfig,e.loadingConfig)),jr=ue(()=>e.border?Math.max(2,Math.ceil(p.scrollbarWidth/p.tableColumn.length)):1),Jr=ue(()=>Object.assign({},xr().table.customConfig,e.customConfig)),on=ue(()=>{const{tableData:o,rowExpandedFlag:f,expandColumn:v,rowGroupExpandedFlag:x,treeExpandedFlag:w}=p,{visibleDataRowIdData:S,rowExpandedMaps:T}=g,R=[];return o.length&&v&&f&&x&&w&&u.each(T,(P,_)=>{S[_]&&R.push(P)}),R}),qn=ue(()=>{const{visibleColumn:o}=g,{tableColumn:f}=p;return f.length||o.length?o.filter(v=>v.width==="auto"||v.minWidth==="auto"):[]}),Hn=ue(()=>{const{tableColumn:o}=p,{collectColumn:f}=g;let v=0;return o.length&&f.length&&f.forEach(x=>{x.renderFixed&&v++}),v}),uo=ue(()=>{const o=Hn.value,f=at.value,{maxFixedSize:v}=f;return v?o>=v:!1}),fo=ue(()=>{const{border:o}=e;return o===!0?"full":o||"default"}),Dn=ue(()=>{const{treeConfig:o}=e,{tableData:f}=p,{tableFullData:v}=g,x=qe.value,{strict:w,checkMethod:S}=x;return w?f.length||v.length?S?v.every(T=>!S({$table:C,row:T})):!1:!0:!1}),Yn=ue(()=>{const{overflowX:o,scrollXLoad:f,overflowY:v,scrollYLoad:x}=p;return{x:o&&f,y:v&&x}}),Oo=ue(()=>Ze.value.groupFields),ha=ue(()=>{const{rowGroupList:o}=p,{fullColumnFieldData:f}=g,v=[];return o.forEach(x=>{const w=f[x.field];w&&v.push(w.column)}),v}),An={refElem:I,refTooltip:N,refValidTooltip:L,refTableFilter:M,refTableCustom:q,refTableMenu:F,refTableHeader:j,refTableBody:U,refTableFooter:z,refTableLeftHeader:k,refTableLeftBody:ne,refTableLeftFooter:fe,refTableRightHeader:G,refTableRightBody:J,refTableRightFooter:we,refLeftContainer:re,refRightContainer:ve,refColResizeBar:Ee,refRowResizeBar:Re,refScrollXVirtualElem:tt,refScrollYVirtualElem:Ue,refScrollXHandleElem:ut,refScrollYHandleElem:$e,refScrollXSpaceElem:vt,refScrollYSpaceElem:xt},qa={computeSize:E,computeTableId:gt,computeValidOpts:ht,computeRowField:Tt,computeVirtualXOpts:Bt,computeVirtualYOpts:Nt,computeScrollbarOpts:Kt,computeScrollbarXToTop:Wt,computeScrollbarYToLeft:Fe,computeColumnOpts:at,computeCurrentColumnOpts:ee,computeScrollXThreshold:Lt,computeScrollYThreshold:Oe,computeRowHeightMaps:Ye,computeDefaultRowHeight:rt,computeCellOpts:Ie,computeHeaderCellOpts:Ne,computeFooterCellOpts:pt,computeRowOpts:He,computeAggregateOpts:dt,computeRowGroupOpts:Ze,computeCurrentRowOpts:$,computeRowDragOpts:H,computeColumnDragOpts:Z,computeResizeOpts:xe,computeResizableOpts:De,computeSeqOpts:ke,computeRadioOpts:Be,computeCheckboxOpts:qe,computeTooltipOpts:it,computeHeaderTooltipOpts:ft,computeFooterTooltipOpts:Ve,computeEditOpts:be,computeSortOpts:Ke,computeFilterOpts:Ft,computeMouseOpts:Ct,computeAreaOpts:Pt,computeKeyboardOpts:zt,computeClipOpts:Xt,computeFnrOpts:st,computeHeaderMenu:cr,computeBodyMenu:or,computeFooterMenu:Tr,computeIsMenu:nn,computeIsContentMenu:Fr,computeMenuList:Xr,computeMenuOpts:Et,computeExportOpts:zr,computeImportOpts:Hr,computePrintOpts:Zr,computeExpandOpts:Or,computeTreeOpts:er,computeEmptyOpts:Ur,computeLoadingOpts:Nr,computeCellOffsetWidth:jr,computeCustomOpts:Jr,computeLeftFixedWidth:Ut,computeRightFixedWidth:qt,computeFixedColumnSize:Hn,computeIsMaxFixedColumn:uo,computeIsAllCheckboxDisabled:Dn,computeVirtualScrollBars:Yn,computeRowGroupFields:Oo,computeRowGroupColumns:ha,computeFNROpts:_t,computeSXOpts:yt,computeSYOpts:Vt},C={xID:l,props:e,context:t,reactData:p,internalData:g,getRefMaps:()=>An,getComputeMaps:()=>qa,xeGrid:h,xeGantt:c,xegrid:h},To=(o,f,v)=>{const x=u.get(o,v),w=u.get(f,v);return Ma(x)&&Ma(w)?!0:u.isString(x)||u.isNumber(x)?""+x==""+w:u.isEqual(x,w)},ta=()=>{const o=Tt.value;g.currKeyField=o,g.isCurrDeepKey=a_(o)},Ar=(o,f)=>u.isBoolean(o)?o:f,Vo=o=>{const f=Ke.value,{orders:v=[]}=f,x=o.order||null,w=v.indexOf(x)+1;return v[w<v.length?w:0]},zo=o=>{const f=xr().version,v=u.toStringJSON(localStorage.getItem(ZT)||""),x=v&&v._v===f?v:{_v:f};return(o?x[o]:x)||{}},Tn=(o,f)=>{const v=xr().version,x=zo();x[o]=f||void 0,x._v=v,localStorage.setItem(ZT,u.toJSONString(x))},po=o=>{const{fullAllDataRowIdData:f}=g,v={};return u.each(o,(x,w)=>{f[w]&&(v[w]=x)}),v},go=o=>{const{fullDataRowIdData:f}=g,v=[];return u.each(o,(x,w)=>{f[w]&&C.findRowIndexOf(v,f[w].row)===-1&&v.push(f[w].row)}),v},Mo=()=>{const{isScrollXBig:o,scrollXWidth:f}=p,{elemStore:v,visibleColumn:x,fullColumnIdData:w}=g,S=Ut.value,T=qt.value,R=nr(v["main-body-scroll"]);if(R){const P=R.clientWidth;let _=R.scrollLeft;o&&(_=Math.ceil((f-P)*Math.min(1,_/(ai-P))));const B=_+S,K=_+P-T;let X=0,ie=x.length;for(;X<ie;){const Ce=Math.floor((X+ie)/2),ye=x[Ce].id;(w[ye]||{}).oLeft<=B?X=Ce+1:ie=Ce}let de=0;const Q=X===x.length?X:Math.max(0,X<x.length?X-2:0);for(let Ce=Q,he=x.length;Ce<he;Ce++){const ae=x[Ce].id,oe=w[ae]||{};if(de++,oe.oLeft>K||de>=60)break}return{toVisibleIndex:Math.max(0,Q),visibleSize:Math.max(1,de)}}return{toVisibleIndex:0,visibleSize:6}},Pn=(o,f)=>{const{rowHeightStore:v}=p;f&&f.clientHeight&&(v[o]=f.clientHeight)},Kn=()=>{const{isAllOverflow:o}=p,f=j.value,v=U.value,x=v?v.$el:null,w=rt.value;let S=0;if(o){if(x){const T=f?f.$el:null;let R;R=x.querySelector("tr"),!R&&T&&(R=T.querySelector("tr")),R&&(S=R.clientHeight)}S||(S=w)}else S=w;return Math.max(18,S)},Io=()=>{const{isAllOverflow:o,expandColumn:f,isScrollYBig:v,scrollYHeight:x}=p,{elemStore:w,isResizeCellHeight:S,afterFullData:T,fullAllDataRowIdData:R}=g,P=He.value,_=Ie.value,B=rt.value,K=nr(w["main-body-scroll"]);if(K){const X=K.clientHeight;let ie=K.scrollTop;v&&(ie=Math.ceil((x-X)*Math.min(1,ie/($l-X))));const de=ie,Q=ie+X;let Ce=-1,he=0;if(!(S||_.height||P.height)&&!f&&o)Ce=Math.floor(de/B)-1,he=Math.ceil(X/B)+1;else{const{handleGetRowId:ae}=hn(C);let oe=0,Qe=T.length;for(;oe<Qe;){const je=Math.floor((oe+Qe)/2),We=T[je],Ot=ae(We);(R[Ot]||{}).oTop<=de?oe=je+1:Qe=je}Ce=oe===T.length?oe:Math.max(0,oe<T.length?oe-2:0);for(let je=Ce,We=T.length;je<We;je++){const Ot=T[je],St=ae(Ot),ct=R[St]||{};if(he++,ct.oTop>Q||he>=100)break}}return{toVisibleIndex:Math.max(0,Ce),visibleSize:Math.max(6,he)}}return{toVisibleIndex:0,visibleSize:6}},ho=(o,f,v)=>{for(let x=0,w=o.length;x<w;x++){const S=o[x],{startIndex:T,endIndex:R}=f,P=S[v],_=S[v+"span"],B=P+_;P<T&&T<B&&(f.startIndex=P),P<R&&R<B&&(f.endIndex=B),(f.startIndex!==T||f.endIndex!==R)&&(x=-1)}};function Go(o){const f={};if(o&&o.length)for(let v=0;v<o.length;v++){const{row:x,col:w,rowspan:S,colspan:T}=o[v];for(let R=0;R<S;R++)for(let P=0;P<T;P++)f[`${x+R}:${w+P}`]=!R&&!P?{rowspan:S,colspan:T}:{rowspan:0,colspan:0}}return f}const va=o=>{g.mergeBodyList=[],g.mergeBodyMaps={},g.mergeBodyCellMaps={},C.setMergeCells(o)},ma=o=>{const{fullAllDataRowIdData:f,fullColumnIdData:v,visibleColumn:x,afterFullData:w,mergeBodyList:S,mergeBodyMaps:T}=g;if(o){const{handleGetRowId:R}=hn(C);u.isArray(o)||(o=[o]),o.forEach(P=>{let{row:_,col:B,rowspan:K,colspan:X}=P,ie=-1,de=-1;if(u.isNumber(_))ie=_;else{const Q=_?R(_):null,Ce=Q?f[Q]:null;Ce&&(ie=Ce._index)}if(u.isNumber(B))de=B;else{const Q=B?B.id:null,Ce=Q?v[Q]:null;Ce&&(de=Ce._index)}if(ie>-1&&de>-1&&(K||X)&&(K=u.toNumber(K)||1,X=u.toNumber(X)||1,K>1||X>1)){const Q=w[ie],Ce=x[de];let he=T[`${ie}:${de}`];he?(he.rowspan=K,he.colspan=X,he._rowspan=K,he._colspan=X):(he={row:ie,col:de,rowspan:K,colspan:X,_row:Q,_col:Ce,_rowspan:K,_colspan:X},T[`${ie}:${de}`]=he,S.push(he))}})}},Xn=o=>{const{mergeBodyList:f,fullColumnIdData:v,fullAllDataRowIdData:x,mergeBodyMaps:w}=g,S=[];if(o){const{handleGetRowId:T}=hn(C);u.isArray(o)||(o=[o]),o.forEach(R=>{const{row:P,col:_}=R;let B=-1,K=-1;if(u.isNumber(P))B=P;else{const ie=P?T(P):null,de=ie?x[ie]:null;de&&(B=de._index)}if(u.isNumber(_))K=_;else{const ie=_?_.id:null,de=ie?v[ie]:null;de&&(K=de._index)}const X=u.findIndexOf(f,ie=>ie.row===B&&ie.col===K);if(X>-1){const ie=f.splice(X,1);ie[0]&&(S.push(ie[0]),w[`${B}:${K}`]&&delete w[`${B}:${K}`])}})}return S},ba=o=>{g.mergeHeaderList=[],g.mergeHeaderMaps={},g.mergeHeaderCellMaps={},C.setMergeHeaderCells(o)},xa=o=>{const{footerTableData:f}=p,{mergeHeaderList:v,mergeHeaderMaps:x,fullColumnIdData:w}=g;if(o){const{visibleColumn:S}=g;u.isArray(o)||(o=[o]),o.forEach(T=>{let{row:R,col:P,rowspan:_,colspan:B}=T;const K=u.isNumber(R)?R:-1;let X=-1;if(u.isNumber(P))X=P;else{const ie=P?P.id:null,de=ie?w[ie]:null;de&&(X=de._index)}if(K>-1&&X>-1&&(_||B)&&(_=u.toNumber(_)||1,B=u.toNumber(B)||1,_>1||B>1)){const ie=f[K],de=S[X];let Q=x[`${K}:${X}`];Q?(Q.rowspan=_,Q.colspan=B,Q._rowspan=_,Q._colspan=B):(Q={row:K,col:X,rowspan:_,colspan:B,_row:ie,_col:de,_rowspan:_,_colspan:B},x[`${K}:${X}`]=Q,v.push(Q))}})}},Zn=o=>{const{mergeHeaderList:f,fullColumnIdData:v,mergeHeaderMaps:x}=g,w=[];return o&&(u.isArray(o)||(o=[o]),o.forEach(S=>{const{row:T,col:R}=S,P=u.isNumber(T)?T:-1;let _=-1;if(u.isNumber(R))_=R;else{const K=R?R.id:null,X=K?v[K]:null;X&&(_=X._index)}const B=u.findIndexOf(f,K=>K.row===P&&K.col===_);if(B>-1){const X=f.splice(B,1)[0];X&&(w.push(X),x[`${P}:${_}`]&&delete x[`${P}:${_}`])}})),w},Ca=o=>{g.mergeFooterList=[],g.mergeFooterMaps={},g.mergeFooterCellMaps={},C.setMergeFooterCells(o)},kn=o=>{const{footerTableData:f}=p,{mergeFooterList:v,mergeFooterMaps:x,fullColumnIdData:w}=g;if(o){const{visibleColumn:S}=g;u.isArray(o)||(o=[o]),o.forEach(T=>{let{row:R,col:P,rowspan:_,colspan:B}=T;const K=u.isNumber(R)?R:-1;let X=-1;if(u.isNumber(P))X=P;else{const ie=P?P.id:null,de=ie?w[ie]:null;de&&(X=de._index)}if(K>-1&&X>-1&&(_||B)&&(_=u.toNumber(_)||1,B=u.toNumber(B)||1,_>1||B>1)){const ie=f[K],de=S[X];let Q=x[`${K}:${X}`];Q?(Q.rowspan=_,Q.colspan=B,Q._rowspan=_,Q._colspan=B):(Q={row:K,col:X,rowspan:_,colspan:B,_row:ie,_col:de,_rowspan:_,_colspan:B},x[`${K}:${X}`]=Q,v.push(Q))}})}},an=o=>{const{mergeFooterList:f,fullColumnIdData:v,mergeFooterMaps:x}=g,w=[];return o&&(u.isArray(o)||(o=[o]),o.forEach(S=>{const{row:T,col:R}=S,P=u.isNumber(T)?T:-1;let _=-1;if(u.isNumber(R))_=R;else{const K=R?R.id:null,X=K?v[K]:null;X&&(_=X._index)}const B=u.findIndexOf(f,K=>K.row===P&&K.col===_);if(B>-1){const X=f.splice(B,1)[0];X&&(w.push(X),x[`${P}:${_}`]&&delete x[`${P}:${_}`])}})),w},vo=(o,f,v)=>{const{tableFullColumn:x}=g,w=Ke.value,{multiple:S,remote:T,orders:R}=w;if(u.isArray(f)||(f=[f]),f&&f.length){const P={};S||(f=[f[0]],x.forEach(K=>{K.order&&(P[K.id]=K)}));const _={};let B=null;return f.forEach((K,X)=>{let{field:ie,order:de}=K,Q=ie;u.isString(ie)&&(Q=C.getColumnByField(ie)),B||(B=Q),Q&&Q.sortable&&(R&&R.indexOf(de)===-1&&(de=Vo(Q)),Q.order!==de&&(Q.order=de),Q.sortTime=Date.now()+X,_[Q.id]=Q)}),S||u.each(P,(K,X)=>{_[X]||(K.order=null)}),v&&(T||C.handleTableData(!0)),o&&C.handleColumnSortEvent(o,B),ge().then(()=>(zn(),C.updateCellAreas(),$t()))}return ge()},ra=()=>{const{tableFullColumn:o}=g;o.forEach(f=>{f.order=null})},Bn=o=>{const{editConfig:f}=e,{parentHeight:v}=p;let x=e[o];if(o==="minHeight"){const S=xr().table.minHeight;u.eqNull(x)&&(Ma(S)?pr(f)&&(x=144):x=S)}let w=0;if(x)if(x==="100%"||x==="auto")w=v;else{const S=C.getExcludeHeight();si(x)?w=Math.floor((u.toInteger(x)||1)/100*v):w=u.toNumber(x),w=Math.max(40,w-S)}return w},Fo=o=>{const{aggregateConfig:f,rowGroupConfig:v}=e,{collectColumn:x}=g,w=Jr.value,{storage:S,storeOptions:T}=w,R=S===!0,P=R?{}:Object.assign({},S||{},T),_=Ar(P.resizable,R),B=Ar(P.visible,R),K=Ar(P.fixed,R),X=Ar(P.sort,R),ie=Ar(P.aggGroup,R),de=Ar(P.aggFunc,R);let{resizableData:Q,sortData:Ce,visibleData:he,fixedData:ye,aggGroupData:ae,aggFuncData:oe}=o;if(_&&Q||X&&Ce||B&&he||K&&ye||ie&&ae||de&&oe){const Qe={};if(X&&Ce){if(!u.isArray(Ce)){const ct=[];u.each(Ce,(bt,Gt)=>{ct.push({key:Gt,index:bt})}),Ce=u.orderBy(ct,{field:"index",order:"asc"}).map(bt=>({k:bt.key}))}let St=1;u.eachTree(Ce,(ct,bt,Gt,Qt,Yt)=>{Qe[ct.k]={key:ct.k,sNum:St++,pKey:Yt?Yt.k:null}},{children:"c"})}const je={},We=[],Ot=[];if(u.eachTree(x,(St,ct,bt,Gt,Qt)=>{const Yt=St.getKey();Qt||K&&ye&&ye[Yt]!==void 0&&(St.fixed=ye[Yt]),_&&Q&&u.isNumber(Q[Yt])&&(St.resizeWidth=Q[Yt]),B&&he&&u.isBoolean(he[Yt])&&(St.visible=he[Yt]),de&&oe&&(f||v)&&oe[Yt]&&(St.aggFunc=oe[Yt]),ie&&ae&&ae[Yt]&&Ot.push({field:St.field}),je[Yt]=St,We.push(St)}),(f||v)&&Ot.length){const St=pu(g.tableFullData,Ot);g.tableFullTreeData=[],g.tableFullGroupData=St.treeData,p.isRowGroupStatus=!0,p.rowGroupList=Ot,C.cacheRowMap(!1)}if(X&&Ce){We.forEach(ct=>{const bt=ct.getKey(),Gt=Qe[bt];if(Gt){const Qt=Gt.pKey?je[Gt.pKey]:null;ct.parentId=Qt?Qt.id:null,ct.renderSortNumber=Gt.sNum}});const St=u.toArrayTree(u.orderBy(We,"renderSortNumber"),{key:"id",parentKey:"parentId",children:"children"});g.collectColumn=St,g.tableFullColumn=ws(St)}p.isCustomStatus=!0}else p.isCustomStatus=!1},Wo=()=>{const{customConfig:o}=e,f=gt.value,v=Jr.value,{storage:x,restoreStore:w,storeOptions:S}=v,T=x===!0,R=T?{}:Object.assign({},x||{},S),P=Ar(R.resizable,T),_=Ar(R.visible,T),B=Ar(R.fixed,T),K=Ar(R.sort,T),X=Ar(R.aggGroup,T),ie=Ar(R.aggFunc,T);if(x&&(o?pr(v):v.enabled)&&(P||_||B||K||X||ie)){if(!f){At("vxe.error.reqProp",["id"]);return}const de=zo(f);return w?Promise.resolve(w({$table:C,id:f,type:"restore",storeData:de})).then(Q=>{if(Q)return Fo(Q)}).catch(Q=>Q):Fo(de)}},ya=()=>{const{treeConfig:o,showOverflow:f}=e,{tableFullColumn:v,collectColumn:x}=g,w=g.fullColumnIdData={},S=g.fullColumnFieldData={},T=Ct.value,R=Or.value,P=at.value,_=Z.value,B=Nt.value,{isCrossDrag:K,isSelfToChildDrag:X}=_,ie=Jr.value,de=er.value,{storage:Q}=ie,Ce=He.value,he=x.some(fi);let ye=!!f,ae,oe,Qe,je,We,Ot;const St=(ct,bt,Gt,Qt,Yt)=>{const{id:jt,field:tr,fixed:ar,type:Er,treeNode:Sr,rowGroupNode:Rr}=ct,Jt={$index:-1,_index:-1,column:ct,colid:jt,index:bt,items:Gt,parent:Yt||null,width:0,oLeft:0};tr?(S[tr]&&At("vxe.error.colRepet",["field",tr]),S[tr]=Jt):(Q&&!Er&&At("vxe.error.reqSupportProp",["storage",`${ct.getTitle()||Er||""} -> field=?`]),P.drag&&(K||X)&&At("vxe.error.reqSupportProp",["column-drag-config.isCrossDrag | column-drag-config.isSelfToChildDrag",`${ct.getTitle()||Er||""} -> field=?`])),!Ot&&Er==="html"&&(Ot=ct),Sr&&(Qe&&Zt("vxe.error.colRepet",["tree-node",Sr]),Qe||(Qe=ct)),Rr&&(Qe&&Zt("vxe.error.colRepet",["row-group-node",Rr]),ae||(ae=ct)),Er==="expand"&&(oe&&Zt("vxe.error.colRepet",["type",Er]),oe||(oe=ct)),Er==="checkbox"?(je&&Zt("vxe.error.colRepet",["type",Er]),je||(je=ct)):Er==="radio"&&(We&&Zt("vxe.error.colRepet",["type",Er]),We||(We=ct)),ye&&ct.showOverflow===!1&&(ye=!1),w[jt]&&At("vxe.error.colRepet",["colId",jt]),w[jt]=Jt};he?u.eachTree(x,(ct,bt,Gt,Qt,Yt,jt)=>{ct.level=jt.length,St(ct,bt,Gt,Qt,Yt)}):v.forEach(St),oe&&R.mode!=="fixed"&&B.enabled&&Zt("vxe.error.notConflictProp",['column.type="expand',"virtual-y-config.enabled=false"]),oe&&R.mode!=="fixed"&&T.area&&At("vxe.error.errConflicts",["mouse-config.area","column.type=expand"]),oe&&R.mode!=="inside"&&o&&!de.transform&&At("vxe.error.notConflictProp",["tree-config.transform=false","expand-config.mode=fixed"]),Ot&&(P.useKey||At("vxe.error.notSupportProp",["column.type=html","column-config.useKey=false","column-config.useKey=true"]),Ce.useKey||At("vxe.error.notSupportProp",["column.type=html","row-config.useKey=false","row-config.useKey=true"])),p.isGroup=he,p.rowGroupColumn=ae,p.treeNodeColumn=Qe,p.expandColumn=oe,p.checkboxColumn=je,p.radioColumn=We,p.isAllOverflow=ye},Uo=()=>{g.customHeight=Bn("height"),g.customMinHeight=Bn("minHeight"),g.customMaxHeight=Bn("maxHeight"),p.scrollYLoad&&!(g.customHeight||g.customMinHeight)&&(g.customHeight=300)},wa=(o,f)=>{const v=at.value,{autoOptions:x}=v,{isCalcHeader:w,isCalcBody:S,isCalcFooter:T}=x||{},R=[];w&&R.push(`.vxe-header-cell--wrapper[colid="${o.id}"]`),S&&R.push(`.vxe-body-cell--wrapper[colid="${o.id}"]`),T&&R.push(`.vxe-footer-cell--wrapper[colid="${o.id}"]`);const P=R.length?f.querySelectorAll(R.join(",")):[];let _=0;const B=P[0];if(B&&B.parentElement){const X=getComputedStyle(B.parentElement);_=Math.ceil(u.toNumber(X.paddingLeft)+u.toNumber(X.paddingRight))}let K=o.renderAutoWidth-_;for(let X=0;X<P.length;X++){const ie=P[X];K=Math.max(K,ie?Math.ceil(ie.scrollWidth)+4:0)}return K+_},A=()=>{const o=qn.value,{fullColumnIdData:f}=g,v=I.value;v&&(v.setAttribute("data-calc-col","Y"),o.forEach(x=>{const w=x.id,S=f[w],T=wa(x,v);S&&(S.width=Math.max(T,S.width)),x.renderAutoWidth=T}),C.analyColumnWidth(),v.removeAttribute("data-calc-col"))},pe=()=>{const{elemStore:o}=g,f=nr(o["main-body-wrapper"]);if(!f||!$e.value||!ut.value)return;let w=0;const S=40,T=f.clientWidth;let R=T,P=R/100;const{fit:_}=e,{columnStore:B}=p,{resizeList:K,pxMinList:X,autoMinList:ie,pxList:de,scaleList:Q,scaleMinList:Ce,autoList:he,remainList:ye}=B;if(X.forEach(ae=>{const oe=u.toInteger(ae.minWidth);w+=oe,ae.renderWidth=oe}),ie.forEach(ae=>{const oe=Math.max(60,u.toInteger(ae.renderAutoWidth));w+=oe,ae.renderWidth=oe}),Ce.forEach(ae=>{const oe=Math.floor(u.toInteger(ae.minWidth)*P);w+=oe,ae.renderWidth=oe}),Q.forEach(ae=>{const oe=Math.floor(u.toInteger(ae.width)*P);w+=oe,ae.renderWidth=oe}),de.forEach(ae=>{const oe=u.toInteger(ae.width);w+=oe,ae.renderWidth=oe}),he.forEach(ae=>{const oe=Math.max(60,u.toInteger(ae.renderAutoWidth));w+=oe,ae.renderWidth=oe}),K.forEach(ae=>{const oe=u.toInteger(ae.resizeWidth);w+=oe,ae.renderWidth=oe}),R-=w,P=R>0?Math.floor(R/(Ce.length+X.length+ie.length+ye.length)):0,_?R>0&&Ce.concat(X).concat(ie).forEach(ae=>{w+=P,ae.renderWidth+=P}):P=S,ye.forEach(ae=>{const oe=Math.max(P,S);ae.renderWidth=oe,w+=oe}),_){const ae=Q.concat(Ce).concat(X).concat(ie).concat(ye);let oe=ae.length-1;if(oe>0){let Qe=T-w;if(Qe>0){for(;Qe>0&&oe>=0;)Qe--,ae[oe--].renderWidth++;w=T}}}p.scrollXWidth=w,p.resizeWidthFlag++,Ks(),Uo()},Me=(o,f)=>{const v=f.querySelectorAll(`.vxe-cell--wrapper[rowid="${o.rowid}"]`);let x=o.height,w=null,S=0;for(let T=0;T<v.length;T++){const R=v[T],P=R.parentElement;w||(w=getComputedStyle(P),S=w?Math.ceil(u.toNumber(w.paddingTop)+u.toNumber(w.paddingBottom)):0);const _=R?R.clientHeight:0;x=Math.max(x,Math.ceil(_+S))}return x},Je=()=>{const{tableData:o,isAllOverflow:f,scrollYLoad:v,scrollXLoad:x}=p,{fullAllDataRowIdData:w}=g,S=rt.value,T=I.value;if(!f&&(v||x)&&T){const{handleGetRowId:R}=hn(C);T.setAttribute("data-calc-row","Y"),o.forEach(P=>{const _=R(P),B=w[_];if(B){const K=Me(B,T);B.height=Math.max(S,x?Math.max(B.height,K):K)}T.removeAttribute("data-calc-row")}),p.calcCellHeightFlag++}},Rt=o=>{const{sortBy:f,sortType:v}=o;return x=>{let w;return f?w=u.isFunction(f)?f({row:x,column:o}):u.get(x,f):w=O.getCellLabel(x,o),!v||v==="auto"?isNaN(w)?w:u.toNumber(w):v==="number"?u.toNumber(w):v==="string"?u.toValueString(w):w}},ot=()=>{const{treeConfig:o}=e,{afterFullData:f,fullDataRowIdData:v,fullAllDataRowIdData:x}=g,{handleGetRowId:w}=hn(C),S={};f.forEach((T,R)=>{const P=w(T),_=x[P],B=R+1;if(_)o||(_.seq=B),_._index=R;else{const K={row:T,rowid:P,seq:B,index:-1,$index:-1,_index:R,treeIndex:-1,_tIndex:-1,items:[],parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};x[P]=K,v[P]=K}S[P]=T}),g.afterFullRowMaps=S},Mt=()=>{const{treeConfig:o}=e,{fullDataRowIdData:f,fullAllDataRowIdData:v,afterFullData:x,afterTreeFullData:w}=g,S=er.value,{transform:T}=S,R=S.children||S.childrenField,P={};if(o){let _=0;const{handleGetRowId:B}=hn(C);u.eachTree(w,(K,X,ie,de)=>{const Q=B(K),Ce=v[Q],he=de.map((ye,ae)=>ae%2===0?Number(ye)+1:".").join("");if(Ce)Ce.seq=he,Ce.treeIndex=X,Ce._tIndex=_;else{const ye={row:K,rowid:Q,seq:he,index:-1,$index:-1,_index:-1,treeIndex:-1,_tIndex:_,items:[],parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};v[Q]=ye,f[Q]=ye}_++,P[Q]=K},{children:T?S.mapChildrenField:R}),T&&x.forEach((K,X)=>{const ie=B(K),de=v[ie],Q=X+1;de&&(o||(de.seq=Q),de._index=X)}),g.afterFullRowMaps=P}else ot()},kt=()=>{const{treeConfig:o}=e,{isRowGroupStatus:f}=p,{fullAllDataRowIdData:v,treeExpandedMaps:x,rowGroupExpandedMaps:w}=g,S=dt.value,T=er.value,{handleGetRowId:R}=hn(C),P=[],_={};if(o&&T.transform){const B=T.children||T.childrenField;return u.eachTree(g.afterTreeFullData,(K,X,ie,de,Q)=>{const Ce=R(K),he=R(Q);if(!Q||_[he]&&x[he]){const ye=v[Ce];ye&&(ye._index=P.length),_[Ce]=1,P.push(K)}},{children:B}),g.afterFullData=P,Vi(P),P}else if(f){const{childrenField:B}=S;return u.eachTree(g.afterGroupFullData,(K,X,ie,de,Q)=>{const Ce=R(K),he=R(Q);if(!Q||_[he]&&w[he]){const ye=v[Ce];ye&&(ye._index=P.length),_[Ce]=1,P.push(K)}},{children:B}),g.afterFullData=P,Vi(P),P}return g.afterFullData},Ge=()=>{const{treeConfig:o}=e,{isRowGroupStatus:f}=p,{tableFullColumn:v,tableFullData:x,tableFullTreeData:w,tableFullGroupData:S}=g,T=Ft.value,R=Ke.value,P=dt.value,_=er.value,B=_.children||_.childrenField,{transform:K,rowField:X,parentField:ie,mapChildrenField:de}=_,{isEvery:Q,remote:Ce,filterMethod:he}=T,{remote:ye,sortMethod:ae,multiple:oe,chronological:Qe}=R;let je=[],We=[];if(!Ce||!ye){const Ot=[];let St=[];if(v.forEach(ct=>{const{field:bt,sortable:Gt,order:Qt,filters:Yt}=ct;if(!Ce&&Yt&&Yt.length){const jt=[],tr=[];Yt.forEach(ar=>{ar.checked&&(tr.push(ar),jt.push(ar.value))}),tr.length&&Ot.push({column:ct,valueList:jt,itemList:tr})}!ye&&Gt&&Qt&&St.push({column:ct,field:bt,property:bt,order:Qt,sortTime:ct.sortTime})}),oe&&Qe&&St.length>1&&(St=u.orderBy(St,"sortTime")),!Ce&&Ot.length){const ct=bt=>Ot.every(({column:Gt,valueList:Qt,itemList:Yt})=>{const{filterMethod:jt,filterRender:tr}=Gt,ar=pr(tr)?lx.get(tr.name):null,Er=ar?ar.tableFilterMethod||ar.filterMethod:null,Sr=ar?ar.tableFilterDefaultMethod||ar.defaultTableFilterMethod||ar.defaultFilterMethod:null,Rr=yn(bt,Gt);return jt?Yt.some(Jt=>jt({value:Jt.value,option:Jt,cellValue:Rr,row:bt,column:Gt,$table:C})):Er?Yt.some(Jt=>Er({value:Jt.value,option:Jt,cellValue:Rr,row:bt,column:Gt,$table:C})):he?he({$table:C,options:Yt,values:Qt,cellValue:Rr,row:bt,column:Gt}):Sr?Yt.some(Jt=>Sr({value:Jt.value,option:Jt,cellValue:Rr,row:bt,column:Gt,$table:C})):Qt.indexOf(u.get(bt,Gt.field))>-1});f?(We=u.searchTree(S,ct,{original:!0,isEvery:!0,children:P.mapChildrenField,mapChildren:P.childrenField}),je=We):o&&K?(We=u.searchTree(w,ct,{original:!0,isEvery:Q,children:de,mapChildren:B}),je=We):(je=o?w.filter(ct):x.filter(ct),We=je)}else f?(We=u.searchTree(S,()=>!0,{original:!0,isEvery:!0,children:P.mapChildrenField,mapChildren:P.childrenField}),je=We):o&&K?(We=u.searchTree(w,()=>!0,{original:!0,isEvery:Q,children:de,mapChildren:B}),je=We):(je=o?w.slice(0):x.slice(0),We=je);if(!ye&&St.length)if(f){if(ae){const ct=ae({data:We,sortList:St,$table:C});We=u.isArray(ct)?ct:We}else{const ct=u.toTreeArray(We,{key:P.rowField,parentKey:P.parentField,children:P.mapChildrenField});We=u.toArrayTree(u.orderBy(ct,St.map(({column:bt,order:Gt})=>[Rt(bt),Gt])),{key:P.rowField,parentKey:P.parentField,children:P.childrenField,mapChildren:P.mapChildrenField})}je=We}else if(o&&K){if(ae){const ct=ae({data:We,sortList:St,$table:C});We=u.isArray(ct)?ct:We}else{const ct=u.toTreeArray(We,{children:de});We=u.toArrayTree(u.orderBy(ct,St.map(({column:bt,order:Gt})=>[Rt(bt),Gt])),{key:X,parentKey:ie,children:B,mapChildren:de})}je=We}else{if(ae){const ct=ae({data:je,sortList:St,$table:C});je=u.isArray(ct)?ct:je}else je=u.orderBy(je,St.map(({column:ct,order:bt})=>[Rt(ct),bt]));We=je}}else f?(We=u.searchTree(S,()=>!0,{original:!0,isEvery:!0,children:P.mapChildrenField,mapChildren:P.childrenField}),je=We):o&&K?(We=u.searchTree(w,()=>!0,{original:!0,isEvery:Q,children:de,mapChildren:B}),je=We):(je=o?w.slice(0):x.slice(0),We=je);g.afterFullData=je,g.afterTreeFullData=We,g.afterGroupFullData=We,Mt()},$t=()=>{const{showHeaderOverflow:o,showFooterOverflow:f,mouseConfig:v,spanMethod:x,footerSpanMethod:w}=e,{isGroup:S,currentRow:T,tableColumn:R,scrollXLoad:P,scrollYLoad:_,overflowX:B,scrollbarWidth:K,overflowY:X,scrollbarHeight:ie,scrollXWidth:de,columnStore:Q,editStore:Ce,isAllOverflow:he,expandColumn:ye,isColLoading:ae}=p,{visibleColumn:oe,tableHeight:Qe,elemStore:je,customHeight:We,customMinHeight:Ot,customMaxHeight:St,tHeaderHeight:ct,tFooterHeight:bt}=g,Gt=g.xeGanttView,Qt=I.value;if(!Qt||!Qt.clientHeight)return;const Yt=["main","left","right"];let jt=X?K:0,tr=B?ie:0;const ar=Pe.value,Er=Kt.value,Sr=Ct.value,Rr=Or.value,Jt=nr(je["main-body-wrapper"]),_r=nr(je["main-body-table"]);ar&&(ar.style.top=`${ct}px`,ar.style.height=Jt?`${Jt.offsetHeight-tr}px`:"");const qr=Er.x||{},br=Wt.value,Pr=Er.y||{},Cr=Fe.value;let hr=B?"visible":"hidden";qr.visible==="visible"||Gt?(tr=ie,hr="visible"):(qr.visible==="hidden"||qr.visible===!1)&&(tr=0,hr="hidden");let yr=X?"visible":"hidden";Pr.visible==="hidden"||Pr.visible===!1||Gt&&!Cr?(jt=0,yr="hidden"):Pr.visible==="visible"&&(jt=K,yr="visible");let kr=0,Vr=0;const Lr=Ot-ct-bt-tr;St&&(Vr=Math.max(Lr,St-ct-bt-tr)),We&&(kr=We-ct-bt-tr),kr||_r&&(kr=_r.clientHeight),kr&&(Vr&&(kr=Math.min(Vr,kr)),kr=Math.max(Lr,kr));const fn=_e.value,tn=te.value,wn=tt.value;wn&&(wn.style.height=`${tr}px`,wn.style.visibility=hr);const Cn=Le.value;Cn&&(Cn.style.left=br?`${jt}px`:"",Cn.style.width=`${Qt.clientWidth-jt}px`),fn&&(fn.style.width=br?`${jt}px`:"",fn.style.display=br&&B&&tr?"block":""),tn&&(tn.style.width=br?"":`${jt}px`,tn.style.display=br?"":hr==="visible"?"block":"");const mn=Ue.value;mn&&(mn.style.width=`${jt}px`,mn.style.height=`${kr+ct+bt}px`,mn.style.visibility=yr);const pn=ce.value;pn&&(pn.style.height=`${ct}px`,pn.style.display=ct&&yr==="visible"?"block":"");const ln=nt.value;ln&&(ln.style.height=`${kr}px`,ln.style.top=`${ct}px`);const En=et.value;En&&(En.style.height=`${bt}px`,En.style.top=`${ct+kr}px`,En.style.display=bt&&yr==="visible"?"block":"");const Xl=Te.value;return Xl&&(Xl.style.height=`${kr}px`,Xl.style.top=`${ct}px`),g.tBodyHeight=kr,Yt.forEach((Sa,Du)=>{const $o=Du>0?Sa:"",ji=["header","body","footer"],RC=$o==="left";let Yi=[],Ki;$o&&(Yi=RC?Q.leftList:Q.rightList,Ki=RC?re.value:ve.value),ji.forEach(Dl=>{const Mn=nr(je[`${Sa}-${Dl}-wrapper`]),nl=nr(je[`${Sa}-${Dl}-scroll`]),Ol=nr(je[`${Sa}-${Dl}-table`]);if(Dl==="header"){let jo=R,Ao=!1;S?jo=oe:(P&&o&&(x||w||(Ao=!0)),(!Ao||!ae&&($o||!B))&&(jo=oe),$o&&Ao&&(jo=Yi||[]));const Gn=jo.reduce((Zl,Tl)=>Zl+Tl.renderWidth,0);$o&&(S?Mn&&(Mn.style.width=de?`${de}px`:""):Ao?Mn&&(Mn.style.width=Gn?`${Gn}px`:""):Mn&&(Mn.style.width=de?`${de}px`:"")),nl&&(nl.style.height=`${ct}px`),Ol&&(Ol.style.width=Gn?`${Gn}px`:"")}else if(Dl==="body"){nl&&(nl.style.maxHeight=St?`${Vr}px`:"",nl.style.height=We?`${kr}px`:"",nl.style.minHeight=`${Lr}px`),Ki&&(Mn&&(Mn.style.top=`${ct}px`),Ki.style.height=`${We>0?We:Qe+ct+bt+tr}px`,Ki.style.width=`${Yi.reduce((Tl,Ou)=>Tl+Ou.renderWidth,0)}px`);let jo=R,Ao=!1;(P||_||he)&&(ye&&Rr.mode!=="fixed"||x||w||(Ao=!0)),$o&&(jo=oe,Ao&&(jo=Yi||[]));const Gn=jo.reduce((Tl,Ou)=>Tl+Ou.renderWidth,0);$o&&(Ao?Mn&&(Mn.style.width=Gn?`${Gn}px`:""):Mn&&(Mn.style.width=de?`${de}px`:"")),Ol&&(Ol.style.width=Gn?`${Gn}px`:"",Ol.style.paddingRight=jt&&$o&&(a.firefox||a.safari)?`${jt}px`:"");const Zl=nr(je[`${Sa}-${Dl}-emptyBlock`]);Zl&&(Zl.style.width=Gn?`${Gn}px`:"")}else if(Dl==="footer"){let jo=R,Ao=!1;P&&f&&(x||w||(Ao=!0)),(!Ao||!ae&&($o||!B))&&(jo=oe),$o&&Ao&&(jo=Yi||[]);const Gn=jo.reduce((Zl,Tl)=>Zl+Tl.renderWidth,0);$o&&(Ao?Mn&&(Mn.style.width=Gn?`${Gn}px`:""):Mn&&(Mn.style.width=de?`${de}px`:"")),nl&&(nl.style.height=`${bt}px`,Ki&&Mn&&(Mn.style.top=`${We>0?We-bt-tr:Qe+ct}px`)),Ol&&(Ol.style.width=Gn?`${Gn}px`:"")}})}),T&&C.setCurrentRow(T),v&&Sr.selected&&Ce.selected.row&&Ce.selected.column&&C.addCellSelectedClass(),Gt&&Gt.handleUpdateStyle&&Gt.handleUpdateStyle(),ge()},dr=o=>C.triggerValidate?C.triggerValidate(o):ge(),fr=(o,f)=>{dr("blur").catch(v=>v).then(()=>{C.handleEdit(f,o).then(()=>dr("change")).catch(v=>v)})},Qr=()=>{const{sortConfig:o}=e;if(o){const f=Ke.value;let{defaultSort:v}=f;v&&(u.isArray(v)||(v=[v]),v.length&&((o.multiple?v:v.slice(0,1)).forEach((x,w)=>{const{field:S,order:T}=x;if(S&&T){const R=C.getColumnByField(S);R&&R.sortable&&(R.order=T,R.sortTime=Date.now()+w)}}),f.remote||C.handleTableData(!0).then($t)))}},Jn=()=>{const{checkboxConfig:o}=e;if(o){const{fullDataRowIdData:f}=g,v=qe.value,{checkAll:x,checkRowKeys:w}=v;if(x)_i(!0,!0);else if(w){const S=[];w.forEach(T=>{f[T]&&S.push(f[T].row)}),na(S,!0,!0)}}},Vn=()=>{const{radioConfig:o}=e;if(o){const{fullDataRowIdData:f}=g,v=Be.value,{checkRowKey:x,reserve:w}=v;if(x&&(f[x]&&Ea(f[x].row,!0),w)){const S=Ql(C);g.radioReserveRow={[S]:x}}}},mo=()=>{const{expandConfig:o}=e;if(o){const{fullDataRowIdData:f}=g,v=Or.value,{expandAll:x,expandRowKeys:w}=v;if(x)C.setAllRowExpand(!0);else if(w){const S=[];w.forEach(T=>{f[T]&&S.push(f[T].row)}),C.setRowExpand(S,!0)}}},xn=o=>{Be.value.reserve&&(g.radioReserveRow=o)},On=(o,f)=>{const{checkboxReserveRowMap:v}=g;if(qe.value.reserve){const w=It(C,o);f?v[w]=o:v[w]&&delete v[w]}},Ea=(o,f)=>{const v=Be.value,{checkMethod:x}=v;return o&&(f||!x||x({$table:C,row:o}))&&(p.selectRadioRow=o,xn(o)),ge()},na=(o,f,v)=>(o&&!u.isArray(o)&&(o=[o]),C.handleBatchSelectRows(o,!!f,v),C.checkSelectionStatus(),ge()),_i=(o,f)=>{const{treeConfig:v}=e,{isRowGroupStatus:x}=p,{afterFullData:w,afterTreeFullData:S,afterGroupFullData:T,checkboxReserveRowMap:R,selectCheckboxMaps:P}=g,_=er.value,B=dt.value,K=_.children||_.childrenField,X=qe.value,{checkField:ie,reserve:de,checkMethod:Q}=X,{handleGetRowId:Ce}=hn(C),he=X.indeterminateField||X.halfField,ye={};if(ie){const ae=oe=>{(f||!Q||Q({$table:C,row:oe}))&&(o&&(ye[Ce(oe)]=oe),u.set(oe,ie,o)),(v||x)&&he&&u.set(oe,he,!1)};v||x?u.eachTree(w,ae,{children:K}):w.forEach(ae)}else x?o?u.eachTree(T,ae=>{if(f||!Q||Q({$table:C,row:ae})){const oe=Ce(ae);ye[oe]=ae}},{children:B.mapChildrenField}):!f&&Q&&u.eachTree(T,ae=>{const oe=Ce(ae);!Q({$table:C,row:ae})&&P[oe]&&(ye[oe]=ae)},{children:B.mapChildrenField}):v?o?u.eachTree(S,ae=>{if(f||!Q||Q({$table:C,row:ae})){const oe=Ce(ae);ye[oe]=ae}},{children:K}):!f&&Q&&u.eachTree(S,ae=>{const oe=Ce(ae);!Q({$table:C,row:ae})&&P[oe]&&(ye[oe]=ae)},{children:K}):o?!f&&Q?w.forEach(ae=>{const oe=Ce(ae);(P[oe]||Q({$table:C,row:ae}))&&(ye[oe]=ae)}):w.forEach(ae=>{const oe=Ce(ae);ye[oe]=ae}):!f&&Q&&w.forEach(ae=>{const oe=Ce(ae);!Q({$table:C,row:ae})&&P[oe]&&(ye[oe]=ae)});return de&&(o?u.each(ye,(ae,oe)=>{R[oe]=ae}):w.forEach(ae=>On(ae,!1))),p.updateCheckboxFlag++,g.selectCheckboxMaps=ie?{}:ye,p.isAllSelected=o,p.isIndeterminate=!1,g.treeIndeterminateRowMaps={},C.checkSelectionStatus(),ge()},uu=()=>{const{treeConfig:o}=e,{expandColumn:f,currentRow:v,selectRadioRow:x}=p,{fullDataRowIdData:w,fullAllDataRowIdData:S,radioReserveRow:T,selectCheckboxMaps:R,treeExpandedMaps:P,rowExpandedMaps:_}=g,B=Or.value,K=er.value,X=Be.value,ie=qe.value;if(x&&!S[It(C,x)]&&(p.selectRadioRow=null),X.reserve&&T){const de=It(C,T);w[de]&&Ea(w[de].row,!0)}g.selectCheckboxMaps=po(R),p.updateCheckboxFlag++,ie.reserve&&na(go(g.checkboxReserveRowMap),!0,!0),v&&!S[It(C,v)]&&(p.currentRow=null),g.rowExpandedMaps=f?po(_):{},p.rowExpandedFlag++,f&&B.reserve&&C.setRowExpand(go(g.rowExpandedReserveRowMap),!0),g.treeExpandedMaps=o?po(P):{},p.treeExpandedFlag++,o&&K.reserve&&C.setTreeExpand(go(g.treeExpandedReserveRowMap),!0)},du=()=>{const{treeConfig:o}=e;if(o){const{fullAllDataRowIdData:f}=g,v=er.value,{expandAll:x,expandRowKeys:w}=v;if(x)C.setAllTreeExpand(!0);else if(w){const S=[];w.forEach(T=>{const R=f[T];R&&S.push(R.row)}),C.setTreeExpand(S,!0)}}},qi=o=>{const f=er.value,v=qe.value,{transform:x,loadMethod:w}=f,{checkStrictly:S}=v;return new Promise(T=>{if(w){const{fullAllDataRowIdData:R,treeExpandLazyLoadedMaps:P}=g,_=It(C,o),B=R[_];P[_]=o,Promise.resolve(w({$table:C,row:o})).then(K=>{if(B&&(B.treeLoaded=!0),P[_]&&delete P[_],u.isArray(K)||(K=[]),K)return C.loadTreeChildren(o,K).then(X=>{const{treeExpandedMaps:ie}=g;return X.length&&!ie[_]&&(ie[_]=o),p.treeExpandedFlag++,!S&&C.isCheckedByCheckboxRow(o)&&na(X,!0),ge().then(()=>{if(x)return C.handleTableData(),Mt(),ge()})})}).catch(()=>{const{treeExpandLazyLoadedMaps:K}=g;B&&(B.treeLoaded=!1),K[_]&&delete K[_]}).finally(()=>{p.treeExpandedFlag++,ge().then(()=>C.recalculate()).then(()=>T())})}else T()})},Hi=(o,f)=>{const{treeExpandedReserveRowMap:v}=g;if(er.value.reserve){const w=It(C,o);f?v[w]=o:v[w]&&delete v[w]}},Bi=o=>new Promise(f=>{const v=Or.value,{loadMethod:x}=v;if(x){const{fullAllDataRowIdData:w,rowExpandLazyLoadedMaps:S}=g,T=It(C,o),R=w[T];S[T]=o,x({$table:C,row:o,rowIndex:C.getRowIndex(o),$rowIndex:C.getVMRowIndex(o)}).then(()=>{const{rowExpandedMaps:P}=g;R&&(R.expandLoaded=!0),P[T]=o,p.rowExpandedFlag++}).catch(()=>{R&&(R.expandLoaded=!1)}).finally(()=>{const{rowExpandLazyLoadedMaps:P}=g;P[T]&&delete P[T],p.rowExpandedFlag++,ge().then(()=>C.recalculate()).then(()=>C.updateCellAreas()).then(()=>f())})}else f()}),lC=(o,f)=>{const{rowExpandedReserveRowMap:v}=g;if(Or.value.reserve){const w=It(C,o);f?v[w]=o:v[w]&&delete v[w]}},aA=()=>{const{mergeCells:o}=e;o&&C.setMergeCells(o)},lA=()=>{const{mergeHeaderCells:o}=e;o&&C.setMergeHeaderCells(o)},iA=()=>{const{mergeFooterCells:o,mergeFooterItems:f}=e,v=o||f;v&&C.setMergeFooterCells(v)},fu=()=>ge().then(()=>{const{scrollXLoad:o,scrollYLoad:f}=p,{scrollXStore:v,scrollYStore:x}=g,w=Nt.value,S=Bt.value;if(o){const{toVisibleIndex:_,visibleSize:B}=Mo(),K=Math.max(0,S.oSize?u.toNumber(S.oSize):0);v.preloadSize=u.toNumber(S.preSize),v.offsetSize=K,v.visibleSize=B,v.endIndex=Math.max(v.startIndex+v.visibleSize+K,v.endIndex),v.visibleStartIndex=Math.max(v.startIndex,_),v.visibleEndIndex=Math.min(v.endIndex,_+B),C.updateScrollXData().then(()=>{Sl()})}else C.updateScrollXSpace();const T=Kn();x.rowHeight=T,p.rowHeight=T;const{toVisibleIndex:R,visibleSize:P}=Io();if(f){const _=Math.max(0,w.oSize?u.toNumber(w.oSize):0);x.preloadSize=u.toNumber(w.preSize),x.offsetSize=_,x.visibleSize=P,x.endIndex=Math.max(x.startIndex+P+_,x.endIndex),x.visibleStartIndex=Math.max(x.startIndex,R),x.visibleEndIndex=Math.min(x.endIndex,R+P),C.updateScrollYData().then(()=>{zi()})}else C.updateScrollYSpace()}),Gs=()=>{const{scrollXWidth:o,scrollYHeight:f}=p,{elemStore:v}=g,x=Kt.value,w=nr(v["main-body-wrapper"]),S=nr(v["main-header-table"]),T=nr(v["main-footer-table"]),R=ut.value,P=$e.value;let _=!1,B=!1;if(w){_=f>w.clientHeight,P&&(p.scrollbarWidth=x.width||P.offsetWidth-P.clientWidth||14),p.overflowY=_,B=o>w.clientWidth,R&&(p.scrollbarHeight=x.height||R.offsetHeight-R.clientHeight||14);const K=S?S.clientHeight:0,X=T?T.clientHeight:0;g.tableHeight=w.offsetHeight,g.tHeaderHeight=K,g.tFooterHeight=X,p.overflowX=B,p.parentHeight=Math.max(K+X+20,C.getParentHeight())}B&&C.checkScrolling()},el=(o,f,v)=>{const x=I.value;if(g.rceRunTime=Date.now(),!x||!x.clientWidth)return ge();const w=W.value;if(w){const[S,T,R,P]=w.children;Pn("default",S),Pn("medium",T),Pn("small",R),Pn("mini",P)}return f&&A(),o&&pe(),Gs(),$t(),tl(),fu().then(()=>{if(f&&A(),o&&pe(),v&&Je(),$t(),Gs(),o&&zn(),tl(),o)return fu()})},Ln=(o,f,v)=>new Promise(x=>{const w=g.xeGanttView,{rceTimeout:S,rceRunTime:T}=g,P=xe.value.refreshDelay||20,_=I.value;_&&_.clientWidth&&(pe(),tl()),S?(clearTimeout(S),T&&T+(P-5)<Date.now()?x(el(o,f,v)):ge(()=>{x()})):x(el(o,f,v)),w&&w.handleLazyRecalculate&&w.handleLazyRecalculate(),g.rceTimeout=setTimeout(()=>{g.rceTimeout=void 0,el(o,f,v)},P)}),iC=()=>{Ln(!0,!0,!0)},sC=()=>{const{visibleColumn:o}=g,f=[];o.forEach(v=>{v.aggFunc&&f.push(v)}),p.aggHandleAggColumns=f},Ws=o=>{const f=[],v=[];o&&(u.isArray(o)?o:[o]).forEach(x=>{f.push(x),v.push({field:x})}),p.rowGroupList=v,p.aggHandleFields=f,sC()},cC=o=>{const f=dt.value,{mapChildrenField:v}=f;v&&(u.lastEach(o,x=>{let w=0;u.each(x[v],S=>{S.isAggregate?w+=S.childCount||0:w++}),x.childCount=w}),C.handlePivotTableAggregateData&&C.handlePivotTableAggregateData(o))},sA=()=>{const{aggregateConfig:o,rowGroupConfig:f}=e,{isRowGroupStatus:v}=p,{tableFullGroupData:x}=g,w=dt.value,{mapChildrenField:S}=w;if((o||f)&&v){const T=[];u.eachTree(x,R=>{R.isAggregate&&T.push(R)},{children:S}),cC(T)}},pu=(o,f)=>{let v=o,x=o;if(f){const w=dt.value,{rowField:S,parentField:T,childrenField:R,mapChildrenField:P}=w,_=qe.value,{checkField:B}=_,K=_.indeterminateField||_.halfField,X=f[0];if(X&&S&&T&&R&&P){v=[],x=[];const ie=X.field,de=C.getColumnByField(ie),Q={},Ce=[],he=Ql(C);o.forEach(ye=>{const ae=de?C.getCellLabel(ye,de):u.get(ye,ie),oe=u.eqNull(ae)?"":ae;let Qe=Q[oe];Qe||(Qe=[],Q[oe]=Qe),ye.isAggregate&&(ye.isAggregate=void 0),Qe.push(ye)}),u.objectEach(Q,(ye,ae)=>{const{fullData:oe,treeData:Qe}=pu(ye,f.slice(1)),je={isAggregate:!0,aggData:{},groupContent:ae,groupField:ie,childCount:0,[S]:ys(),[T]:null,[he]:ys(),[R]:Qe,[P]:Qe};B&&(je[B]=!1),K&&(je[K]=!1),Ce.push(je),x.push(je),v.push(je),oe.length&&v.push(...oe)}),cC(Ce)}}return{treeData:x,fullData:v}},El=(o,f)=>{const{keepSource:v,treeConfig:x,rowGroupConfig:w,aggregateConfig:S}=e,{rowGroupList:T,scrollYLoad:R}=p,{scrollYStore:P,scrollXStore:_,lastScrollLeft:B,lastScrollTop:K}=g,X=He.value,ie=er.value,de=Or.value,{transform:Q}=ie,Ce=ie.children||ie.childrenField;let he=[],ye=rn(o?o.slice(0):[]);if(ye.length>XT&&At("vxe.error.errMaxRow",[XT]),x&&T.length)return At("vxe.error.noTree",["aggregate-config"]),ge();if(X.drag&&T.length)return At("vxe.error.errConflicts",["row-config.drag","aggregate-config"]),ge();let ae=!1;if(x)Q?(ie.rowField||At("vxe.error.reqProp",["tree-config.rowField"]),ie.parentField||At("vxe.error.reqProp",["tree-config.parentField"]),Ce||At("vxe.error.reqProp",["tree-config.childrenField"]),ie.mapChildrenField||At("vxe.error.reqProp",["tree-config.mapChildrenField"]),Ce===ie.mapChildrenField&&At("vxe.error.errConflicts",["tree-config.childrenField","tree-config.mapChildrenField"]),he=u.toArrayTree(ye,{key:ie.rowField,parentKey:ie.parentField,children:Ce,mapChildren:ie.mapChildrenField}),ye=he.slice(0)):he=ye.slice(0);else if((S||w)&&T.length){const Qe=pu(ye,T);he=Qe.treeData,ye=Qe.fullData,ae=!0}p.isRowGroupStatus=ae,P.startIndex=0,P.endIndex=1,_.startIndex=0,_.endIndex=1,g.cvCacheMaps={},p.isRowLoading=!0,p.scrollVMLoading=!1,p.treeExpandedFlag++,p.rowExpandedFlag++,g.insertRowMaps={},p.insertRowFlag++,g.removeRowMaps={},p.removeRowFlag++;const oe=Vi(ye);return g.tableFullData=ye,g.tableFullTreeData=ae?[]:he,g.tableFullGroupData=ae?he:[],C.cacheRowMap(f),g.tableSynchData=o,f&&(g.isResizeCellHeight=!1),v&&C.cacheSourceMap(ye),C.clearCellAreas&&e.mouseConfig&&(C.clearCellAreas(),C.clearCopyCellArea()),C.clearMergeCells(),C.clearMergeFooterItems(),C.handleTableData(!0),C.updateFooter(),C.handleUpdateBodyMerge(),ge().then(()=>{Uo(),$t()}).then(()=>{fu()}).then(()=>{const Qe=Nt.value;return oe&&(P.endIndex=P.visibleSize),oe&&(p.expandColumn&&de.mode!=="fixed"&&At("vxe.error.notConflictProp",['column.type="expand','expand-config.mode="fixed"']),Qe.mode==="scroll"&&de.mode==="fixed"&&Zt("vxe.error.notConflictProp",["virtual-y-config.mode=scroll","expand-config.mode=inside"]),e.height||e.maxHeight||At("vxe.error.reqProp",["height | max-height | virtual-y-config={enabled: false}"]),e.spanMethod&&At("vxe.error.scrollErrProp",["table.span-method"])),uu(),C.checkSelectionStatus(),C.dispatchEvent("data-change",{visibleColumn:g.visibleColumn,visibleData:g.afterFullData},null),new Promise(je=>{ge().then(()=>el(!1,!1,!1)).then(()=>{el(!1,!0,!0),zn()}).then(()=>{let We=B,Ot=K;const St=Bt.value,ct=Nt.value;St.scrollToLeftOnChange&&(We=0),ct.scrollToTopOnChange&&(Ot=0),p.isRowLoading=!1,el(!1,!1,!1),e.showOverflow||setTimeout(()=>{Ln(!1,!0,!0),setTimeout(()=>Ln(!1,!0,!0),3e3)},2e3),R===oe?rc(C,We,Ot).then(()=>{el(!1,!0,!0),zn(),je()}):setTimeout(()=>{rc(C,We,Ot).then(()=>{el(!1,!0,!0),zn(),je()})})})})})},Us=()=>{Jn(),Vn(),mo(),du(),gA(),aA(),lA(),iA(),ge(()=>setTimeout(()=>C.recalculate()))},cA=()=>{Qr()},gu=()=>{const{scrollXLoad:o}=p,{visibleColumn:f,scrollXStore:v,fullColumnIdData:x}=g,w=o?f.slice(v.startIndex,v.endIndex):f.slice(0);w.forEach((S,T)=>{const R=S.id,P=x[R];P&&(P.$index=T)}),p.tableColumn=w},uC=()=>{const o=u.orderBy(g.collectColumn,"renderSortNumber");g.collectColumn=o;const f=ws(o);g.tableFullColumn=f,ya()},Sl=()=>{const{isScrollXBig:o}=p,{mergeBodyList:f,mergeFooterList:v,scrollXStore:x}=g,{preloadSize:w,startIndex:S,endIndex:T,offsetSize:R}=x,{toVisibleIndex:P,visibleSize:_}=Mo(),B={startIndex:Math.max(0,o?P-1:P-1-R-w),endIndex:o?P+_:P+_+R+w};x.visibleStartIndex=P-1,x.visibleEndIndex=P+_+1,ho(f.concat(v),B,"col");const{startIndex:K,endIndex:X}=B;(P<=S||P>=T-_-1)&&(S!==K||T!==X)&&(x.startIndex=K,x.endIndex=X,C.updateScrollXData()),C.closeTooltip()},hu=o=>{const f=[],v=[],x=[],{isGroup:w,columnStore:S}=p,{collectColumn:T,tableFullColumn:R,scrollXStore:P,fullColumnIdData:_}=g;if(w){const X=[],ie=[],de=[];u.eachTree(T,(Q,Ce,he,ye,ae)=>{const oe=fi(Q);ae&&ae.fixed&&(Q.fixed=ae.fixed),ae&&(Q.fixed||"")!==(ae.fixed||"")&&At("vxe.error.groupFixed"),oe?Q.visible=!!u.findTree(Q.children,Qe=>fi(Qe)?!1:Qe.visible):Q.visible&&(Q.fixed==="left"?f.push(Q):Q.fixed==="right"?x.push(Q):v.push(Q))}),T.forEach(Q=>{Q.visible&&(Q.fixed==="left"?X.push(Q):Q.fixed==="right"?de.push(Q):ie.push(Q))}),p.tableGroupColumn=X.concat(ie).concat(de)}else R.forEach(X=>{X.visible&&(X.fixed==="left"?f.push(X):X.fixed==="right"?x.push(X):v.push(X))});const B=f.concat(v).concat(x);g.visibleColumn=B,Ks();const K=dA();if(p.hasFixedColumn=f.length>0||x.length>0,Object.assign(S,{leftList:f,centerList:v,rightList:x}),K&&(e.spanMethod&&Zt("vxe.error.scrollErrProp",["span-method"]),e.footerSpanMethod&&Zt("vxe.error.scrollErrProp",["footer-span-method"]),o)){const{visibleSize:X}=Mo();P.startIndex=0,P.endIndex=X,P.visibleSize=X,P.visibleStartIndex=0,P.visibleEndIndex=X}return(B.length!==g.visibleColumn.length||!g.visibleColumn.every((X,ie)=>X===B[ie]))&&(C.clearMergeCells(),C.clearMergeFooterItems()),B.forEach((X,ie)=>{const de=X.id,Q=_[de];Q&&(Q._index=ie)}),gu(),sC(),o?(Ks(),C.updateFooter().then(()=>C.recalculate()).then(()=>(C.updateCellAreas(),C.recalculate()))):C.updateFooter()},uA=()=>{const{collectColumn:o}=g,f={},v={};let x=1;u.eachTree(o,(w,S,T,R,P)=>{const{id:_,field:B}=w,K=P?P.id:null,X={$index:-1,_index:-1,column:w,colid:_,index:S,items:T,parent:P||null,width:0,oLeft:0};w.parentId=K,w.defaultParentId=K,w.sortNumber=x,w.renderSortNumber=x,x++,B&&(v[B]&&At("vxe.error.colRepet",["field",B]),v[B]=X),f[_]=X}),g.fullColumnIdData=f,g.fullColumnFieldData=v},dC=o=>{const f=Or.value;g.collectColumn=o;const v=ws(o);return g.tableFullColumn=v,p.isColLoading=!0,uA(),Promise.resolve(Wo()).then(()=>{const{scrollXLoad:x,scrollYLoad:w,expandColumn:S}=p;return ya(),hu(!0).then(()=>{p.scrollXLoad&&Sl()}),C.clearMergeCells(),C.clearMergeFooterItems(),C.handleTableData(!0),C.handleAggregateSummaryData(),(x||w)&&S&&f.mode!=="fixed"&&Zt("vxe.error.scrollErrProp",["column.type=expand"]),ge().then(()=>(Dt&&Dt.syncUpdate({collectColumn:g.collectColumn,$table:C}),C.handleUpdateCustomColumn&&C.handleUpdateCustomColumn(),p.isColLoading=!1,Ln(!1,!0,!0)))})},dA=o=>{const f=Bt.value,v=g.tableFullColumn,x=!!f.enabled&&f.gt>-1&&(f.gt===0||f.gt<v.length);return p.scrollXLoad=x,x},Vi=o=>{const{treeConfig:f}=e,v=g.xeGanttView,x=Nt.value,w=er.value,{transform:S}=w,T=o||g.tableFullData,R=(S||!f)&&!!x.enabled&&x.gt>-1&&(x.gt===0||x.gt<T.length);return p.scrollYLoad=R,v&&v.handleUpdateSYStatus&&v.handleUpdateSYStatus(R),R},fC=(o,f)=>{const{treeNodeColumn:v}=p,{fullAllDataRowIdData:x,tableFullTreeData:w,treeExpandedMaps:S,treeExpandLazyLoadedMaps:T}=g,R=er.value,{reserve:P,lazy:_,accordion:B,toggleMethod:K}=R,X=R.children||R.childrenField,ie=R.hasChild||R.hasChildField,de=[],Q=C.getColumnIndex(v),Ce=C.getVMColumnIndex(v),{handleGetRowId:he}=hn(C);let ye=K?o.filter(ae=>K({$table:C,expanded:f,column:v,columnIndex:Q,$columnIndex:Ce,row:ae})):o;if(B){ye=ye.length?[ye[ye.length-1]]:[];const ae=u.findTree(w,oe=>oe===ye[0],{children:X});ae&&ae.items.forEach(oe=>{const Qe=he(oe);S[Qe]&&delete S[Qe]})}return f?ye.forEach(ae=>{const oe=he(ae);if(!S[oe]){const Qe=x[oe];Qe&&(_&&ae[ie]&&!Qe.treeLoaded&&!T[oe]?de.push(qi(ae)):ae[X]&&ae[X].length&&(S[oe]=ae))}}):ye.forEach(ae=>{const oe=he(ae);S[oe]&&delete S[oe]}),P&&ye.forEach(ae=>Hi(ae,f)),p.treeExpandedFlag++,Promise.all(de).then(()=>C.recalculate())},fA=(o,f)=>fC(o,f).then(()=>(kt(),C.handleTableData(),p.treeExpandedFlag++,Mt(),ge())).then(()=>Ln(!0,!0,!0)).then(()=>{setTimeout(()=>{C.updateCellAreas()},30)}),pA=(o,f)=>{const{fullAllDataRowIdData:v,tableFullGroupData:x,rowGroupExpandedMaps:w}=g,S=dt.value,{mapChildrenField:T,accordion:R}=S,{handleGetRowId:P}=hn(C);let _=o;if(T){if(R){_=_.length?[_[_.length-1]]:[];const B=u.findTree(x,K=>It(C,K)===It(C,_[0]),{children:T});B&&B.items.forEach(K=>{const X=P(K);w[X]&&delete w[X]})}f?_.forEach(B=>{const K=P(B);w[K]||v[K]&&B[T]&&B[T].length&&(w[K]=B)}):_.forEach(B=>{const K=P(B);w[K]&&delete w[K]})}return p.rowGroupExpandedFlag++,C.recalculate()},pC=(o,f)=>pA(o,f).then(()=>(kt(),C.handleTableData(),p.rowGroupExpandedFlag++,Mt(),ge())).then(()=>Ln(!0,!0,!0)).then(()=>{setTimeout(()=>{C.updateCellAreas()},30)}),gA=()=>{const{isRowGroupStatus:o}=p;if(o){const f=dt.value,{expandAll:v,expandGroupFields:x}=f;v?C.setAllRowGroupExpand(!0):x&&x.length&&C.setRowGroupExpandByField(x,!0)}},gC=(o,f)=>{_i(f),o&&Ir("checkbox-all",{records:()=>C.getCheckboxRecords(),reserves:()=>C.getCheckboxReserveRecords(),indeterminates:()=>C.getCheckboxIndeterminateRecords(),checked:f},o)},zi=()=>{const{isAllOverflow:o,isScrollYBig:f}=p,{mergeBodyList:v,scrollYStore:x}=g,{preloadSize:w,startIndex:S,endIndex:T,offsetSize:R}=x,P=o?R:R+1,{toVisibleIndex:_,visibleSize:B}=Io(),K={startIndex:Math.max(0,f?_-1:_-1-R-w),endIndex:f?_+B:_+B+P+w};x.visibleStartIndex=_-1,x.visibleEndIndex=_+B+1,ho(v,K,"row");const{startIndex:X,endIndex:ie}=K;(_<=S||_>=T-B-1)&&(S!==X||T!==ie)&&(x.startIndex=X,x.endIndex=ie,C.updateScrollYData())},js=o=>function(f){const{fullAllDataRowIdData:v}=g;if(f){const x=It(C,f),w=v[x];if(w)return w[o]}return-1},vu=o=>function(f){const{fullColumnIdData:v}=g;if(f){const x=v[f.id];if(x)return x[o]}return-1},hA=()=>{const{lxTimeout:o,lxRunTime:f,scrollXStore:v}=g,{visibleSize:x}=v,w=x>26?26:x>16?14:6;o&&clearTimeout(o),(!f||f+w<Date.now())&&(g.lxRunTime=Date.now(),Sl()),g.lxTimeout=setTimeout(()=>{g.lxTimeout=void 0,g.lxRunTime=void 0,Sl()},w)},vA=()=>{const{lyTimeout:o,lyRunTime:f,scrollYStore:v}=g,{visibleSize:x}=v,w=x>30?32:x>20?18:8;o&&clearTimeout(o),(!f||f+w<Date.now())&&(g.lyRunTime=Date.now(),zi()),g.lyTimeout=setTimeout(()=>{g.lyTimeout=void 0,g.lyRunTime=void 0,zi()},w)},mA=(o,f)=>{const{lcsTimeout:v}=g;p.lazScrollLoading=!0,v&&clearTimeout(v),g.lcsTimeout=setTimeout(()=>{const{scrollXLoad:x,scrollYLoad:w,isAllOverflow:S}=p;g.lcsRunTime=Date.now(),g.lcsTimeout=void 0,g.intoRunScroll=!1,g.inVirtualScroll=!1,g.inWheelScroll=!1,g.inHeaderScroll=!1,g.inBodyScroll=!1,g.inFooterScroll=!1,p.lazScrollLoading=!1,g.scrollRenderType="",S||(Je(),zn()),o&&x&&C.updateScrollXData(),f&&w&&C.updateScrollYData().then(()=>{S||(Je(),zn()),C.updateScrollYSpace()}),tl(),C.updateCellAreas()},200)},bA=o=>{let f=1;const v=Date.now();return o+25>v?f=1.18:o+30>v?f=1.15:o+40>v?f=1.12:o+55>v?f=1.09:o+75>v?f=1.06:o+100>v&&(f=1.03),f},xA=(o,f)=>{requestAnimationFrame(()=>{f(o)})},CA=(o,f)=>{const v=Math.abs(o),x=performance.now();let w=0;const S=T=>{let R=(T-x)/v;R>1&&(R=1);const P=Math.pow(R,2),_=Math.floor(o*P)-w;w+=_,f(_),R<1&&requestAnimationFrame(S)};requestAnimationFrame(S)},Ys=o=>{const f=g.xeGanttView;if(f){const v=f.internalData,{elemStore:x}=v,w=nr(x["main-body-scroll"]);w&&(w.scrollTop=o)}},Ir=(o,f,v)=>{n(o,yq(v,{$table:C,$grid:h,$gantt:c},f))},yA=(o,f)=>{const{fullColumnIdData:v}=g,x=un(C,o);return x&&v[x.id]?mT(C,x,f):ge()},mu=()=>{const o=I.value;o&&o.clientWidth&&o.clientHeight&&C.recalculate()},hC=(o,f)=>{C.analyColumnWidth(),C.recalculate().then(()=>{C.saveCustomStore("update:width"),C.updateCellAreas(),C.dispatchEvent("column-resizable-change",f,o),C.dispatchEvent("resizable-change",f,o),setTimeout(()=>C.recalculate(!0),300)})},vC=(o,f)=>{p.resizeHeightFlag++,C.recalculate().then(()=>{C.updateCellAreas(),C.dispatchEvent("row-resizable-change",f,o),setTimeout(()=>C.recalculate(!0),300)})},Ks=()=>{const{visibleColumn:o,fullColumnIdData:f}=g;let v=0;for(let x=0,w=o.length;x<w;x++){const S=o[x],T=S.id,R=f[T];R&&(R.oLeft=v),v+=S.renderWidth}},zn=()=>{const{expandColumn:o}=p,{afterFullData:f,fullAllDataRowIdData:v,rowExpandedMaps:x}=g,w=Or.value,S=He.value,T=Ie.value,R=rt.value,{handleGetRowId:P}=hn(C);let _=0;for(let B=0,K=f.length;B<K;B++){const X=f[B],ie=P(X),de=v[ie]||{};de.oTop=_,_+=de.resizeHeight||T.height||S.height||de.height||R,o&&x[ie]&&(_+=de.expandHeight||w.height||0)}},tl=()=>{const{expandColumn:o,scrollYLoad:f,scrollYTop:v,isScrollYBig:x}=p,w=Or.value,S=He.value,T=Ie.value,R=rt.value,{mode:P}=w;if(o&&P==="fixed"){const{elemStore:_,fullAllDataRowIdData:B}=g,K=Te.value,X=nr(_["main-body-scroll"]);if(K&&X){let ie=!1;u.arrayEach(K.children,de=>{const Q=de,Ce=Q.getAttribute("rowid")||"",he=B[Ce];if(he){const ye=Q.offsetHeight+1,ae=X.querySelector(`.vxe-body--row[rowid="${Ce}"]`);let oe=0;f?x&&ae?oe=ae.offsetTop+ae.offsetHeight:oe=he.oTop+(he.resizeHeight||T.height||S.height||he.height||R):ae&&(oe=ae.offsetTop+ae.offsetHeight),x&&(oe+=v),Q.style.top=Ss(oe),ie||he.expandHeight!==ye&&(ie=!0),he.expandHeight=ye}}),ie&&(p.rowExpandHeightFlag++,ge(()=>{zn()}))}}},mC=()=>{const{elemStore:o}=g,f=Te.value,v=nr(o["main-body-scroll"]);f&&v&&(f.scrollTop=v.scrollTop)};O={dispatchEvent:Ir,getEl(){return I.value},clearAll(){return f_(C)},syncData(){return At("vxe.error.delFunc",["syncData","getData"]),ge().then(()=>(p.tableData=[],n("update:data",g.tableFullData),ge()))},updateData(){const{scrollXLoad:o,scrollYLoad:f}=p;return C.handleTableData(!0).then(()=>{if(C.updateFooter(),o||f)return o&&C.updateScrollXSpace(),f&&C.updateScrollYSpace(),C.refreshScroll()}).then(()=>(C.updateCellAreas(),Ln(!0,!0,!0))).then(()=>{setTimeout(()=>Ln(!1,!0,!0),50)})},loadData(o){const{initStatus:f}=g;return El(o,!1).then(()=>(g.inited=!0,g.initStatus=!0,f||Us(),Ln(!1,!0,!0)))},reloadData(o){return C.clearAll().then(()=>(g.inited=!0,g.initStatus=!0,El(o,!0))).then(()=>(Us(),Ln(!1,!0,!0)))},setRow(o,f){if(o&&f){let v=o;u.isArray(o)||(v=[o]);const x=Ql(C);v.forEach(w=>{const S=It(C,w),T=u.clone(Object.assign({},f),!0);u.set(T,x,S),Object.assign(w,T)})}return ge()},reloadRow(o,f,v){const{keepSource:x}=e,{tableData:w}=p,{sourceDataRowIdData:S}=g;if(x){if(C.isAggregateRecord(o))return ge();const T=S[It(C,o)];if(T&&o)if(v){const R=u.clone(u.get(f||o,v),!0);u.set(o,v,R),u.set(T,v,R)}else{const R=Ql(C),P=It(C,o),_=u.clone(Object.assign({},f),!0);u.set(_,R,P),u.destructuring(T,Object.assign(o,_))}p.tableData=w.slice(0)}else At("vxe.error.reqProp",["keep-source"]);return ge()},getParams(){return e.params},loadTreeChildren(o,f){const{keepSource:v}=e,{tableSourceData:x,fullDataRowIdData:w,fullAllDataRowIdData:S,sourceDataRowIdData:T}=g,R=er.value,{transform:P,mapChildrenField:_}=R,B=R.children||R.childrenField,K=S[It(C,o)],X=K?K.level:0;return O.createData(f).then(ie=>{if(v){const de=It(C,o),Q=u.findTree(x,Ce=>de===It(C,Ce),{children:B});Q&&(Q.item[B]=u.clone(ie,!0)),ie.forEach(Ce=>{const he=It(C,Ce);T[he]=u.clone(Ce,!0)})}return u.eachTree(ie,(de,Q,Ce,he,ye,ae)=>{const oe=It(C,de),Qe=ye||K.row,je={row:de,rowid:oe,seq:-1,index:Q,_index:-1,$index:-1,treeIndex:-1,_tIndex:-1,items:Ce,parent:Qe,level:X+ae.length,height:0,resizeHeight:0,oTop:0,expandHeight:0};w[oe]=je,S[oe]=je},{children:B}),o[B]=ie,P&&(o[_]=u.clone(ie,!1)),Mt(),ie})},loadColumn(o){const{lastScrollLeft:f,lastScrollTop:v}=g,x=u.mapTree(o,w=>rn(ur.createColumn(C,w)));return dC(x).then(()=>{let w=f,S=v;const T=Bt.value,R=Nt.value;T.scrollToLeftOnChange&&(w=0),R.scrollToTopOnChange&&(S=0),rc(C,w,S)})},reloadColumn(o){return O.clearAll().then(()=>O.loadColumn(o))},getRowNode(o){if(o){const{fullAllDataRowIdData:f}=g,v=o.getAttribute("rowid");if(v){const x=f[v];if(x)return{rowid:x.rowid,item:x.row,index:x.index,items:x.items,parent:x.parent}}}return null},getColumnNode(o){if(o){const{fullColumnIdData:f}=g,v=o.getAttribute("colid");if(v){const x=f[v];if(x)return{colid:x.colid,item:x.column,index:x.index,items:x.items,parent:x.parent}}}return null},getRowSeq:js("seq"),getRowIndex:js("index"),getVTRowIndex:js("_index"),getVMRowIndex:js("$index"),getColumnIndex:vu("index"),getVTColumnIndex:vu("_index"),getVMColumnIndex:vu("$index"),createData(o){return ge().then(()=>rn(D.defineField(o)))},createRow(o){const f=u.isArray(o);return f||(o=[o||{}]),O.createData(o).then(v=>f?v:v[0])},revertData(o,f){const{keepSource:v,treeConfig:x}=e,{fullAllDataRowIdData:w,fullDataRowIdData:S,tableSourceData:T,sourceDataRowIdData:R,tableFullData:P,afterFullData:_,removeRowMaps:B}=g,K=er.value,{transform:X}=K,{handleGetRowId:ie}=hn(C);if(!v)return At("vxe.error.reqProp",["keep-source"]),ge();let de=o;o?u.isArray(o)||(de=[o]):de=u.toArray(C.getUpdateRecords());let Q=!1;return de.length&&de.forEach(Ce=>{const he=ie(Ce),ye=w[he];if(ye){const ae=ye.row;if(!C.isInsertByRow(ae)){const oe=R[he];oe&&ae&&(f?u.set(ae,f,u.clone(u.get(oe,f),!0)):u.destructuring(ae,u.clone(oe,!0)),!S[he]&&C.isRemoveByRow(ae)&&(B[he]&&delete B[he],P.unshift(ae),_.unshift(ae),Q=!0))}}}),o?(Q&&(p.removeRowFlag++,C.updateFooter(),C.cacheRowMap(!1),C.handleTableData(x&&X),x&&X||C.updateAfterDataIndex(),C.checkSelectionStatus(),p.scrollYLoad&&C.updateScrollYSpace()),ge().then(()=>(C.updateCellAreas(),Ln(!1,!0,!0)))):C.reloadData(T)},clearData(o,f){const{tableFullData:v,visibleColumn:x}=g;return arguments.length?o&&!u.isArray(o)&&(o=[o]):o=v,f?o.forEach(w=>u.set(w,f,null)):o.forEach(w=>{x.forEach(S=>{S.field&&ca(w,S,null)})}),ge()},getCellElement(o,f){const{elemStore:v}=g,x=un(C,f);if(!x)return null;const w=It(C,o),S=nr(v["main-body-scroll"]),T=nr(v["left-body-scroll"]),R=nr(v["right-body-scroll"]);let P;return x&&(x.fixed&&(x.fixed==="left"?T&&(P=T):R&&(P=R)),P||(P=S),P)?P.querySelector(`.vxe-body--row[rowid="${w}"] .${x.id}`):null},getCellLabel(o,f){const v=un(C,f);if(!v)return null;const{formatter:x}=v,w=yn(o,v);let S=w;if(x){let T;const{fullAllDataRowIdData:R}=g,P=It(C,o),_=v.id,B=R[P];if(B&&(T=B.formatData,T||(T=R[P].formatData={}),B&&T[_]&&T[_].value===w))return T[_].label;const K={cellValue:w,row:o,rowIndex:O.getRowIndex(o),column:v,columnIndex:O.getColumnIndex(v)};if(u.isString(x)){const X=YT.get(x),ie=X?X.tableCellFormatMethod||X.cellFormatMethod:null;S=ie?ie(K):""}else if(u.isArray(x)){const X=YT.get(x[0]),ie=X?X.tableCellFormatMethod||X.cellFormatMethod:null;S=ie?ie(K,...x.slice(1)):""}else S=x(K);T&&(T[_]={value:w,label:S})}return S},isInsertByRow(o){const f=It(C,o);return!!p.insertRowFlag&&!!g.insertRowMaps[f]},isRemoveByRow(o){const f=It(C,o);return!!p.removeRowFlag&&!!g.removeRowMaps[f]},removeInsertRow(){const{insertRowMaps:o}=g;return C.remove(u.values(o))},isUpdateByRow(o,f){const{keepSource:v}=e,{tableFullColumn:x,fullDataRowIdData:w,sourceDataRowIdData:S}=g;if(v){const T=u.isString(o)||u.isNumber(o)?o:It(C,o),R=w[T];if(!R)return!1;const P=R.row,_=S[T];if(_){if(arguments.length>1)return!To(_,P,f);for(let B=0,K=x.length;B<K;B++){const X=x[B].field;if(X&&!To(_,P,X))return!0}}}return!1},getColumns(o){const{visibleColumn:f}=g;return u.isUndefined(o)?f.slice(0):f[o]},getColid(o){const f=un(C,o);return f?f.id:null},getColumnById(o){const{fullColumnIdData:f}=g;return o&&f[o]?f[o].column:null},getColumnByField(o){const f=g.fullColumnFieldData;return o&&f[o]?f[o].column:null},getParentColumn(o){const{fullColumnIdData:f}=g,v=un(C,o);return v&&v.parentId&&f[v.parentId]?f[v.parentId].column:null},getTableColumn(){return{collectColumn:g.collectColumn.slice(0),fullColumn:g.tableFullColumn.slice(0),visibleColumn:g.visibleColumn.slice(0),tableColumn:p.tableColumn.slice(0)}},moveColumnTo(o,f,v){const{fullColumnIdData:x,visibleColumn:w}=g,{dragToChild:S,dragPos:T,isCrossDrag:R}=Object.assign({},v),P=un(C,o);let _=null;const B=P?x[P.id]:null;let K="left";if(u.isNumber(f)){if(B&&f){let X=B.items,ie=B._index+f;R&&(X=w,ie=B._index+f),ie>0&&ie<X.length-1&&(_=X[ie]),f>0&&(K="right")}}else{_=un(C,f);const X=_?x[_.id]:null;B&&X&&X._index>B._index&&(K="right")}return C.handleColDragSwapEvent(null,!0,P,_,T||K,S===!0)},moveRowTo(o,f,v){const{treeConfig:x}=e,{fullAllDataRowIdData:w,afterFullData:S}=g,{dragToChild:T,dragPos:R,isCrossDrag:P}=Object.assign({},v),_=er.value,B=dT(C,o);let K=null,X="top";const ie=B?w[It(C,B)]:null;if(u.isNumber(f)){if(ie&&f){let Q=S,Ce=ie._index+f;x&&(Q=ie.items,_.transform&&(Ce=ie.treeIndex+f,P&&(Q=S,Ce=ie._index+f))),Ce>=0&&Ce<=Q.length-1&&(K=Q[Ce]),f>0&&(X="bottom")}}else{K=dT(C,f);const Q=K?w[It(C,K)]:null;ie&&Q&&Q._index>ie._index&&(X="bottom")}const de=C.handleRowDragSwapEvent(null,!0,B,K,R||X,T===!0);return Js(),de},getFullColumns(){const{collectColumn:o}=g;return o.slice(0)},getData(o){const f=e.data||g.tableSynchData;return u.isUndefined(o)?f.slice(0):f[o]},getCheckboxRecords(o){const{treeConfig:f}=e,{updateCheckboxFlag:v}=p,{tableFullData:x,afterFullData:w,tableFullTreeData:S,fullDataRowIdData:T,afterFullRowMaps:R,selectCheckboxMaps:P}=g,_=er.value,B=qe.value,{transform:K,mapChildrenField:X}=_,{checkField:ie}=B,de=_.children||_.childrenField;let Q=[];if(v)if(ie)if(f){const Ce=o?K?S:x:K?S:w;Q=u.filterTree(Ce,he=>u.get(he,ie),{children:K?X:de})}else Q=(o?x:w).filter(he=>u.get(he,ie));else{const Ce=o||f&&!K?T:R;u.each(P,(he,ye)=>{Ce[ye]&&Q.push(T[ye].row)})}return Q},getTreeRowChildren(o){const{treeConfig:f}=e,{fullAllDataRowIdData:v}=g,x=er.value,{transform:w,mapChildrenField:S}=x,T=x.children||x.childrenField;if(o&&f){let R;if(u.isString(o)?R=o:R=It(C,o),R){const P=v[R],_=P?P.row:null;if(_)return _[w?S:T]||[]}}return[]},getTreeRowLevel(o){const{treeConfig:f}=e,{fullAllDataRowIdData:v}=g;if(o&&f){let x;if(u.isString(o)?x=o:x=It(C,o),x){const w=v[x];if(w)return w.level}}return-1},getTreeParentRow(o){const{treeConfig:f}=e,{fullAllDataRowIdData:v}=g;if(o&&f){let x;if(u.isString(o)?x=o:x=It(C,o),x){const w=v[x];if(w)return w.parent}}return null},getParentRow(o){return Zt("vxe.error.delFunc",["getParentRow","getTreeParentRow"]),C.getTreeParentRow(o)},getRowById(o){const{fullAllDataRowIdData:f}=g,v=u.eqNull(o)?"":encodeURIComponent(o||"");return f[v]?f[v].row:null},getRowid(o){return It(C,o)},getTableData(){const{tableData:o,footerTableData:f}=p,{tableFullData:v,afterFullData:x,tableFullTreeData:w}=g;return{fullData:e.treeConfig?w.slice(0):v.slice(0),visibleData:x.slice(0),tableData:o.slice(0),footerData:f.slice(0)}},getFullData(){const{treeConfig:o}=e,{tableFullData:f,tableFullTreeData:v}=g;if(o){const x=er.value,{transform:w,mapChildrenField:S,rowField:T,parentField:R}=x,P=x.children||x.childrenField;return w?u.toArrayTree(u.toTreeArray(v,{children:S}),{key:T,parentKey:R,children:P,mapChildren:S}):v.slice(0)}return f.slice(0)},setColumnFixed(o,f){let v=!1;const x=u.isArray(o)?o:[o],w=at.value,S=uo.value;for(let T=0;T<x.length;T++){const R=x[T],P=un(C,R),_=hT(C,P);if(_&&_.fixed!==f){if(!_.fixed&&S)return Se.modal&&Se.modal.message({status:"error",content:aa("vxe.table.maxFixedCol",[w.maxFixedSize])}),ge();u.eachTree([_],B=>{B.fixed=f,B.renderFixed=f}),D.saveCustomStore("update:fixed"),v||(v=!0)}}return v?O.refreshColumn():ge()},clearColumnFixed(o){let f=!1;return(u.isArray(o)?o:[o]).forEach(x=>{const w=un(C,x),S=hT(C,w);S&&S.fixed&&(u.eachTree([S],T=>{T.fixed=null,T.renderFixed=null}),D.saveCustomStore("update:fixed"),f||(f=!0))}),f?O.refreshColumn():ge()},hideColumn(o){let f=!1;return(u.isArray(o)?o:[o]).forEach(x=>{const w=un(C,x);w&&w.visible&&(w.visible=!1,f||(f=!0))}),f?D.handleCustom():ge()},showColumn(o){let f=!1;return(u.isArray(o)?o:[o]).forEach(x=>{const w=un(C,x);w&&!w.visible&&(w.visible=!0,f||(f=!0))}),f?D.handleCustom():ge()},setColumnWidth(o,f){const{elemStore:v}=g;let x=!1;const w=u.isArray(o)?o:[o];let S=u.toInteger(f);if(si(f)){const T=nr(v["main-body-scroll"]),R=T?T.clientWidth-1:0;S=Math.floor(S*R)}return S&&(w.forEach(T=>{const R=un(C,T);R&&(R.resizeWidth=S,x||(x=!0))}),x)?C.refreshColumn().then(()=>({status:x})):ge().then(()=>({status:x}))},getColumnWidth(o){const f=un(C,o);return f?f.renderWidth:0},resetColumn(o){return Zt("vxe.error.delFunc",["resetColumn","resetCustom"]),C.resetCustom(o)},refreshColumn(o){return o&&uC(),hu(!0).then(()=>C.refreshScroll()).then(()=>Ln(!1,!0,!0))},setRowHeightConf(o){const{fullAllDataRowIdData:f}=g;let v=!1;return o&&(u.each(o,(x,w)=>{const S=f[w];if(S){const T=u.toInteger(x);T&&(S.resizeHeight=T,v||(v=!0))}}),v&&(g.isResizeCellHeight=!0,p.resizeHeightFlag++)),ge().then(()=>(zn(),{status:v}))},getRowHeightConf(o){const{fullAllDataRowIdData:f,afterFullData:v}=g,{handleGetRowId:x}=hn(C),w=He.value,S=Ie.value,T=rt.value,R={};return v.forEach(P=>{const _=x(P),B=f[_];if(B){const K=B.resizeHeight;if(K||o){const X=K||S.height||w.height||B.height||T;R[_]=X}}}),R},recalcRowHeight(o){const{fullAllDataRowIdData:f}=g,v=u.isArray(o)?o:[o],x=I.value;if(x){const{handleGetRowId:w}=hn(C);x.setAttribute("data-calc-row","Y"),v.forEach(S=>{const T=u.isString(S)||u.isNumber(S)?S:w(S),R=f[T];R&&(R.resizeHeight=Me(R,x)),x.removeAttribute("data-calc-row")}),p.calcCellHeightFlag++}return ge()},setRowHeight(o,f){const{fullAllDataRowIdData:v}=g;let x=!1;const w=u.isArray(o)?o:[o];let S=u.toInteger(f);if(si(f)){const T=U.value,R=T?T.$el:null,P=R?R.clientHeight-1:0;S=Math.floor(S*P)}if(S){const{handleGetRowId:T}=hn(C);w.forEach(R=>{const P=u.isString(R)||u.isNumber(R)?R:T(R),_=v[P];_&&(_.resizeHeight=S,x||(x=!0))}),x&&(g.isResizeCellHeight=!0,p.resizeHeightFlag++)}return ge().then(()=>({status:x}))},getRowHeight(o){const{fullAllDataRowIdData:f}=g,v=He.value,x=Ie.value,w=rt.value,S=u.isString(o)||u.isNumber(o)?o:It(C,o),T=f[S];return T?T.resizeHeight||x.height||v.height||T.height||w:0},refreshScroll(){const{elemStore:o,lastScrollLeft:f,lastScrollTop:v}=g,x=nr(o["main-header-scroll"]),w=nr(o["main-body-scroll"]),S=nr(o["main-footer-scroll"]),T=nr(o["left-body-scroll"]),R=nr(o["right-body-scroll"]),P=ut.value,_=$e.value;return new Promise(B=>{if(f||v)return rc(C,f,v).then(()=>{setTimeout(B,10)});g.intoRunScroll=!0,Br(_,v),Br(w,v),Br(T,v),Br(R,v),Gr(P,f),Gr(w,f),Gr(x,f),Gr(S,f),setTimeout(()=>{g.intoRunScroll=!1,B()},10)})},recalculate(o){const f=!!o;return Ln(f,f,f)},openTooltip(o,f){const v=Y.value;return v&&v.open?v.open(o,f):ge()},closeTooltip(){const{tooltipStore:o}=p,f=N.value,v=Y.value;return o.visible&&(Object.assign(o,{row:null,column:null,content:null,visible:!1,type:null,currOpts:{}}),f&&f.close&&f.close()),v&&v.close&&v.close(),ge()},isAllCheckboxChecked(){return p.isAllSelected},isAllCheckboxIndeterminate(){return!p.isAllSelected&&p.isIndeterminate},getCheckboxIndeterminateRecords(o){const{treeConfig:f}=e,{fullDataRowIdData:v,treeIndeterminateRowMaps:x}=g;if(f){const w=[],S=[];return u.each(x,(T,R)=>{T&&(w.push(T),v[R]&&S.push(T))}),o?w:S}return[]},setCheckboxRow(o,f){return o&&!u.isArray(o)&&(o=[o]),na(o,f,!0)},setCheckboxRowKey(o,f){const{fullAllDataRowIdData:v}=g;u.isArray(o)||(o=[o]);const x=[];return o.forEach(w=>{const S=v[w];S&&x.push(S.row)}),na(x,f,!0)},isCheckedByCheckboxRow(o){const{updateCheckboxFlag:f}=p,{selectCheckboxMaps:v}=g,x=qe.value,{checkField:w}=x;return w?u.get(o,w):!!f&&!!v[It(C,o)]},isCheckedByCheckboxRowKey(o){const{updateCheckboxFlag:f}=p,{fullAllDataRowIdData:v,selectCheckboxMaps:x}=g,w=qe.value,{checkField:S}=w;if(S){const T=v[o];return T?u.get(T.row,S):!1}return!!f&&!!x[o]},isIndeterminateByCheckboxRow(o){const{treeIndeterminateRowMaps:f}=g;return!!f[It(C,o)]&&!C.isCheckedByCheckboxRow(o)},isIndeterminateByCheckboxRowKey(o){const{treeIndeterminateRowMaps:f}=g;return!!f[o]&&!C.isCheckedByCheckboxRowKey(o)},toggleCheckboxRow(o){const{selectCheckboxMaps:f}=g,v=qe.value,{checkField:x}=v,w=x?!u.get(o,x):!f[It(C,o)];return D.handleBatchSelectRows([o],w,!0),D.checkSelectionStatus(),ge()},setAllCheckboxRow(o){return _i(o,!0)},getRadioReserveRecord(o){const{treeConfig:f}=e,{fullDataRowIdData:v,radioReserveRow:x,afterFullData:w}=g,S=Be.value,T=er.value,R=T.children||T.childrenField;if(S.reserve&&x){const P=It(C,x);if(o){if(!v[P])return x}else{const _=Ql(C);if(f){if(u.findTree(w,K=>P===u.get(K,_),{children:R}))return x}else if(!w.some(B=>P===u.get(B,_)))return x}}return null},clearRadioReserve(){return g.radioReserveRow=null,ge()},getCheckboxReserveRecords(o){const{treeConfig:f}=e,{afterFullData:v,fullDataRowIdData:x,checkboxReserveRowMap:w}=g,S=qe.value,T=er.value,R=T.children||T.childrenField,P=[];if(S.reserve){const{handleGetRowId:_}=hn(C),B={};f?u.eachTree(v,K=>{B[_(K)]=1},{children:R}):v.forEach(K=>{B[_(K)]=1}),u.each(w,(K,X)=>{K&&(o?x[X]||P.push(K):B[X]||P.push(K))})}return P},clearCheckboxReserve(){return g.checkboxReserveRowMap={},ge()},toggleAllCheckboxRow(){return gC(null,!p.isAllSelected),ge()},clearCheckboxRow(){const{treeConfig:o}=e,{tableFullData:f}=g,v=er.value,x=v.children||v.childrenField,w=qe.value,{checkField:S,reserve:T}=w,R=w.indeterminateField||w.halfField;if(S){const P=_=>{o&&R&&u.set(_,R,!1),u.set(_,S,!1)};o?u.eachTree(f,P,{children:x}):f.forEach(P)}return T&&f.forEach(P=>On(P,!1)),p.isAllSelected=!1,p.isIndeterminate=!1,g.selectCheckboxMaps={},g.treeIndeterminateRowMaps={},p.updateCheckboxFlag++,ge()},setCurrentRow(o){const f=g.xeGanttView,v=He.value,x=I.value;return O.clearCurrentRow(),p.currentRow=o,(v.isCurrent||e.highlightCurrentRow)&&x&&u.arrayEach(x.querySelectorAll(`[rowid="${It(C,o)}"]`),w=>Lo(w,"row--current")),f&&f.handleUpdateCurrentRow&&f.handleUpdateCurrentRow(o),ge()},isCheckedByRadioRow(o){const{selectRadioRow:f}=p;return o&&f?C.eqRow(f,o):!1},isCheckedByRadioRowKey(o){const{selectRadioRow:f}=p;return f?o===It(C,f):!1},setRadioRow(o){return Ea(o,!0)},setRadioRowKey(o){const{fullAllDataRowIdData:f}=g,v=f[o];return v?Ea(v.row,!0):ge()},clearCurrentRow(){const o=g.xeGanttView,f=I.value;return p.currentRow=null,g.hoverRow=null,f&&u.arrayEach(f.querySelectorAll(".row--current"),v=>Wn(v,"row--current")),o&&o.handleUpdateCurrentRow&&o.handleUpdateCurrentRow(),ge()},clearRadioRow(){return p.selectRadioRow=null,ge()},getCurrentRecord(o){const{currentRow:f}=p,{fullDataRowIdData:v,afterFullRowMaps:x}=g;if(He.value.isCurrent||e.highlightCurrentRow){const S=It(C,f);if(o){if(v[S])return f}else if(x[S])return f}return null},getRadioRecord(o){const{fullDataRowIdData:f,afterFullRowMaps:v}=g,{selectRadioRow:x}=p;if(x){const w=It(C,x);if(o){if(f[w])return x}else if(v[w])return x}return null},getCurrentColumn(){return at.value.isCurrent||e.highlightCurrentColumn?p.currentColumn:null},setCurrentColumn(o){const{mouseConfig:f}=e,v=Ct.value,x=f&&v.selected,w=un(C,o);return w&&(C.clearCurrentColumn(),p.currentColumn=w),ge().then(()=>{x&&C.addCellSelectedClass()})},clearCurrentColumn(){return p.currentColumn=null,ge()},setPendingRow(o,f){const{handleGetRowId:v}=hn(C),{pendingRowMaps:x}=g;return o&&!u.isArray(o)&&(o=[o]),f?o.forEach(w=>{const S=v(w);S&&!x[S]&&(x[S]=w)}):o.forEach(w=>{const S=v(w);S&&x[S]&&delete x[S]}),p.pendingRowFlag++,ge()},togglePendingRow(o){const{handleGetRowId:f}=hn(C),{pendingRowMaps:v}=g;return o&&!u.isArray(o)&&(o=[o]),o.forEach(x=>{const w=f(x);w&&(v[w]?delete v[w]:v[w]=x)}),p.pendingRowFlag++,ge()},hasPendingByRow(o){return O.isPendingByRow(o)},isPendingByRow(o){const{pendingRowMaps:f}=g,v=It(C,o);return!!f[v]},getPendingRecords(){const{fullAllDataRowIdData:o,pendingRowMaps:f}=g,v=[];return u.each(f,(x,w)=>{o[w]&&v.push(x)}),v},clearPendingRow(){return g.pendingRowMaps={},p.pendingRowFlag++,ge()},sort(o,f){const v=Ke.value,{multiple:x,remote:w,orders:S}=v;return o&&u.isString(o)&&(o=[{field:o,order:f}]),u.isArray(o)||(o=[o]),o.length?(x||ra(),(x?o:[o[0]]).forEach((T,R)=>{let{field:P,order:_}=T,B=P;u.isString(P)&&(B=O.getColumnByField(P)),B&&B.sortable&&(S&&S.indexOf(_)===-1&&(_=Vo(B)),B.order!==_&&(B.order=_),B.sortTime=Date.now()+R)}),w||D.handleTableData(!0),ge().then(()=>(zn(),O.updateCellAreas(),$t()))):ge()},setSort(o,f){return vo(null,o,f)},setSortByEvent(o,f){return vo(o,f,!0)},clearSort(o){const f=Ke.value;if(o){const v=un(C,o);v&&(v.order=null)}else ra();return f.remote||C.handleTableData(!0),ge().then(()=>(zn(),$t()))},clearSortByEvent(o,f){const{tableFullColumn:v}=g,x=Ke.value,{multiple:w}=x,S=[];let T=null;return o&&(f?(T=un(C,f),T&&(T.order=null)):v.forEach(R=>{R.order&&(R.order=null,S.push(R))}),x.remote||C.handleTableData(!0),w||(T=S[0]),T&&C.handleColumnSortEvent(o,T),w&&S.length&&Ir("clear-all-sort",{$table:C,$event:o,cols:S,sortList:[]},o)),ge().then(()=>(zn(),$t()))},isSort(o){if(o){const f=un(C,o);return f?f.sortable&&!!f.order:!1}return O.getSortColumns().length>0},getSortColumns(){const o=Ke.value,{multiple:f,chronological:v}=o,x=[],{tableFullColumn:w}=g;return w.forEach(S=>{const{field:T,order:R}=S;S.sortable&&R&&x.push({column:S,field:T,property:T,order:R,sortTime:S.sortTime})}),f&&v&&x.length>1?u.orderBy(x,"sortTime"):x},setFilterByEvent(o,f,v){const x=un(C,f);return x&&x.filters?(x.filters=rC(v||[]),C.handleColumnConfirmFilter(x,o)):ge()},closeFilter(){const{filterStore:o}=p,{column:f,visible:v}=o;return o.isAllSelected=!1,o.isIndeterminate=!1,o.options=[],o.visible=!1,v&&Ir("filter-visible",{column:f,property:f.field,field:f.field,filterList:()=>C.getCheckedFilters(),visible:!1},null),ge()},isActiveFilterByColumn(o){const f=un(C,o);return f?f.filters&&f.filters.some(v=>v.checked):C.getCheckedFilters().length>0},isFilter(o){return O.isActiveFilterByColumn(o)},clearFilterByEvent(o,f){const{filterStore:v}=p,{tableFullColumn:x}=g,w=Ft.value,{multiple:S}=w,T=[];let R=null;if(f?(R=un(C,f),R&&C.handleClearFilter(R)):x.forEach(P=>{P.filters&&(T.push(P),C.handleClearFilter(P))}),(!f||R!==v.column)&&Object.assign(v,{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1}),w.remote||C.updateData(),S||(R=T[0]),R){const P=()=>C.getCheckedFilters(),_=[],B=[];R.filters.forEach(X=>{X.checked&&(_.push(X.value),B.push(X.data))});const K={$table:C,$event:o,column:R,field:R.field,property:R.field,values:_,datas:B,filters:P,filterList:P};C.dispatchEvent("filter-change",K,o),C.dispatchEvent("clear-filter",K,o)}return S&&T.length&&Ir("clear-all-filter",{$table:C,$event:o,cols:T,filterList:[]},o),ge()},isRowExpandLoaded(o){const{fullAllDataRowIdData:f}=g,v=f[It(C,o)];return v&&!!v.expandLoaded},clearRowExpandLoaded(o){const{fullAllDataRowIdData:f,rowExpandLazyLoadedMaps:v}=g,x=Or.value,{lazy:w}=x,S=It(C,o),T=f[S];return w&&T&&(T.expandLoaded=!1,delete v[S]),p.rowExpandedFlag++,ge()},reloadRowExpand(o){const{rowExpandLazyLoadedMaps:f}=g,v=Or.value,{lazy:x}=v,w=It(C,o);return x&&!f[w]&&C.clearRowExpandLoaded(o).then(()=>Bi(o)),ge()},reloadExpandContent(o){return Zt("vxe.error.delFunc",["reloadExpandContent","reloadRowExpand"]),C.reloadRowExpand(o)},toggleRowExpand(o){return C.setRowExpand(o,!C.isRowExpandByRow(o))},setAllRowExpand(o){const f=er.value,{tableFullData:v,tableFullTreeData:x}=g,w=f.children||f.childrenField;let S=[];return e.treeConfig?u.eachTree(x,T=>{S.push(T)},{children:w}):S=v,O.setRowExpand(S,o)},setRowExpand(o,f){const{expandColumn:v}=p;let{fullAllDataRowIdData:x,rowExpandedMaps:w,rowExpandLazyLoadedMaps:S}=g;const{handleGetRowId:T}=hn(C),R=Or.value,{reserve:P,lazy:_,accordion:B,toggleMethod:K}=R,X=[],ie=v?C.getColumnIndex(v):-1,de=v?C.getVMColumnIndex(v):-1;if(o){u.isArray(o)||(o=[o]),B&&(w={},g.rowExpandedMaps=w,o=o.slice(o.length-1,o.length));const Q=K?o.filter(Ce=>K({$table:C,expanded:f,column:v,columnIndex:ie,$columnIndex:de,row:Ce,rowIndex:C.getRowIndex(Ce),$rowIndex:C.getVMRowIndex(Ce)})):o;f?Q.forEach(Ce=>{const he=T(Ce);if(!w[he]){const ye=x[he];_&&!ye.expandLoaded&&!S[he]?X.push(Bi(Ce)):w[he]=Ce}}):Q.forEach(Ce=>{const he=T(Ce);w[he]&&delete w[he]}),P&&Q.forEach(Ce=>lC(Ce,f))}return p.rowExpandedFlag++,Promise.all(X).then(()=>ge()).then(()=>Ln(!0,!0,!0)).then(()=>(zn(),tl(),mC(),C.updateCellAreas()))},isRowExpandByRow(o){const{rowExpandedFlag:f}=p,{rowExpandedMaps:v}=g,x=It(C,o);return!!f&&!!v[x]},isExpandByRow(o){return Zt("vxe.error.delFunc",["isExpandByRow","isRowExpandByRow"]),O.isRowExpandByRow(o)},clearRowExpand(){const{tableFullData:o,scrollYStore:f}=g,v=Or.value,{reserve:x}=v,w=C.getRowExpandRecords();return g.rowExpandedMaps={},x&&o.forEach(S=>lC(S,!1)),p.rowExpandedFlag++,f.startIndex=0,f.endIndex=1,ge().then(()=>{if(w.length)return Ln(!0,!0,!0)}).then(()=>(zn(),tl(),mC(),C.updateCellAreas()))},clearRowExpandReserve(){return g.rowExpandedReserveRowMap={},ge()},getRowExpandRecords(){const o=[];return u.each(g.rowExpandedMaps,f=>{f&&o.push(f)}),o},setRowGroups(o){const{aggregateConfig:f,rowGroupConfig:v}=e,x=dt.value,{maxGroupSize:w}=x;if(!(f||v))return At("vxe.error.reqProp",["aggregate-config"]),ge();const S=o?u.isArray(o)?o:[o]:[];return w&&S.length>w?(Se.modal&&Se.modal.message({status:"error",content:aa("vxe.table.maxGroupCol",[w])}),ge()):S.length?(Ws(S.map(T=>u.isString(T)?T:T.field)),El(g.tableSynchData,!0)):ge()},getRowGroups(){const{aggregateConfig:o,rowGroupConfig:f}=e,{fullColumnFieldData:v}=g;if(o||f){const{rowGroupList:x}=p;return x.map(({field:w})=>{const S=v[w];return S?S.column:{field:w}})}return[]},getRowGroupFields(){return C.getRowGroups().map(o=>o.field)},clearRowGroups(){const{aggregateConfig:o,rowGroupConfig:f}=e;return o||f?(Ws([]),El(g.tableSynchData,!0)):(At("vxe.error.reqProp",["aggregate-config"]),ge())},isRowGroupRecord(o){return Zt("vxe.error.delFunc",["isRowGroupRecord","isAggregateRecord"]),C.isAggregateRecord(o)},isRowGroupExpandByRow(o){return Zt("vxe.error.delFunc",["isRowGroupExpandByRow","isAggregateExpandByRow"]),C.isAggregateExpandByRow(o)},isAggregateRecord(o){const{isRowGroupStatus:f}=p;return f&&o.isAggregate},getAggregateContentByRow(o){const{isRowGroupStatus:f}=p;return f&&o&&o.isAggregate?o.groupContent:""},getAggregateRowChildren(o){const f=dt.value,{childrenField:v,mapChildrenField:x}=f,{isRowGroupStatus:w}=p;return w&&o&&o.isAggregate&&v&&x?o[x]||[]:[]},isAggregateExpandByRow(o){const{rowGroupExpandedFlag:f}=p,{rowGroupExpandedMaps:v}=g;return!!f&&!!v[It(C,o)]},setRowGroupExpand(o,f){return o?(u.isArray(o)||(o=[o]),pC(o,f)):ge()},setRowGroupExpandByField(o,f){const{isRowGroupStatus:v}=p,x=dt.value,{childrenField:w}=x;if(o&&(u.isArray(o)||(o=[o]),v)){const S=[],T={};if(o.forEach(R=>{T[R]=!0}),u.eachTree(g.afterGroupFullData,R=>{R.isAggregate&&T[R.groupField]&&S.push(R)},{children:w}),S.length)return pC(S,f)}return ge()},setAllRowGroupExpand(o){const{tableFullGroupData:f}=g,v=dt.value,{mapChildrenField:x}=v,w={};return o&&x&&u.eachTree(f,S=>{S[x]&&S[x].length&&(w[It(C,S)]=S)},{children:x}),g.rowGroupExpandedMaps=w,kt(),C.handleTableData(),Mt(),p.rowGroupExpandedFlag++,Ln(!0,!0,!0)},clearRowGroupExpand(){return g.rowGroupExpandedMaps={},kt(),C.handleTableData(),Mt(),p.rowGroupExpandedFlag++,Ln(!0,!0,!0)},getTreeExpandRecords(){const o=[];return u.each(g.treeExpandedMaps,f=>{f&&o.push(f)}),o},isTreeExpandLoaded(o){const{fullAllDataRowIdData:f}=g,v=f[It(C,o)];return v&&!!v.treeLoaded},clearTreeExpandLoaded(o){const{fullAllDataRowIdData:f,treeExpandedMaps:v}=g,x=er.value,{transform:w}=x;return o?(u.isArray(o)||(o=[o]),o.forEach(S=>{const T=It(C,S),R=f[T];R&&(R.treeLoaded=!1,v[T]&&delete v[T])})):u.each(f,S=>{S.treeLoaded=!1}),g.treeExpandedMaps={},w&&(kt(),C.handleTableData()),p.treeExpandedFlag++,ge()},reloadTreeExpand(o){const{treeExpandLazyLoadedMaps:f}=g,v=er.value,x=v.hasChild||v.hasChildField,{transform:w,lazy:S}=v,T=It(C,o);return S&&o[x]&&!f[T]?C.clearTreeExpandLoaded(o).then(()=>qi(o)).then(()=>{w&&(kt(),C.handleTableData()),p.treeExpandedFlag++}).then(()=>C.recalculate()):ge()},reloadTreeChilds(o){return Zt("vxe.error.delFunc",["reloadTreeChilds","reloadTreeExpand"]),C.reloadTreeExpand(o)},toggleTreeExpand(o){return C.setTreeExpand(o,!C.isTreeExpandByRow(o))},setAllTreeExpand(o){const{tableFullData:f}=g,v=er.value,{transform:x,lazy:w}=v,S=v.children||v.childrenField,T=[];return u.eachTree(f,R=>{const P=R[S];(w||P&&P.length)&&T.push(R)},{children:S}),C.setTreeExpand(T,o).then(()=>{if(x)return kt(),p.treeExpandedFlag++,C.recalculate()})},setTreeExpand(o,f){const v=er.value,{transform:x}=v;return o&&(u.isArray(o)||(o=[o]),o.length)?x?fA(o,f):fC(o,f):ge()},isTreeExpandByRow(o){const{treeExpandedFlag:f}=p,{treeExpandedMaps:v}=g;return!!f&&!!v[It(C,o)]},clearTreeExpand(){const{tableFullTreeData:o}=g,f=er.value,v=f.children||f.childrenField,{transform:x,reserve:w}=f,S=C.getTreeExpandRecords();return g.treeExpandedMaps={},w&&u.eachTree(o,T=>Hi(T,!1),{children:v}),C.handleTableData().then(()=>{x&&(kt(),C.handleTableData()),p.treeExpandedFlag++}).then(()=>{if(S.length)return C.recalculate()})},clearTreeExpandReserve(){return g.treeExpandedReserveRowMap={},ge()},getScroll(){const{scrollXLoad:o,scrollYLoad:f}=p,{elemStore:v}=g,x=nr(v["main-body-scroll"]);return{virtualX:o,virtualY:f,scrollTop:x?x.scrollTop:0,scrollLeft:x?x.scrollLeft:0}},scrollTo(o,f){const{elemStore:v}=g,x=nr(v["main-header-scroll"]),w=nr(v["main-body-scroll"]),S=nr(v["main-footer-scroll"]),T=nr(v["left-body-scroll"]),R=nr(v["right-body-scroll"]),P=ut.value,_=$e.value;return g.intoRunScroll=!0,o&&(u.isNumber(o)||(f=o.top,o=o.left)),u.isNumber(o)&&(Gr(P,o),Gr(w,o),Gr(x,o),Gr(S,o),Sl()),u.isNumber(f)&&(Br(_,f),Br(w,f),Br(T,f),Br(R,f),zi()),p.scrollXLoad||p.scrollYLoad?new Promise(B=>{setTimeout(()=>{ge(()=>{g.intoRunScroll=!1,B()})},30)}):ge().then(()=>{g.intoRunScroll=!1})},scrollToRow(o,f){const{isAllOverflow:v,scrollYLoad:x,scrollXLoad:w}=p,S=[];return o&&(e.treeConfig?S.push(C.scrollToTreeRow(o)):S.push(vT(C,o))),f&&S.push(yA(f,o)),Promise.all(S).then(()=>{if(o)return!v&&(x||w)&&(Je(),A()),ge()})},scrollToColumn(o){const{fullColumnIdData:f}=g,v=un(C,o);return v&&f[v.id]?mT(C,v):ge()},clearScroll(){const{elemStore:o,scrollXStore:f,scrollYStore:v}=g,x=nr(o["main-header-scroll"]),w=nr(o["main-body-scroll"]),S=nr(o["main-footer-scroll"]),T=nr(o["left-body-scroll"]),R=nr(o["right-body-scroll"]),P=ut.value,_=$e.value;return g.intoRunScroll=!0,Gr(P,0),Gr(w,0),Gr(x,0),Gr(S,0),Br(_,0),Br(w,0),Br(T,0),Br(R,0),f.startIndex=0,f.visibleStartIndex=0,f.endIndex=f.visibleSize,f.visibleEndIndex=f.visibleSize,v.startIndex=0,v.visibleStartIndex=0,v.endIndex=v.visibleSize,v.visibleEndIndex=v.visibleSize,ge().then(()=>{g.intoRunScroll=!1})},updateFooter(){const{showFooter:o,footerData:f,footerMethod:v}=e,{visibleColumn:x,afterFullData:w}=g;let S=[];return o&&f&&f.length?S=f.slice(0):o&&v&&(S=x.length?v({columns:x,data:w,$table:C,$grid:h,$gantt:c}):[]),p.footerTableData=S,C.handleUpdateFooterMerge(),C.dispatchEvent("footer-data-change",{visibleColumn:g.visibleColumn,footData:S},null),ge()},updateStatus(o,f){return ge().then(()=>{const{editRules:v}=e;if(o&&v)return C.handleCellRuleUpdateStatus("change",o,f)})},setMergeCells(o){return e.spanMethod&&At("vxe.error.errConflicts",["merge-cells","span-method"]),ma(o),C.handleUpdateBodyMerge(),ge().then(()=>{const{expandColumn:f}=p,{mergeBodyList:v}=g;return f&&v.length&&Zt("vxe.error.errConflicts",["type=expand","merge-cells | span-method"]),C.updateCellAreas(),$t()})},removeMergeCells(o){e.spanMethod&&At("vxe.error.errConflicts",["merge-cells","span-method"]);const f=Xn(o);return C.handleUpdateBodyMerge(),ge().then(()=>(C.updateCellAreas(),$t(),f))},getMergeCells(){return g.mergeBodyList.slice(0)},clearMergeCells(){return g.mergeBodyList=[],g.mergeBodyMaps={},g.mergeBodyCellMaps={},p.mergeBodyFlag++,ge().then(()=>$t())},setMergeHeaderCells(o){return xa(o),C.handleUpdateHeaderMerge(),ge().then(()=>$t())},removeMergeHeaderCells(o){const f=Zn(o);return C.handleUpdateHeaderMerge(),ge().then(()=>($t(),f))},getMergeHeaderCells(){return g.mergeHeaderList.slice(0)},clearMergeHeaderCells(){return g.mergeHeaderList=[],g.mergeHeaderMaps={},g.mergeHeaderCellMaps={},p.mergeHeadFlag++,ge().then(()=>$t())},setMergeFooterCells(o){return e.footerSpanMethod&&At("vxe.error.errConflicts",["merge-footer-cells | merge-footer-items","footer-span-method"]),kn(o),C.handleUpdateFooterMerge(),ge().then(()=>$t())},setMergeFooterItems(o){return C.setMergeFooterCells(o)},removeMergeFooterCells(o){e.footerSpanMethod&&At("vxe.error.errConflicts",["merge-footer-cells | merge-footer-items","footer-span-method"]);const f=an(o);return C.handleUpdateFooterMerge(),ge().then(()=>($t(),f))},removeMergeFooterItems(o){return C.removeMergeFooterCells(o)},getMergeFooterCells(){return g.mergeFooterList.slice(0)},getMergeFooterItems(){return C.getMergeFooterCells()},clearMergeFooterCells(){return g.mergeFooterList=[],g.mergeFooterMaps={},g.mergeFooterCellMaps={},p.mergeFootFlag++,ge().then(()=>$t())},clearMergeFooterItems(){return C.clearMergeFooterCells()},updateCellAreas(){const{mouseConfig:o}=e,f=Ct.value;return o&&f.area&&C.handleRecalculateCellAreaEvent?C.handleRecalculateCellAreaEvent():ge()},getCustomStoreData(){const{id:o}=e,f=Jr.value,{isRowGroupStatus:v,rowGroupList:x}=p,{fullColumnFieldData:w,collectColumn:S}=g,{storage:T,checkMethod:R,storeOptions:P}=f,_=T===!0,B=_?{}:Object.assign({},T||{},P),K=Ar(B.resizable,_),X=Ar(B.visible,_),ie=Ar(B.fixed,_),de=Ar(B.sort,_),Q=Ar(B.aggGroup,_),Ce=Ar(B.aggFunc,_),he={},ye=[],ae={},oe={},Qe={},je={},We={resizableData:void 0,sortData:void 0,visibleData:void 0,fixedData:void 0,aggGroupData:void 0,aggFuncData:void 0};if(!o)return T&&At("vxe.error.reqProp",["id"]),We;let Ot=0,St=0,ct=0,bt=0,Gt=0;const Qt={};return u.eachTree(S,(Yt,jt,tr,ar,Er)=>{const Sr=Yt.getKey();if(!Sr){At("vxe.error.reqProp",[`${Yt.getTitle()||Yt.type||""} -> column.field=?`]);return}if(Er){if(de){const Rr=Er.getKey(),Jt=Qt[Rr];if(St=1,Jt){const _r={k:Sr};Qt[Sr]=_r,Jt.c||(Jt.c=[]),Jt.c.push(_r)}}}else{if(de){St=1;const Rr={k:Sr};Qt[Sr]=Rr,ye.push(Rr)}ie&&(Yt.fixed||"")!==(Yt.defaultFixed||"")&&(ct=1,oe[Sr]=Yt.fixed)}K&&Yt.resizeWidth&&(Ot=1,he[Sr]=Yt.renderWidth),X&&(!R||R({$table:C,column:Yt}))&&(!Yt.visible&&Yt.defaultVisible?(bt=1,ae[Sr]=!1):Yt.visible&&!Yt.defaultVisible&&(bt=1,ae[Sr]=!0)),Ce&&(Yt.aggFunc||"")!==(Yt.defaultAggFunc||"")&&(Gt=1,je[Sr]=Yt.aggFunc)}),Ot&&(We.resizableData=he),St&&(We.sortData=ye),ct&&(We.fixedData=oe),bt&&(We.visibleData=ae),Q&&v&&(x.forEach(Yt=>{const jt=w[Yt.field];jt&&(Qe[jt.column.getKey()]=!0)}),We.aggGroupData=Qe),Gt&&(We.aggFuncData=je),We},focus(){return g.isActivated=!0,ge()},blur(){return g.isActivated=!1,ge()},connect(o){return C.connectToolbar(o)},connectToolbar(o){return o?(Dt=o,Dt.syncUpdate({collectColumn:g.collectColumn,$table:C})):At("vxe.error.barUnableLink"),ge()}};const wA=o=>{const{editStore:f,ctxMenuStore:v,filterStore:x,customStore:w}=p,{mouseConfig:S,editRules:T}=e,R=I.value,P=be.value,_=ht.value,B=Pt.value,{actived:K}=f,X=L.value,ie=M.value,de=q.value,Q=F.value;if(ie&&($r(o,R,"vxe-cell--filter").flag||$r(o,ie.getRefMaps().refElem.value).flag||$r(o,document.body,"vxe-table--ignore-clear").flag||D.preventEvent(o,"event.clearFilter",x.args,O.closeFilter)),de&&(w.btnEl===o.target||$r(o,document.body,"vxe-toolbar-custom-target").flag||$r(o,de.getRefMaps().refElem.value).flag||$r(o,document.body,"vxe-table--ignore-clear").flag||D.preventEvent(o,"event.clearCustom",{},()=>{C.closeCustom&&C.closeCustom()})),K.row){if(P.autoClear!==!1){const he=K.args.cell;(!he||!$r(o,he).flag)&&(X&&$r(o,X.$el).flag||(!g._lastCallTime||g._lastCallTime+50<Date.now())&&($r(o,document.body,"vxe-table--ignore-clear").flag||D.preventEvent(o,"event.clearEdit",K.args,()=>{let ye;if(P.mode==="row"){const ae=$r(o,R,"vxe-body--row"),oe=ae.flag?O.getRowNode(ae.targetElem):null;ye=oe?!C.eqRow(oe.item,K.args.row):!1}else ye=!$r(o,R,"col--edit").flag;if(ye||(ye=$r(o,R,"vxe-header--row").flag),ye||(ye=$r(o,R,"vxe-footer--row").flag),!ye&&e.height&&!p.overflowY){const ae=o.target;Fa(ae,"vxe-table--body-wrapper")&&(ye=o.offsetY<ae.clientHeight)}(ye||!$r(o,R).flag)&&setTimeout(()=>{C.handleClearEdit(o).then(()=>{!g.isActivated&&T&&_.autoClear&&(p.validErrorMaps={})})})})))}}else if(S&&!$r(o,R).flag&&!(b&&$r(o,b.getRefMaps().refElem.value).flag)&&!(Q&&$r(o,Q.getRefMaps().refElem.value).flag)&&!(Dt&&$r(o,Dt.getRefMaps().refElem.value).flag)&&(C.clearSelected&&C.clearSelected(),B.autoClear&&C.getCellAreas)){const he=C.getCellAreas();he&&he.length&&!$r(o,document.body,"vxe-table--ignore-areas-clear").flag&&D.preventEvent(o,"event.clearAreas",{},()=>{C.clearCellAreas(),C.clearCopyCellArea(),Ir("clear-cell-area-selection",{cellAreas:he},o)})}C.closeMenu&&v.visible&&Q&&!$r(o,Q.getRefMaps().refElem.value).flag&&C.closeMenu();const Ce=$r(o,b?b.getRefMaps().refElem.value:R).flag;!Ce&&T&&_.autoClear&&(p.validErrorMaps={}),g.isActivated=Ce},EA=()=>{O.closeFilter(),C.closeMenu&&C.closeMenu()},SA=()=>{O.closeTooltip(),C.closeMenu&&C.closeMenu()},RA=o=>{const{mouseConfig:f,keyboardConfig:v}=e,{filterStore:x,ctxMenuStore:w,editStore:S}=p,T=Ct.value,R=zt.value,{actived:P}=S;Kr.hasKey(o,ko.ESCAPE)&&D.preventEvent(o,"event.keydown",null,()=>{if(Ir("keydown-start",{},o),v&&f&&T.area&&C.handleKeyboardCellAreaEvent)C.handleKeyboardCellAreaEvent(o);else if((P.row||x.visible||w.visible)&&(o.stopPropagation(),C.closeMenu&&C.closeMenu(),O.closeFilter(),v&&R.isEsc&&P.row)){const B=P.args;C.handleClearEdit(o),T.selected&&ge(()=>C.handleSelected(B,o))}Ir("keydown",{},o),Ir("keydown-end",{},o)})},DA=o=>{g.isActivated&&C.preventEvent(o,"event.keydown",null,()=>{const{mouseConfig:f,keyboardConfig:v,treeConfig:x,editConfig:w,highlightCurrentRow:S,highlightCurrentColumn:T}=e,{ctxMenuStore:R,editStore:P,currentRow:_}=p,{afterFullData:B}=g,K=Fr.value,X=or.value,ie=zt.value,de=Ct.value,Q=be.value,Ce=er.value,he=Xr.value,ye=He.value,ae=at.value,{selected:oe,actived:Qe}=P,je=Ce.children||Ce.childrenField,We=o.keyCode,Ot=Kr.hasKey(o,ko.ESCAPE),St=Kr.hasKey(o,ko.BACKSPACE),ct=Kr.hasKey(o,ko.TAB),bt=Kr.hasKey(o,ko.ENTER),Gt=Kr.hasKey(o,ko.SPACEBAR),Qt=Kr.hasKey(o,ko.ARROW_LEFT),Yt=Kr.hasKey(o,ko.ARROW_UP),jt=Kr.hasKey(o,ko.ARROW_RIGHT),tr=Kr.hasKey(o,ko.ARROW_DOWN),ar=Kr.hasKey(o,ko.DELETE),Er=Kr.hasKey(o,ko.F2),Sr=Kr.hasKey(o,ko.CONTEXT_MENU),Rr=Cs(o),Jt=o.shiftKey,_r=o.altKey,qr=Qt||Yt||jt||tr,br=K&&R.visible&&(bt||Gt||qr),Pr=pr(w)&&Qe.column&&Qe.row,Cr=Q.beforeEditMethod||Q.activeMethod;if(br)o.preventDefault(),R.showChild&&fi(R.selected)?C.moveCtxMenu(o,R,"selectChild",Qt,!1,R.selected.children):C.moveCtxMenu(o,R,"selected",jt,!0,he);else if(v&&f&&de.area&&C.handleKeyboardCellAreaEvent)C.handleKeyboardCellAreaEvent(o);else if(Ot){if(C.closeMenu&&C.closeMenu(),C.closeFilter(),v&&ie.isEsc&&Qe.row){const hr=Qe.args;C.handleClearEdit(o),de.selected&&ge(()=>C.handleSelected(hr,o))}}else if(Gt&&v&&ie.isChecked&&oe.row&&oe.column&&(oe.column.type==="checkbox"||oe.column.type==="radio"))o.preventDefault(),oe.column.type==="checkbox"?D.handleToggleCheckRowEvent(o,oe.args):D.triggerRadioRowEvent(o,oe.args);else if(Er&&pr(w))Pr||oe.row&&oe.column&&(o.preventDefault(),C.handleEdit(oe.args,o));else if(Sr)g._keyCtx=oe.row&&oe.column&&X.length,clearTimeout(g.keyCtxTimeout),g.keyCtxTimeout=setTimeout(()=>{g._keyCtx=!1},1e3);else if(bt&&!_r&&v&&ie.isEnter&&(oe.row||Qe.row||x&&(ye.isCurrent||S)&&_)){const{isLastEnterAppendRow:hr,beforeEnterMethod:yr,enterMethod:kr}=ie;if(Rr){if(Qe.row){const Vr=Qe.args;C.handleClearEdit(o),de.selected&&ge(()=>{C.handleSelected(Vr,o)})}}else if(oe.row||Qe.row){const Vr=oe.row?oe.args:Qe.args;if(Jt)ie.enterToTab?C.moveTabSelected(Vr,Jt,o):C.moveEnterSelected(Vr,Qt,!0,jt,!1,o);else if(ie.enterToTab)C.moveTabSelected(Vr,Jt,o);else{const Lr=oe.row||Qe.row,fn=oe.column||Qe.column,tn=C.getVTRowIndex(Lr),wn={row:Lr,rowIndex:C.getRowIndex(Lr),$rowIndex:C.getVMRowIndex(Lr),_rowIndex:tn,column:fn,columnIndex:C.getColumnIndex(fn),$columnIndex:C.getVMColumnIndex(fn),_columnIndex:C.getVTColumnIndex(fn),$table:C};if(!yr||yr(wn)!==!1){if(hr&&tn>=B.length-1){C.insertAt({},-1).then(({row:Cn})=>{C.scrollToRow(Cn,fn),C.handleSelected(Object.assign(Object.assign({},Vr),{row:Cn}),o)}),C.dispatchEvent("enter-append-row",wn,o);return}C.moveEnterSelected(Vr,Qt,!1,jt,!0,o),kr&&kr(wn)}}}else if(x&&(ye.isCurrent||S)&&_){const Vr=_[je];if(Vr&&Vr.length){o.preventDefault();const Lr=Vr[0],fn={$table:C,row:Lr,rowIndex:C.getRowIndex(Lr),$rowIndex:C.getVMRowIndex(Lr)};C.setTreeExpand(_,!0).then(()=>C.scrollToRow(Lr)).then(()=>C.triggerCurrentRowEvent(o,fn))}}}else if(qr&&v&&ie.isArrow)Pr||(de.selected&&oe.row&&oe.column?C.moveArrowSelected(oe.args,Qt,Yt,jt,tr,o):((Yt||tr)&&(ye.isCurrent||S)&&C.moveCurrentRow(Yt,tr,o),(Qt||jt)&&(ae.isCurrent||T)&&C.moveCurrentColumn(Qt,jt,o)));else if(ct&&v&&ie.isTab)oe.row||oe.column?C.moveTabSelected(oe.args,Jt,o):(Qe.row||Qe.column)&&C.moveTabSelected(Qe.args,Jt,o);else if(v&&ie.isDel&&ar&&pr(w)&&(oe.row||oe.column)){if(!Pr){const{delMethod:hr}=ie,yr={row:oe.row,rowIndex:O.getRowIndex(oe.row),column:oe.column,columnIndex:O.getColumnIndex(oe.column),$table:C,$grid:h,$gantt:c};(!Cr||Cr(yr))&&(hr?hr(yr):ca(oe.row,oe.column,null),O.updateFooter(),Ir("cell-delete-value",yr,o))}}else if(St&&v&&ie.isBack&&pr(w)&&(oe.row||oe.column)){if(!Pr){const{backMethod:hr}=ie;if(ie.isDel&&pr(w)&&(oe.row||oe.column)){const yr={row:oe.row,rowIndex:C.getRowIndex(oe.row),column:oe.column,columnIndex:C.getColumnIndex(oe.column),$table:C,$grid:h,$gantt:c};(!Cr||Cr(yr))&&(hr?hr(yr):(ca(oe.row,oe.column,null),C.handleEdit(oe.args,o)),Ir("cell-backspace-value",yr,o))}}}else if(St&&v&&x&&ie.isBack&&(ye.isCurrent||S)&&_){const{parent:hr}=u.findTree(g.afterTreeFullData,yr=>yr===_,{children:je});if(hr){o.preventDefault();const yr={row:hr,rowIndex:C.getRowIndex(hr),$rowIndex:C.getVMRowIndex(hr),$table:C,$grid:h,$gantt:c};C.setTreeExpand(hr,!1).then(()=>C.scrollToRow(hr)).then(()=>C.triggerCurrentRowEvent(o,yr))}}else if(v&&pr(w)&&ie.isEdit&&!Rr&&(Gt||We>=48&&We<=57||We>=65&&We<=90||We>=96&&We<=111||We>=186&&We<=192||We>=219&&We<=222)){const{editMode:hr,editMethod:yr}=ie;if(oe.column&&oe.row&&pr(oe.column.editRender)){const kr=Q.beforeEditMethod||Q.activeMethod,Vr={row:oe.row,rowIndex:C.getRowIndex(oe.row),column:oe.column,columnIndex:C.getColumnIndex(oe.column),$table:C,$grid:h,$gantt:c};(!kr||kr(Object.assign(Object.assign({},oe.args),{$table:C,$grid:h,$gantt:c})))&&(yr?yr(Vr):(hr!=="insert"&&ca(oe.row,oe.column,null),C.handleEdit(oe.args,o)))}}Ir("keydown",{},o)})},OA=o=>{const{keyboardConfig:f,mouseConfig:v}=e,{editStore:x,filterStore:w}=p,{isActivated:S}=g,T=Ct.value,R=zt.value,{actived:P}=x;S&&!w.visible&&(P.row||P.column||f&&R.isClip&&v&&T.area&&C.handlePasteCellAreaEvent&&C.handlePasteCellAreaEvent(o),Ir("paste",{},o))},TA=o=>{const{keyboardConfig:f,mouseConfig:v}=e,{editStore:x,filterStore:w}=p,{isActivated:S}=g,T=Ct.value,R=zt.value,{actived:P}=x;S&&!w.visible&&(P.row||P.column||f&&R.isClip&&v&&T.area&&C.handleCopyCellAreaEvent&&C.handleCopyCellAreaEvent(o),Ir("copy",{},o))},MA=o=>{const{keyboardConfig:f,mouseConfig:v}=e,{editStore:x,filterStore:w}=p,{isActivated:S}=g,T=Ct.value,R=zt.value,{actived:P}=x;S&&!w.visible&&(P.row||P.column||f&&R.isClip&&v&&T.area&&C.handleCutCellAreaEvent&&C.handleCutCellAreaEvent(o),Ir("cut",{},o))},bC=()=>{C.closeMenu&&C.closeMenu();const o=I.value;!o||!o.clientWidth||(iC(),C.updateCellAreas())},Xs=o=>{const f=N.value;clearTimeout(g.tooltipTimeout),o?O.closeTooltip():f&&f.setActived&&f.setActived(!0)},rl=()=>{Qn=null,y.row=null},xC=()=>{const{dragRow:o,dragCol:f}=p;(o||f)&&(Zs(),bu(),Rl(),rl(),p.dragRow=null,p.dragCol=null)},bu=()=>{const o=I.value;if(o){const f="row--drag-origin";u.arrayEach(o.querySelectorAll(`.${f}`),v=>{v.draggable=!1,Wn(v,f)})}},IA=o=>{const f=I.value;if(f){const v="row--drag-origin",x=It(C,o);u.arrayEach(f.querySelectorAll(`[rowid="${x}"]`),w=>{Lo(w,v)})}},FA=o=>{const{dragConfig:f}=e,{dragRow:v}=p,x=H.value,{tooltipMethod:w}=x,S=w||(f?f.rowTooltipMethod:null);let T="";S?T=`${S({$table:C,row:v})||""}`:T=aa("vxe.table.dragTip",[o.textContent||""]),p.dragTipText=T},$A=o=>{const f=I.value;if(f){const v=[];u.eachTree([o],w=>{v.push(`[colid="${w.id}"]`)});const x="col--drag-origin";u.arrayEach(f.querySelectorAll(v.join(",")),w=>{Lo(w,x)})}},Zs=()=>{const o=I.value;if(o){const f="col--drag-origin";u.arrayEach(o.querySelectorAll(`.${f}`),v=>{v.draggable=!1,Wn(v,f)})}},AA=o=>{const{dragCol:f}=p,v=Z.value,{tooltipMethod:x}=v;let w="";x?w=`${x({$table:C,column:f})||""}`:w=aa("vxe.table.dragTip",[o.textContent||""]),p.dragTipText=w},Kl=(o,f,v,x,w)=>{let S=I.value;if(c&&f){const{refGanttContainerElem:he}=c.getRefMaps(),ye=he.value;ye&&(S=ye)}if(!S)return;const{overflowX:T,scrollbarWidth:R,overflowY:P,scrollbarHeight:_}=p,{prevDragToChild:B}=g,K=S.getBoundingClientRect(),X=P?R:0,ie=T?_:0,de=S.clientWidth,Q=S.clientHeight;if(f){const he=Xe.value;if(he)if(x){const ye=Fe.value,ae=f.getBoundingClientRect();let oe=f.clientHeight;const Qe=Math.max(1,ae.y-K.y);Qe+oe>Q-ie&&(oe=Q-Qe-ie),he.style.display="block",he.style.left=`${ye?X:0}px`,he.style.top=`${Qe}px`,he.style.height=`${oe}px`,he.style.width=`${de-X}px`,he.setAttribute("drag-pos",w),he.setAttribute("drag-to-child",B?"y":"n")}else he.style.display=""}else if(v){const he=me.value;if(he)if(x){const ye=Wt.value,ae=re.value,oe=ae?ae.clientWidth:0,Qe=ve.value,je=Qe?Qe.clientWidth:0,We=v.getBoundingClientRect();let Ot=v.clientWidth;const St=Math.max(0,We.y-K.y),ct=oe;let bt=We.x-K.x;bt<ct&&(Ot-=ct-bt,bt=ct);const Gt=de-je-(je?0:X);bt+Ot>Gt&&(Ot=Gt-bt),he.style.display="block",he.style.top=`${St}px`,he.style.left=`${bt}px`,he.style.width=`${Ot}px`,B?he.style.height=`${We.height}px`:he.style.height=`${Q-St-(ye?0:ie)}px`,he.setAttribute("drag-pos",w),he.setAttribute("drag-to-child",B?"y":"n")}else he.style.display=""}const Ce=le.value;Ce&&(Ce.style.display="block",Ce.style.top=`${Math.min(S.clientHeight-S.scrollTop-Ce.clientHeight,o.clientY-K.y)}px`,Ce.style.left=`${Math.min(S.clientWidth-S.scrollLeft-Ce.clientWidth-16,o.clientX-K.x)}px`,Ce.setAttribute("drag-status",x?B?"sub":"normal":"disabled"))},Rl=()=>{const o=le.value,f=Xe.value,v=me.value;o&&(o.style.display=""),f&&(f.style.display=""),v&&(v.style.display="")},Js=()=>{let o=I.value;const f=[".vxe-body--row"];if(c){const{refGanttContainerElem:v}=c.getRefMaps(),x=v.value;x&&(o=x),f.push(".vxe-gantt-view--body-row",".vxe-gantt-view--chart-row")}Rl(),bu(),R_(o,f),g.prevDragToChild=!1,p.dragRow=null,p.dragCol=null},xu=(o,f,v,x,w,S,T)=>{const R=w||x;if(!R)return ge();T.cell=x;const{tooltipStore:P}=p,{column:_,row:B}=T,{showAll:K,contentMethod:X}=f,ie=X?X(T):null,de=X&&!u.eqNull(ie),Q=de?ie:u.toString(_.type==="html"?R.innerText:R.textContent).trim(),Ce=R.scrollWidth>R.clientWidth;if(Q&&(K||de||Ce)){const he=Rn(Q);Object.assign(P,{row:B,column:_,visible:!0,content:he,type:v,currOpts:f}),ge(()=>{const ye=N.value;ye&&ye.open&&ye.open(Ce?R:S,he)})}return ge()},Gi=(o,f)=>{if(o){if(b)return b.callSlot(o,f);if(u.isFunction(o))return _n(o(f))}return[]};D={getSetupOptions(){return xr()},updateAfterDataIndex:Mt,callSlot:Gi,getParentElem(){const o=I.value;if(b){const f=b.getRefMaps().refElem.value;return f?f.parentNode:null}return o?o.parentNode:null},getParentHeight(){const{height:o}=e,f=I.value;if(f){const v=f.parentNode,x=o==="100%"||o==="auto"?mx(v):0;let w=0;return v&&(c&&Fa(v,"vxe-gantt--table-wrapper")?w=c.getParentHeight():h&&Fa(v,"vxe-grid--table-wrapper")?w=h.getParentHeight():w=v.clientHeight),Math.floor(w-x)}return 0},getExcludeHeight(){return b?b.getExcludeHeight():0},defineField(o){const{treeConfig:f}=e,v=Or.value,x=er.value,w=Be.value,S=qe.value,T=x.children||x.childrenField,R=Ql(C);return u.isArray(o)||(o=[o]),o.map(P=>(g.tableFullColumn.forEach(B=>{const{field:K,editRender:X}=B;if(K&&!u.has(P,K)&&!P[K]){let ie=null;if(X){const{defaultValue:de}=X;u.isFunction(de)?ie=de({column:B}):u.isUndefined(de)||(ie=de)}u.set(P,K,ie)}}),[w.labelField,S.checkField,S.labelField,v.labelField].forEach(B=>{B&&Ma(u.get(P,B))&&u.set(P,B,null)}),f&&x.lazy&&u.isUndefined(P[T])&&(P[T]=null),Ma(u.get(P,R))&&u.set(P,R,ys()),P))},handleTableData(o){const{scrollYLoad:f}=p,{scrollYStore:v,fullDataRowIdData:x}=g,w=g.xeGanttView;let S=g.afterFullData;o&&(Ge(),S=kt());const T=f?S.slice(v.startIndex,v.endIndex):S.slice(0),R={};return T.forEach((P,_)=>{const B=It(C,P),K=x[B];K&&(K.$index=_),R[B]=P}),p.tableData=T,g.visibleDataRowIdData=R,w&&w.updateViewData&&w.updateViewData(),ge()},cacheRowMap(o){const{treeConfig:f}=e,{isRowGroupStatus:v}=p,{currKeyField:x,fullAllDataRowIdData:w,tableFullData:S,tableFullTreeData:T,tableFullGroupData:R,treeExpandedMaps:P}=g,_=o?{}:Object.assign({},w),B={},K={},{handleUpdateRowId:X}=uT(C),ie=(de,Q,Ce,he,ye,ae,oe,Qe)=>{let je=_[ae];K[ae]&&At("vxe.error.repeatKey",[x,ae]),je||(je={row:de,rowid:ae,seq:Qe,index:-1,_index:-1,$index:-1,treeIndex:Q,_tIndex:-1,items:Ce,parent:ye,level:oe,height:0,resizeHeight:0,oTop:0,expandHeight:0},B[ae]=je,_[ae]=je),je.treeLoaded=!1,je.expandLoaded=!1,je.row=de,je.items=Ce,je.parent=ye,je.level=oe,je.index=he,je.treeIndex=Q,K[ae]=!0,B[ae]=je,_[ae]=je};if(f){const de=er.value,{lazy:Q}=de,Ce=de.children||de.childrenField,he=de.hasChild||de.hasChildField;u.eachTree(T,(ye,ae,oe,Qe,je,We)=>{const Ot=X(ye);f&&Q&&(ye[he]&&ye[Ce]===void 0&&(ye[Ce]=null),P[Ot]&&(!ye[Ce]||!ye[Ce].length)&&delete P[Ot]),ie(ye,ae,oe,je?-1:ae,je,Ot,We.length-1,pT(Qe))},{children:Ce})}else if(v){const de=dt.value,{mapChildrenField:Q}=de;u.eachTree(R,(Ce,he,ye,ae,oe,Qe)=>{const je=X(Ce);ie(Ce,he,ye,oe?-1:he,oe,je,Qe.length-1,pT(ae))},{children:Q})}else S.forEach((de,Q,Ce)=>{ie(de,Q,Ce,Q,null,X(de),0,Q+1)});g.fullDataRowIdData=B,g.fullAllDataRowIdData=_,p.treeExpandedFlag++},cacheSourceMap(o){const{treeConfig:f}=e,v=er.value,x=u.clone(o,!0),{handleUpdateRowId:w}=uT(C),S={},T=R=>{const P=w(R);S[P]=R};if(f){const R=v.children||v.childrenField;u.eachTree(x,T,{children:v.transform?v.mapChildrenField:R})}else x.forEach(T);g.sourceDataRowIdData=S,g.tableSourceData=x},analyColumnWidth(){const{tableFullColumn:o}=g,f=at.value,{width:v,minWidth:x}=f,w=[],S=[],T=[],R=[],P=[],_=[],B=[],K=[];o.forEach(X=>{v&&!X.width&&(X.width=v),x&&!X.minWidth&&(X.minWidth=x),X.visible&&(X.resizeWidth?w.push(X):X.width==="auto"?B.push(X):vx(X.width)?S.push(X):si(X.width)?P.push(X):vx(X.minWidth)?T.push(X):X.minWidth==="auto"?R.push(X):si(X.minWidth)?_.push(X):K.push(X))}),Object.assign(p.columnStore,{resizeList:w,pxList:S,pxMinList:T,autoMinList:R,scaleList:P,scaleMinList:_,autoList:B,remainList:K})},handleColResizeMousedownEvent(o,f,v){o.stopPropagation(),o.preventDefault();const{column:x}=v,{columnStore:w,overflowX:S,scrollbarHeight:T}=p,{visibleColumn:R}=g,{leftList:P,rightList:_}=w,B=De.value,K=S?T:0,X=I.value,ie=re.value,de=ve.value,Q=Ee.value;if(!Q)return;const Ce=f==="left",he=f==="right",ye=Q.firstElementChild,ae=Wt.value,{clientX:oe}=o,Qe=o.target;let je=x;const We=x.children&&x.children.length;We&&u.eachTree(x.children,br=>{je=br});let Ot=Qe.parentElement;if(We){const br=Ot?Ot.parentElement:null,Pr=br?br.parentElement:null;Ot=Pr?Pr.querySelector(`.vxe-header--column[colid="${je.id}"]`):null}if(!Ot)return;const St=u.assign(v,{cell:Ot,$table:C});let ct=0;const bt=X.getBoundingClientRect(),Gt=de?de.getBoundingClientRect():null,Qt=Ot.getBoundingClientRect(),Yt=Qe.getBoundingClientRect(),jt=Qe.clientWidth,tr=u.floor(jt/2),ar=Yt.x-bt.x+tr,Er=gT(St)-tr,Sr=he?0:Qt.x-bt.x+jt+Er,Rr=Qt.x-bt.x+Ot.clientWidth-Er;let Jt=0,_r=0;if(Ce||he){let br=!1;const Pr=Ce?P:_;for(let Cr=0;Cr<Pr.length;Cr++){const hr=Pr[Cr];br?Jt+=hr.renderWidth:(br=hr.id===je.id,br||(_r+=hr.renderWidth))}}const qr=br=>{br.stopPropagation(),br.preventDefault();const Pr=X.clientHeight,Cr=br.clientX-oe;let hr=ar+Cr;Ce?Gt&&(hr=Math.min(hr,Gt.x-bt.x-Jt-Er)):he&&(ie&&(hr=Math.max(hr,ie.clientWidth+_r+Er)),hr=Math.min(hr,Rr)),ct=Math.max(hr,Sr);const yr=Math.max(1,ct);if(Q.style.left=`${yr}px`,Q.style.top=`${ae?K:0}px`,Q.style.height=`${ae?Pr-K:Pr}px`,B.showDragTip&&ye){ye.textContent=aa("vxe.table.resizeColTip",[Math.floor(je.renderWidth+(he?ar-ct:ct-ar))]);const kr=X.clientWidth,Vr=Q.clientWidth,Lr=ye.clientWidth,fn=ye.clientHeight;let tn=-Lr;yr<Lr+Vr?tn=0:yr>kr&&(tn+=kr-yr),ye.style.left=`${tn}px`,ye.style.top=`${Math.min(Pr-fn,Math.max(0,br.clientY-bt.y-fn/2))}px`}p.isDragResize=!0};p.isDragResize=!0,Lo(X,"col-drag--resize"),Q.style.display="block",document.onmousemove=qr,document.onmouseup=function(br){document.onmousemove=null,document.onmouseup=null,Q.style.display="none",g._lastResizeTime=Date.now(),setTimeout(()=>{p.isDragResize=!1},50);const Pr=je.renderWidth+(he?ar-ct:ct-ar),Cr=Object.assign(Object.assign({},v),{resizeWidth:Pr,resizeColumn:je});B.dragMode==="fixed"&&R.forEach(hr=>{hr.id!==je.id&&(hr.resizeWidth||(hr.resizeWidth=hr.renderWidth))}),C.handleColResizeCellAreaEvent?C.handleColResizeCellAreaEvent(br,Cr):(je.resizeWidth=Pr,hC(br,Cr)),Wn(X,"col-drag--resize")},qr(o),C.closeMenu&&C.closeMenu()},handleColResizeDblclickEvent(o,f){const v=De.value,{isDblclickAutoWidth:x}=v,w=I.value;if(x&&w){o.stopPropagation(),o.preventDefault();const{fullColumnIdData:S}=g,{column:T}=f;let R=T;T.children&&T.children.length&&u.eachTree(T.children,Ce=>{R=Ce});const P=R.id,_=S[P],K=o.target.parentNode,X=Object.assign(f,{cell:K,$table:C}),ie=gT(X);w.setAttribute("data-calc-col","Y");let de=wa(R,w);w.removeAttribute("data-calc-col"),_&&(de=Math.max(de,_.width)),de=Math.max(ie,de);const Q=Object.assign(Object.assign({},f),{resizeWidth:de,resizeColumn:R});p.isDragResize=!1,g._lastResizeTime=Date.now(),C.handleColResizeDblclickCellAreaEvent?C.handleColResizeDblclickCellAreaEvent(o,Q):(R.resizeWidth=de,hC(o,Q))}},handleRowResizeMousedownEvent(o,f){o.stopPropagation(),o.preventDefault();const{row:v}=f,{showOverflow:x}=e,{overflowX:w,scrollbarWidth:S,overflowY:T,scrollbarHeight:R}=p,{elemStore:P,fullAllDataRowIdData:_}=g,B=T?S:0,K=w?R:0,X=Fe.value,ie=De.value,de=He.value,Q=Ie.value;let Ce=I.value;if(c){const{refGanttContainerElem:Rr}=c.getRefMaps(),Jt=Rr.value;Jt&&(Ce=Jt)}const he=Re.value;if(!he)return;const{clientY:ye}=o,ae=he.firstElementChild,Qe=o.currentTarget.parentNode,je=Qe.parentNode;if(!nr(P["main-body-scroll"]))return;const Ot=It(C,v),St=_[Ot];if(!St)return;const ct=rt.value;let bt=St.resizeHeight||Q.height||de.height||St.height||ct;x||(bt=Qe.clientHeight);const Gt=Ce.getBoundingClientRect(),Qt=je.getBoundingClientRect(),Yt=ye-Qt.y-je.clientHeight;let jt=bt;const tr=Qe.querySelector(".vxe-cell");let ar=0;if(tr){const Rr=getComputedStyle(tr);ar=Math.max(1,Math.ceil(u.toNumber(Rr.paddingTop)+u.toNumber(Rr.paddingBottom)))}const Er=Qt.y-Gt.y+ar,Sr=Rr=>{Rr.stopPropagation(),Rr.preventDefault();const Jt=Ce.clientWidth-B,_r=Ce.clientHeight-K;let qr=Rr.clientY-Gt.y-Yt;if(qr<Er?qr=Er:jt=Math.max(ar,bt+Rr.clientY-ye),he.style.left=`${X?B:0}px`,he.style.top=`${qr}px`,he.style.width=`${Jt}px`,ie.showDragTip&&ae){ae.textContent=aa("vxe.table.resizeRowTip",[jt]);const br=ae.clientWidth,Pr=ae.clientHeight;let Cr=Math.max(2,Rr.clientX-Gt.x),hr=0;Cr+br>=Jt-2&&(Cr=Jt-br-2),qr+Pr>=_r&&(hr=_r-(qr+Pr)),ae.style.left=`${Cr}px`,ae.style.top=`${hr}px`}p.isDragResize=!0};p.isDragResize=!0,Lo(Ce,"row-drag--resize"),he.style.display="block",document.onmousemove=Sr,document.onmouseup=function(Rr){if(document.onmousemove=null,document.onmouseup=null,he.style.display="none",g._lastResizeTime=Date.now(),setTimeout(()=>{p.isDragResize=!1},50),jt!==bt){const Jt=Object.assign(Object.assign({},f),{resizeHeight:jt,resizeRow:v});g.isResizeCellHeight=!0,C.handleRowResizeCellAreaEvent?C.handleRowResizeCellAreaEvent(Rr,Jt):(St.resizeHeight=jt,vC(Rr,Jt),zn())}Wn(Ce,"row-drag--resize")},Sr(o)},handleRowResizeDblclickEvent(o,f){const v=De.value,{isDblclickAutoHeight:x}=v,w=I.value;if(x&&w){o.stopPropagation(),o.preventDefault();const{editStore:S}=p,{fullAllDataRowIdData:T}=g,{actived:R}=S,{row:P}=f,_=It(C,P),B=T[_];if(!B)return;const K=()=>{w.setAttribute("data-calc-row","Y");const X=Me(B,w);w.removeAttribute("data-calc-row");const ie=Object.assign(Object.assign({},f),{resizeHeight:X,resizeRow:P});p.isDragResize=!1,g._lastResizeTime=Date.now(),C.handleRowResizeDblclickCellAreaEvent?C.handleRowResizeDblclickCellAreaEvent(o,ie):(B.resizeHeight=X,vC(o,ie))};R.row||R.column?C.clearEdit().then(K):K()}},saveCustomStore(o){const{customConfig:f}=e,v=gt.value,x=Jr.value,{updateStore:w,storage:S,storeOptions:T}=x,R=S===!0,P=R?{}:Object.assign({},S||{},T),_=Ar(P.resizable,R),B=Ar(P.visible,R),K=Ar(P.fixed,R),X=Ar(P.sort,R),ie=Ar(P.aggGroup,R),de=Ar(P.aggFunc,R);if(o!=="reset"&&(p.isCustomStatus=!0),S&&(f?pr(x):x.enabled)&&(_||B||K||X||ie||de)){if(!v)return At("vxe.error.reqProp",["id"]),ge();const Q=o==="reset"?{resizableData:{},sortData:[],visibleData:{},fixedData:{},aggGroupData:{},aggFuncData:{}}:O.getCustomStoreData();if(w)return w({$table:C,id:v,type:o,storeData:Q});Tn(v,o==="reset"?null:Q)}return ge()},handleCustom(){const{mouseConfig:o}=e;return o&&(C.clearSelected&&C.clearSelected(),C.clearCellAreas&&(C.clearCellAreas(),C.clearCopyCellArea())),D.analyColumnWidth(),O.refreshColumn(!0)},handleUpdateDataQueue(){p.upDataFlag++},handleRefreshColumnQueue(){p.reColumnFlag++},handleFilterOptions(o){const{filterStore:f}=p,{filters:v,filterMultiple:x,filterRender:w}=o,S=pr(w)?lx.get(w.name):null,T=o.filterRecoverMethod||(S?S.tableFilterRecoverMethod||S.filterRecoverMethod:null);f.multiple=x,f.options=v,f.column=o,f.options.forEach(R=>{const{_checked:P,checked:_}=R;R._checked=_,!_&&P!==_&&T&&T({option:R,column:o,$table:C})}),C.checkFilterOptions()},preventEvent(o,f,v,x,w){let S=KT.get(f);!S.length&&f==="event.clearEdit"&&(S=KT.get("event.clearActived"),S.length&&Zt("vxe.error.delEvent",["event.clearActived","event.clearEdit"]));let T=null,R=!1;for(let P=0;P<S.length;P++){const _=S[P],B=_(Object.assign({$table:C,$grid:h,gantt:c,$event:o},v));if(B===!1){R=!0;break}else if(B&&B.status===!1){T=B.result,R=!0;break}}return R||x&&(T=x()),w&&w(),T},updateCheckboxStatus(){const{treeConfig:o}=e,{isRowGroupStatus:f}=p,{afterTreeFullData:v,afterGroupFullData:x,selectCheckboxMaps:w,treeIndeterminateRowMaps:S}=g,T=dt.value,R=er.value,P=R.children||R.childrenField,_=qe.value,{checkField:B,indeterminateField:K,checkStrictly:X,checkMethod:ie}=_;if(!X){if(f||o){const{handleGetRowId:de}=hn(C),Q={},Ce=[];if(f){const he=T.mapChildrenField;he&&u.eachTree(x,ye=>{const ae=de(ye),oe=ye[he];oe&&oe.length&&!Q[ae]&&(Q[ae]=1,Ce.unshift([ye,ae,oe]))},{children:he})}else if(o){const{transform:he,mapChildrenField:ye}=R;u.eachTree(v,ae=>{const oe=de(ae),Qe=ae[he?ye:P];Qe&&Qe.length&&!Q[oe]?(Q[oe]=1,Ce.unshift([ae,oe,Qe])):K&&u.set(ae,K,!1)},{children:he?ye:P})}Ce.forEach(he=>{const ye=he[0],ae=he[1],oe=he[2];let Qe=0,je=0,We=0;const Ot=oe.length;oe.forEach(ie?bt=>{const Gt=de(bt),Qt=B?u.get(bt,B):w[Gt];ie({$table:C,row:bt})?(Qt?Qe++:S[Gt]&&je++,We++):Qt?Qe++:S[Gt]&&je++}:bt=>{const Gt=de(bt);(B?u.get(bt,B):w[Gt])?Qe++:S[Gt]&&je++,We++});let St=!1;Ot>0?We>0?St=(Qe>0||je>0)&&Qe>=We:Qe>0&&Qe>=We||w[ae]?St=!0:St=!1:St=w[ae];const ct=!St&&(Qe>0||je>0);B&&u.set(ye,B,St),K&&u.set(ye,K,ct),St?(B||(w[ae]=ye),S[ae]&&delete S[ae]):(B||w[ae]&&delete w[ae],ct?S[ae]=ye:S[ae]&&delete S[ae])})}p.updateCheckboxFlag++}},updateAllCheckboxStatus(){const{treeConfig:o}=e,{isRowGroupStatus:f}=p,{afterFullData:v,afterTreeFullData:x,afterGroupFullData:w,checkboxReserveRowMap:S,selectCheckboxMaps:T,treeIndeterminateRowMaps:R}=g,P=dt.value,{mapChildrenField:_}=P,B=qe.value,{checkField:K,checkMethod:X,showReserveStatus:ie}=B,{handleGetRowId:de}=hn(C);let Q=0,Ce=0,he=0,ye=0,ae=0;const oe=o?x:f?w:v;oe.forEach(X?We=>{const Ot=de(We),St=K?u.get(We,K):T[Ot];if(f&&C.isAggregateRecord(We)){const ct=We[_||""];St?(ae++,Q++):R[Ot]?(ae++,he++):ct&&ct.length&&ct.some(bt=>X({$table:C,row:bt}))&&ae++}else X({$table:C,row:We})?(St?Q++:R[Ot]&&he++,ae++):St?Ce++:R[Ot]&&ye++}:We=>{const Ot=de(We);(K?u.get(We,K):T[Ot])?Q++:R[Ot]&&he++,ae++});const Qe=oe.length>0?ae>0?Q>=ae:Q>=oe.length:!1;let je=!Qe&&(Q>0||he>0||Ce>0||ye>0);!Qe&&!je&&ie&&(je=!u.isEmpty(S)),p.isAllSelected=Qe,p.isIndeterminate=je},checkSelectionStatus(){C.updateCheckboxStatus(),C.updateAllCheckboxStatus()},handleBatchSelectRows(o,f,v){const{treeConfig:x}=e,{isRowGroupStatus:w}=p,{selectCheckboxMaps:S}=g,T=dt.value,R=er.value,{transform:P,mapChildrenField:_}=R,B=R.children||R.childrenField,K=qe.value,{checkField:X,checkStrictly:ie,checkMethod:de}=K,{handleGetRowId:Q}=hn(C),Ce=K.indeterminateField||K.halfField;if(X){if((x||w)&&!ie){u.eachTree(o,he=>{(v||!de||de({$table:C,row:he}))&&(u.set(he,X,f),Ce&&u.set(he,Ce,!1),On(he,f))},{children:P?_:B}),p.updateCheckboxFlag++;return}o.forEach(he=>{(v||!de||de({$table:C,row:he}))&&(u.set(he,X,f),On(he,f))}),p.updateCheckboxFlag++;return}if(!ie){if(w){u.eachTree(o,he=>{const ye=Q(he);(v||!de||de({$table:C,row:he}))&&(f?S[ye]=he:S[ye]&&delete S[ye],On(he,f))},{children:T.mapChildrenField}),p.updateCheckboxFlag++;return}else if(x){u.eachTree(o,he=>{const ye=Q(he);(v||!de||de({$table:C,row:he}))&&(f?S[ye]=he:S[ye]&&delete S[ye],On(he,f))},{children:P?_:B}),p.updateCheckboxFlag++;return}}o.forEach(he=>{const ye=Q(he);(v||!de||de({$table:C,row:he}))&&(f?S[ye]||(S[ye]=he):S[ye]&&delete S[ye],On(he,f),p.updateCheckboxFlag++)})},handleSelectRow({row:o},f,v){C.handleBatchSelectRows([o],f,v)},handleUpdateBodyMerge(){const{mergeBodyList:o}=g;g.mergeBodyCellMaps=Go(o),p.mergeBodyFlag++},handleUpdateHeaderMerge(){const{mergeHeaderList:o}=g;g.mergeHeaderCellMaps=Go(o),p.mergeHeadFlag++},handleUpdateFooterMerge(){const{mergeFooterList:o}=g;g.mergeFooterCellMaps=Go(o),p.mergeFootFlag++},handleAggregateSummaryData(){return sA()},triggerHeaderTitleEvent(o,f,v){const x=f.content||f.message;if(x){const{tooltipStore:w}=p,{column:S}=v,T=$a(x);Xs(!0),w.row=null,w.column=S,w.visible=!0,w.currOpts=f,ge(()=>{const R=N.value;R&&R.open&&R.open(o.currentTarget,T)})}},triggerHeaderTooltipEvent(o,f){const{tooltipStore:v}=p,x=ft.value,{column:w}=f;Xs(!0);const S=o.currentTarget;if(!S)return;const T=S.parentElement;if(!T)return;const R=T.parentElement;if(!R)return;const P=R.parentElement;if(P&&(v.column!==w||!v.visible)){const _=P.querySelector(".vxe-cell--title");xu(o,x,"header",P,(Fa(P,"col--ellipsis")?_:T)||T,_||R,f)}},triggerBodyTooltipEvent(o,f){const{editConfig:v}=e,{editStore:x}=p,{tooltipStore:w}=p,S=it.value,T=be.value,{actived:R}=x,{row:P,column:_}=f,B=o.currentTarget;if(Xs(w.column!==_||w.row!==P),!(_.editRender&&pr(v)&&(T.mode==="row"&&R.row===P||R.row===P&&R.column===_))&&(w.column!==_||w.row!==P||!w.visible)){const K=B.querySelector(".vxe-cell--wrapper");let X=null,ie=B.querySelector(_.type==="html"?".vxe-cell--html":".vxe-cell--label");_.treeNode&&(X=B.querySelector(".vxe-tree-cell")),ie||(ie=K),xu(o,S,"body",B,X||K,ie,f)}},triggerFooterTooltipEvent(o,f){const{column:v}=f,{tooltipStore:x}=p,w=Ve.value,S=o.currentTarget;if(Xs(x.column!==v||!!x.row),x.column!==v||!x.visible){const T=S.querySelector(".vxe-cell--wrapper");let R=null,P=S.querySelector(v.type==="html"?".vxe-cell--html":".vxe-cell--label");v.type==="html"&&(R=S.querySelector(".vxe-cell--html")),P||(P=T),xu(o,w,"footer",S,R||T,P,f)}},handleTargetLeaveEvent(){const o=it.value;let f=N.value;f&&f.setActived&&f.setActived(!1),o.enterable?g.tooltipTimeout=setTimeout(()=>{f=N.value,f&&f.isActived&&!f.isActived()&&C.closeTooltip()},o.leaveDelay):C.closeTooltip()},triggerHeaderCellClickEvent(o,f){const{_lastResizeTime:v}=g,x=Ke.value,w=at.value,S=ee.value,{column:T}=f,R=o.currentTarget,P=v&&v>Date.now()-300,_=$r(o,R,"vxe-cell--sort").flag,B=$r(o,R,"vxe-cell--filter").flag;x.trigger==="cell"&&!(P||_||B)&&C.triggerSortEvent(o,T,Vo(T)),Ir("header-cell-click",Object.assign({triggerResizable:P,triggerSort:_,triggerFilter:B,cell:R},f),o),(w.isCurrent||e.highlightCurrentColumn)&&(!S.trigger||["header","default"].includes(S.trigger))&&C.triggerCurrentColumnEvent(o,f)},triggerHeaderCellDblclickEvent(o,f){Ir("header-cell-dblclick",Object.assign({cell:o.currentTarget},f),o)},triggerCellClickEvent(o,f){const{treeConfig:v,highlightCurrentRow:x,highlightCurrentColumn:w,editConfig:S,aggregateConfig:T,rowGroupConfig:R}=e,{editStore:P,isDragResize:_,expandColumn:B,checkboxColumn:K,radioColumn:X}=p;if(_)return;const ie=Or.value,de=be.value,Q=er.value,Ce=Be.value,he=qe.value,ye=zt.value,ae=dt.value,oe=He.value,Qe=at.value,je=ee.value,{actived:We,focused:Ot}=P,{row:St,column:ct}=f,{type:bt,treeNode:Gt,rowGroupNode:Qt}=ct,Yt=bt==="radio",jt=bt==="checkbox",tr=bt==="expand",ar=o.currentTarget,Er=Yt&&$r(o,ar,"vxe-cell--radio").flag,Sr=jt&&$r(o,ar,"vxe-cell--checkbox").flag,Rr=Gt&&$r(o,ar,"vxe-cell--tree-btn").flag,Jt=tr&&$r(o,ar,"vxe-table--expanded").flag,_r=tr&&$r(o,ar,"vxe-row-group--node-btn").flag;f=Object.assign({cell:ar,triggerRadio:Er,triggerCheckbox:Sr,triggerTreeNode:Rr,triggerExpandNode:Jt},f),!Sr&&!Er&&(!Jt&&(B&&ie.trigger==="row"||tr&&ie.trigger==="cell")&&C.triggerRowExpandEvent(o,f),v&&(Q.trigger==="row"||Gt&&Q.trigger==="cell")&&C.triggerTreeExpandEvent(o,f),(T||R)&&(ae.trigger==="row"||Qt&&ae.trigger==="cell")&&C.triggerRowGroupExpandEvent(o,f)),Rr||(!Jt&&!_r&&((oe.isCurrent||x)&&!Sr&&!Er&&C.triggerCurrentRowEvent(o,f),(Qe.isCurrent||w)&&(!je.trigger||["cell","default"].includes(je.trigger))&&!Sr&&!Er&&C.triggerCurrentColumnEvent(o,f),!Er&&(X&&Ce.trigger==="row"||Yt&&Ce.trigger==="cell")&&C.triggerRadioRowEvent(o,f),!Sr&&(K&&he.trigger==="row"||jt&&he.trigger==="cell")&&C.handleToggleCheckRowEvent(o,f)),pr(S)&&(ye.arrowCursorLock&&o&&de.mode==="cell"&&o.target&&/^input|textarea$/i.test(o.target.tagName)&&(Ot.column=ct,Ot.row=St),de.trigger==="manual"?We.args&&We.row===St&&ct!==We.column&&fr(o,f):(!We.args||St!==We.row||ct!==We.column)&&(de.trigger==="click"||de.trigger==="dblclick"&&de.mode==="row"&&We.row===St)&&fr(o,f))),pr(S)&&de.trigger==="dblclick"&&We.row&&We.column&&(de.mode==="row"?C.eqRow(We.row,St)||C.handleClearEdit(o):de.mode==="cell"&&(!C.eqRow(We.row,St)||We.column.id!==ct.id)&&C.handleClearEdit(o)),Ir("cell-click",f,o)},triggerCellDblclickEvent(o,f){const{editConfig:v}=e,{editStore:x,isDragResize:w}=p;if(w)return;const S=be.value,{actived:T}=x,R=o.currentTarget;f=Object.assign({cell:R},f),pr(v)&&S.trigger==="dblclick"&&(!T.args||o.currentTarget!==T.args.cell)&&(S.mode==="row"?dr("blur").catch(P=>P).then(()=>{C.handleEdit(f,o).then(()=>dr("change")).catch(P=>P)}):S.mode==="cell"&&C.handleEdit(f,o).then(()=>dr("change")).catch(P=>P)),Ir("cell-dblclick",f,o)},handleToggleCheckRowEvent(o,f){const{selectCheckboxMaps:v}=g,x=qe.value,{checkField:w,trigger:S}=x,{row:T}=f;if(S==="manual")return;let R=!1;w?R=!u.get(T,w):R=!v[It(C,T)],o?C.triggerCheckRowEvent(o,f,R):(C.handleBatchSelectRows([T],R),C.checkSelectionStatus())},triggerCheckRowEvent(o,f,v){const{treeConfig:x}=e,{row:w}=f,{isRowGroupStatus:S}=p,{afterFullData:T}=g,R=qe.value,{checkMethod:P,trigger:_}=R;if(_!=="manual"){if(o.stopPropagation(),R.isShiftKey&&o.shiftKey&&!(x||S)){const B=C.getCheckboxRecords();if(B.length){const K=B[0],X=C.getVTRowIndex(w),ie=C.getVTRowIndex(K);if(X!==ie){C.setAllCheckboxRow(!1);const de=X<ie?T.slice(X,ie+1):T.slice(ie,X+1);ge(()=>{na(de,!0,!1)}),Ir("checkbox-range-select",Object.assign({rangeRecords:de},f),o);return}}}(S||!P||P({$table:C,row:w}))&&(C.handleBatchSelectRows([w],v),C.checkSelectionStatus(),Ir("checkbox-change",Object.assign({records:()=>C.getCheckboxRecords(),reserves:()=>C.getCheckboxReserveRecords(),indeterminates:()=>C.getCheckboxIndeterminateRecords(),checked:v},f),o))}},triggerCheckAllEvent(o,f){const v=qe.value,{trigger:x}=v;x!=="manual"&&(o&&o.stopPropagation(),gC(o,f))},triggerRadioRowEvent(o,f){const{selectRadioRow:v}=p,{row:x}=f,w=Be.value,{trigger:S,checkMethod:T}=w;if(S!=="manual"&&(o.stopPropagation(),!T||T({$table:C,row:x}))){let R=x,P=v!==R;P?Ea(R):w.strict||(P=v===R,P&&(R=null,C.clearRadioRow())),P&&Ir("radio-change",Object.assign({oldValue:v,newValue:R},f),o)}},triggerCurrentColumnEvent(o,f){const{currentColumn:v}=p,x=at.value,w=ee.value,S=w.beforeSelectMethod||x.currentMethod,{column:T}=f,{trigger:R}=w;if(R==="manual")return;const P=v!==T;!S||S({column:T,$table:C})?(C.setCurrentColumn(T),P&&Ir("current-column-change",Object.assign({oldValue:v,newValue:T},f),o)):Ir("current-column-disabled",f,o)},triggerCurrentRowEvent(o,f){const{currentRow:v}=p,x=He.value,w=$.value,S=w.beforeSelectMethod||x.currentMethod,{row:T}=f,{trigger:R}=w;if(R==="manual")return;const P=v!==T;!S||S({row:T,$table:C})?(C.setCurrentRow(T),P&&(Ir("current-row-change",Object.assign({oldValue:v,newValue:T},f),o),Ir("current-change",Object.assign({oldValue:v,newValue:T},f),o))):Ir("current-row-disabled",f,o)},triggerRowExpandEvent(o,f){const{expandColumn:v}=p,{rowExpandLazyLoadedMaps:x}=g,w=Or.value,{row:S}=f,{lazy:T,trigger:R}=w;if(R==="manual")return;o.stopPropagation();const P=It(C,S);if(!T||!x[P]){const _=!C.isRowExpandByRow(S),B=v?C.getColumnIndex(v):-1,K=v?C.getVMColumnIndex(v):-1;C.setRowExpand(S,_),Ir("toggle-row-expand",{expanded:_,column:v,columnIndex:B,$columnIndex:K,row:S,rowIndex:C.getRowIndex(S),$rowIndex:C.getVMRowIndex(S)},o)}},triggerRowGroupExpandEvent(o,f){const{rowGroupExpandedMaps:v}=g,x=dt.value,{row:w,column:S}=f,{trigger:T}=x;if(T==="manual")return;o.stopPropagation();const R=It(C,w),P=!v[R],_=C.getColumnIndex(S),B=C.getVMColumnIndex(S);C.setRowGroupExpand(w,P),Ir("toggle-row-group-expand",{expanded:P,column:S,columnIndex:_,$columnIndex:B,row:w},o)},triggerTreeExpandEvent(o,f){const{treeExpandLazyLoadedMaps:v,treeEATime:x}=g,w=er.value,{row:S,column:T}=f,{lazy:R,trigger:P,accordion:_}=w;if(P==="manual")return;o.stopPropagation();const B=It(C,S);if(!R||!v[B]){const K=!C.isTreeExpandByRow(S),X=C.getColumnIndex(T),ie=C.getVMColumnIndex(T);x&&clearTimeout(x),C.setTreeExpand(S,K).then(()=>{_&&(g.treeEATime=setTimeout(()=>{g.treeEATime=void 0,C.scrollToRow(S)},30))}),Ir("toggle-tree-expand",{expanded:K,column:T,columnIndex:X,$columnIndex:ie,row:S},o)}},handleColumnSortEvent(o,f){const{mouseConfig:v}=e,x=Ct.value,{field:w,sortable:S,order:T}=f;if(S){const R={$table:C,$event:o,column:f,field:w,property:w,order:T,sortList:O.getSortColumns(),sortTime:f.sortTime};v&&x.area&&C.handleSortEvent&&C.handleSortEvent(o,R),T||Ir("clear-sort",R,o),Ir("sort-change",R,o)}},triggerSortEvent(o,f,v){const x=Ke.value,{multiple:w,allowClear:S}=x,{field:T,sortable:R}=f;R&&(!v||f.order===v?S&&C.clearSort(w?f:null):C.sort({field:T,order:v}),C.handleColumnSortEvent(o,f))},handleCellRuleUpdateStatus(o,f,v){const{validStore:x}=p,{row:w,column:S}=f;if(C.hasCellRules&&C.hasCellRules(o,w,S)){const T=C.getCellElement(w,S);if(T){const R=!u.isUndefined(v);return C.validCellRules(o,w,S,v).then(()=>{R&&x.visible&&ca(w,S,v),C.clearValidate(w,S)}).catch(({rule:P})=>{R&&ca(w,S,v),C.showValidTooltip({rule:P,row:w,column:S,cell:T})})}}return ge()},triggerHeaderCellMousedownEvent(o,f){const{mouseConfig:v}=e,x=Ct.value,w=at.value,S=Z.value,{trigger:T,isCrossDrag:R,isPeerDrag:P,disabledMethod:_}=S,B=o.currentTarget,K=B&&B.tagName&&B.tagName.toLowerCase()==="input",X=$r(o,B,"vxe-cell--checkbox").flag,ie=$r(o,B,"vxe-cell--sort").flag,de=$r(o,B,"vxe-cell--filter").flag;let Q=!1;const Ce=w.drag&&T==="cell";if(!(K||X||ie||de)){const{column:he}=f;Ce&&!he.fixed&&(R||P||!he.parentId)&&!(_&&_(f))&&(Q=!0,C.handleHeaderCellDragMousedownEvent(o,f))}!Q&&v&&x.area&&C.handleHeaderCellAreaModownEvent&&C.handleHeaderCellAreaModownEvent(o,Object.assign({cell:B,triggerSort:ie,triggerFilter:de},f)),C.focus(),C.closeMenu&&C.closeMenu()},triggerCellMousedownEvent(o,f){const{column:v}=f,{type:x,treeNode:w}=v,S=x==="radio",T=x==="checkbox",R=x==="expand",P=He.value,_=H.value,{trigger:B,isCrossDrag:K,isPeerDrag:X,disabledMethod:ie}=_,de=o.currentTarget;f.cell=de;const Q=de&&de.tagName&&de.tagName.toLowerCase()==="input",Ce=S&&$r(o,de,"vxe-cell--radio").flag,he=T&&$r(o,de,"vxe-cell--checkbox").flag,ye=w&&$r(o,de,"vxe-cell--tree-btn").flag,ae=R&&$r(o,de,"vxe-table--expanded").flag;let oe=!1;P.drag&&(oe=B==="row"||v.dragSort&&B==="cell");let Qe=!1;Q||Ce||he||ye||ae||oe&&(K||X||!f.level)&&!(ie&&ie(f))&&(Qe=!0,C.handleCellDragMousedownEvent(o,f)),!Qe&&C.handleCellMousedownEvent&&C.handleCellMousedownEvent(o,f),C.focus(),C.closeFilter(),C.closeMenu&&C.closeMenu()},triggerCellMouseupEvent(){xC()},handleRowDragDragstartEvent(o){o.dataTransfer&&o.dataTransfer.setDragImage(hx(),0,0)},handleRowDragSwapEvent(o,f,v,x,w,S){const{treeConfig:T,dragConfig:R}=e,P=H.value,{afterFullData:_,tableFullData:B,fullAllDataRowIdData:K}=g,X=g.xeGanttView,{animation:ie,isPeerDrag:de,isCrossDrag:Q,isSelfToChildDrag:Ce,dragEndMethod:he,dragToChildMethod:ye}=P,ae=er.value,oe=Ie.value,Qe=He.value,je=rt.value,{transform:We,rowField:Ot,mapChildrenField:St,parentField:ct}=ae,bt=ae.children||ae.childrenField,Gt=he||(R?R.dragEndMethod:null),Qt=w==="bottom"?1:0,Yt=I.value,jt={status:!1};if(!(Yt&&x&&v))return Promise.resolve(jt);if(x!==v){const tr={oldRow:v,newRow:x,dragRow:v,dragPos:w,dragToChild:!!S,offsetIndex:Qt},ar=Ce&&ye?ye(tr):S;return Promise.resolve(Gt?Gt(tr):!0).then(Er=>{if(!Er)return jt;const Sr=It(C,v),Rr=K[Sr]||{},Jt=Rr._index;let _r=0,qr=-1;if(ie){_r=bi(Rr,oe,Qe,je);const Cr=Yt.querySelector(`.vxe-body--row[rowid="${Sr}"]`);Cr&&(qr=Cr.offsetTop)}let br=-1,Pr=-1;if(T){if(We){const Cr=Rr,hr=It(C,x),yr=K[hr];if(Cr&&yr){const{level:kr}=Cr,{level:Vr}=yr,Lr={};u.eachTree([v],pn=>{Lr[It(C,pn)]=pn},{children:St});let fn=!1;if(kr&&Vr)if(de&&!Q){if(Cr.row[ct]!==yr.row[ct])return jt}else{if(!Q)return jt;if(Lr[hr]&&(fn=!0,!(Q&&Ce)))return Se.modal&&Se.modal.message({status:"error",content:aa("vxe.error.treeDragChild")}),jt}else if(kr){if(!Q)return jt}else if(Vr){if(!Q)return jt;if(Lr[hr]&&(fn=!0,!(Q&&Ce)))return Se.modal&&Se.modal.message({status:"error",content:aa("vxe.error.treeDragChild")}),jt}const tn=u.toTreeArray(g.afterTreeFullData,{key:Ot,parentKey:ct,children:St}),wn=C.findRowIndexOf(tn,v);tn.splice(wn,1);const mn=C.findRowIndexOf(tn,x)+Qt;tn.splice(mn,0,v),fn&&Q&&Ce&&u.each(v[bt],pn=>{pn[ct]=v[ct]}),v[ct]=ar?x[Ot]:x[ct],g.tableFullTreeData=u.toArrayTree(tn,{key:Ot,parentKey:ct,children:bt,mapChildren:St})}}}else{br=C.findRowIndexOf(_,v);const Cr=C.findRowIndexOf(B,v);_.splice(br,1),B.splice(Cr,1);const hr=C.findRowIndexOf(_,x),yr=C.findRowIndexOf(B,x);Pr=hr+Qt;const kr=yr+Qt;_.splice(Pr,0,v),B.splice(kr,0,v)}return C.handleTableData(T&&We),C.cacheRowMap(!1),Vi(),T&&We||C.updateAfterDataIndex(),C.checkSelectionStatus(),p.scrollYLoad&&C.updateScrollYSpace(),o&&Ir("row-dragend",{oldRow:v,newRow:x,dragRow:v,dragPos:w,dragToChild:ar,offsetIndex:Qt,_index:{newIndex:Pr,oldIndex:br}},o),ge().then(()=>{if(ie){const{tableData:Cr}=p,hr=K[Sr],yr=hr._index,kr=Cr[0],Vr=K[It(C,kr)];let Lr=Yt;if(c&&X){const{refGanttContainerElem:Cn}=c.getRefMaps(),mn=Cn.value;mn&&(Lr=mn)}if(Vr){const Cn=Vr._index,mn=Cn+Cr.length;let pn=-1,ln=-1,En=1;Jt<Cn?(pn=0,ln=yr-Cn):Jt>mn?(pn=hr.$index+1,ln=Cr.length,En=-1):yr>Jt?(pn=Jt-Cn,ln=pn+yr-Jt):(pn=yr-Cn,ln=pn+Jt-yr+1,En=-1);const Xl=Cr.slice(pn,ln);if(Xl.length){const Sa=[];Xl.forEach($o=>{const ji=It(C,$o);Sa.push(`.vxe-body--row[rowid="${ji}"]`),c&&Sa.push(`.vxe-gantt-view--body-row[rowid="${ji}"]`,`.vxe-gantt-view--chart-row[rowid="${ji}"]`)});const Du=Lr.querySelectorAll(Sa.join(","));nc(Du,En*_r)}}const fn=[`.vxe-body--row[rowid="${Sr}"]`];c&&fn.push(`.vxe-gantt-view--body-row[rowid="${Sr}"]`,`.vxe-gantt-view--chart-row[rowid="${Sr}"]`);const tn=Lr.querySelectorAll(fn.join(",")),wn=tn[0];qr>-1&&wn&&nc(tn,qr-wn.offsetTop)}zn(),tl(),C.updateCellAreas(),C.recalculate()}).then(()=>({status:!0}))}).catch(()=>jt)}return Promise.resolve(jt)},handleCrossTableRowDragFinishEvent(o){const{tableData:f}=p,{fullAllDataRowIdData:v}=g,x=He.value,w=Ie.value,S=rt.value,T=H.value,{animation:R,isCrossTableDrag:P}=T,_=er.value,{mapChildrenField:B}=_,K=I.value;if(P&&Qn&&y){const{row:X}=y;if(X){const ie=It(C,X),de=v[ie];let Q=0,Ce=-1;de&&(R&&(Q=bi(de,w,x,S)),Ce=de.$index);const he=Ce>-1&&Ce<f.length-1?f.slice(Ce+1):[],ye=u.toTreeArray([X],{updated:!0,children:B});C.remove(ye).then(()=>{if(R&&Q&&he.length){const ae=g.xeGanttView;let oe=K;if(c&&ae){const{refGanttContainerElem:We}=c.getRefMaps(),Ot=We.value;Ot&&(oe=Ot)}const Qe=[];he.forEach(We=>{const Ot=It(C,We);Qe.push(`.vxe-body--row[rowid="${Ot}"]`),c&&Qe.push(`.vxe-gantt-view--body-row[rowid="${Ot}"]`,`.vxe-gantt-view--chart-row[rowid="${Ot}"]`)});const je=oe.querySelectorAll(Qe.join(","));nc(je,Q)}}),Ir("row-remove-dragend",{row:X},o),Js(),rl()}}},handleCrossTableRowDragoverEmptyEvent(o){const{tableData:f}=p,v=H.value,{isCrossTableDrag:x}=v;if(x&&Qn&&!f.length){const{$oldTable:w,$newTable:S}=Qn;if(w){const T=w.reactData;w.xID!==C.xID&&(S&&S.xID!==C.xID&&S.hideCrossTableRowDropClearStatus(),o.preventDefault(),w.hideCrossTableRowDropClearStatus(),Qn.$newTable=C,g.prevDragRow=null,p.dragTipText=T.dragTipText,Kl(o,o.currentTarget,null,!0,""))}}},handleCrossTableRowDragInsertEvent(o){const{treeConfig:f}=e,{prevDragRow:v,prevDragPos:x,prevDragToChild:w}=g,S=H.value,{animation:T,isSelfToChildDrag:R,isCrossTableDrag:P,dragEndMethod:_,dragToChildMethod:B}=S,K=He.value,X=Ie.value,ie=rt.value,de=er.value,{parentField:Q,mapChildrenField:Ce}=de,he=de.children||de.childrenField;if(P&&Qn&&y){const{row:ye}=y,{$oldTable:ae}=Qn,oe=I.value;if(ae&&ye){const Qe=ye;let je=-1;v&&(je=x==="bottom"?1:0);const We={oldRow:Qe,newRow:v,dragRow:Qe,dragPos:x,dragToChild:!!w,offsetIndex:je},Ot=R&&B?B(We):w,St={status:!1};Promise.resolve(_?_(We):!0).then(ct=>{if(!ct)return St;let bt=Promise.resolve();if(f){const Gt=u.toTreeArray([Qe],{updated:!0,children:Ce});ae.handleCrossTableRowDragFinishEvent(o),v?Qe[Q]=v[Q]:Qe[Q]=null,Gt.forEach(Qt=>{Qt[he]=void 0,Qt[Ce]=void 0}),v?x==="bottom"?bt=C.insertNextAt(Gt,v):bt=C.insertAt(Gt,v):bt=C.insert(Gt)}else ae.handleCrossTableRowDragFinishEvent(o),v?x==="bottom"?bt=C.insertNextAt(Qe,v):bt=C.insertAt(Qe,v):bt=C.insert(Qe);Ir("row-insert-dragend",{oldRow:ye,newRow:v,dragRow:Qe,dragPos:x,dragToChild:Ot,offsetIndex:je},o),Js(),bt.then(()=>{const{tableData:Gt}=p,{fullAllDataRowIdData:Qt}=g,Yt=It(C,Qe),jt=Qt[Yt];let tr=0,ar=-1;jt&&(T&&(tr=bi(jt,X,K,ie)),ar=jt.$index);const Er=ar>-1?Gt.slice(ar):[];if(T&&tr&&Er.length){const Sr=g.xeGanttView;let Rr=oe;if(c&&Sr){const{refGanttContainerElem:qr}=c.getRefMaps(),br=qr.value;br&&(Rr=br)}const Jt=[];Er.forEach(qr=>{const br=It(C,qr);Jt.push(`.vxe-body--row[rowid="${br}"]`),c&&Jt.push(`.vxe-gantt-view--body-row[rowid="${br}"]`,`.vxe-gantt-view--chart-row[rowid="${br}"]`)});const _r=Rr.querySelectorAll(Jt.join(","));nc(_r,-tr)}})})}}},hideCrossTableRowDropClearStatus(){Rl()},handleRowDragDragendEvent(o){const{treeConfig:f}=e,{fullAllDataRowIdData:v,prevDragToChild:x}=g,{dragRow:w}=p,S=er.value,{lazy:T}=S,R=S.hasChild||S.hasChildField,{prevDragRow:P,prevDragPos:_}=g,B=H.value,{isCrossTableDrag:K}=B;if(K&&Qn){const{$newTable:X}=Qn;if(X&&X.xID!==C.xID){X.handleCrossTableRowDragInsertEvent(o);return}}if(f&&T&&x){const X=It(C,P),ie=v[X];P[R]?ie&&ie.treeLoaded&&C.handleRowDragSwapEvent(o,!0,w,P,_,x):C.handleRowDragSwapEvent(o,!0,w,P,_,x)}else C.handleRowDragSwapEvent(o,!0,w,P,_,x);Js(),rl()},handleRowDragDragoverEvent(o){const{treeConfig:f}=e,{fullAllDataRowIdData:v}=g,{dragRow:x}=p,w=er.value,{lazy:S,transform:T,parentField:R}=w,P=w.hasChild||w.hasChildField,_=H.value,{isPeerDrag:B,isCrossDrag:K,isToChildDrag:X,isCrossTableDrag:ie}=_;if(!x&&!(ie&&(!f||K)&&Qn)){o.preventDefault();return}const de=Cs(o),Q=o.currentTarget,Ce=Q.getAttribute("rowid")||"",he=v[Ce];if(he){o.preventDefault();const ye=he.row,ae=It(C,ye),oe=v[ae],je=o.clientY-Q.getBoundingClientRect().y<Q.clientHeight/2?"top":"bottom";if(g.prevDragToChild=!!(f&&T&&K&&X&&de),g.prevDragRow=ye,g.prevDragPos=je,ie&&(!f||K)&&Qn){const{$oldTable:We,$newTable:Ot}=Qn;if(We){const St=We.reactData;if(We.xID===C.xID)Ot&&Ot.hideCrossTableRowDropClearStatus(),p.isCrossDragRow=!1,St.isCrossDragRow=!1,Qn.$newTable=null;else{Ot&&Ot.xID!==C.xID&&Ot.hideCrossTableRowDropClearStatus(),We.hideCrossTableRowDropClearStatus(),St.isCrossDragRow=!0,p.dragTipText=St.dragTipText,Qn.$newTable=C,Kl(o,Q,null,!0,je);return}}}if(C.eqRow(x,ye)||de&&f&&S&&ye[P]&&oe&&!oe.treeLoaded||!K&&f&&T&&(B?x[R]!==ye[R]:he.level)){Kl(o,Q,null,!1,je);return}Kl(o,Q,null,!0,je),Ir("row-dragover",{oldRow:x,targetRow:ye,dragPos:je},o)}},handleCellDragMousedownEvent(o,f){var v;o.stopPropagation();const{dragConfig:x}=e,w=H.value,{isCrossTableDrag:S,trigger:T,dragStartMethod:R}=w,{row:P}=f,_=o.currentTarget,B=T==="cell"||T==="row"?_:(v=_.parentElement)===null||v===void 0?void 0:v.parentElement,K=B.parentElement,X=R||(x?x.dragStartMethod:null);if(bu(),X&&!X(f)){K.draggable=!1,p.dragRow=null,p.dragCol=null,rl(),Rl();return}S&&(y.row=P,Qn={$oldTable:C,$newTable:null}),p.dragRow=P,p.isCrossDragRow=!1,p.dragCol=null,K.draggable=!0,IA(P),FA(B),Ir("row-dragstart",f,o)},handleCellDragMouseupEvent(){xC()},handleHeaderCellDragDragstartEvent(o){o.dataTransfer&&o.dataTransfer.setDragImage(hx(),0,0)},handleColDragSwapColumn(){return uC(),hu(!1).then(()=>{C.updateCellAreas(),C.saveCustomStore("update:sort")})},handleColDragSwapEvent(o,f,v,x,w,S){const{mouseConfig:T}=e,R=Z.value,{animation:P,isPeerDrag:_,isCrossDrag:B,isSelfToChildDrag:K,isToChildDrag:X,dragEndMethod:ie,dragToChildMethod:de}=R,{collectColumn:Q,fullColumnIdData:Ce}=g,he=I.value,ye=w==="right"?1:0,ae={status:!1};if(!(he&&x&&v))return Promise.resolve(ae);if(x!==v){const oe=v,Qe=x,je={oldColumn:oe,newColumn:Qe,dragColumn:oe,dragPos:w,dragToChild:!!S,offsetIndex:ye},We=K&&de?de(je):S;return Promise.resolve(ie?ie(je):!0).then(Ot=>{if(!Ot)return ae;let St=null;const ct=[];let bt=0;P&&u.eachTree([oe],Jt=>{!St&&(!Jt.children||!Jt.children.length)&&(St=Jt,bt+=Jt.renderWidth),ct.push(Jt)}),St||(St=oe);const Gt=Ce[St.id]||{},Qt=Gt._index;let Yt=-1;if(P){const Jt=he.querySelector(`.vxe-table--column[colid="${St.id}"]`);Jt&&(Yt=Jt.offsetLeft)}let jt=-1,tr=-1;const ar={};u.eachTree([oe],Jt=>{ar[Jt.id]=Jt});let Er=!1;if(oe.parentId&&Qe.parentId)if(_&&!B){if(oe.parentId!==Qe.parentId)return ae}else{if(!B)return ae;if(ar[Qe.id]&&(Er=!0,!(B&&K)))return Se.modal&&Se.modal.message({status:"error",content:aa("vxe.error.treeDragChild")}),ae}else if(oe.parentId){if(!B)return ae}else if(Qe.parentId){if(!B)return ae;if(ar[Qe.id]&&(Er=!0,!(B&&K)))return Se.modal&&Se.modal.message({status:"error",content:aa("vxe.error.treeDragChild")}),ae}const Sr=u.findTree(Q,Jt=>Jt.id===oe.id);if(Er&&B&&K){if(Sr){const{items:Jt,index:_r}=Sr,qr=oe.children||[];qr.forEach(br=>{br.parentId=oe.parentId}),Jt.splice(_r,1,...qr),oe.children=[]}}else if(Sr){const{items:Jt,index:_r,parent:qr}=Sr;Jt.splice(_r,1),qr||(jt=_r)}const Rr=u.findTree(Q,Jt=>Jt.id===Qe.id);if(Rr){const{items:Jt,index:_r,parent:qr}=Rr;B&&X&&We?(oe.parentId=Qe.id,Qe.children=(Qe.children||[]).concat([oe])):(oe.parentId=Qe.parentId,Jt.splice(_r+ye,0,oe)),qr||(tr=_r)}return u.eachTree(Q,(Jt,_r,qr,br,Pr)=>{if(!Pr){const Cr=_r+1;Jt.renderSortNumber=Cr}}),T&&(C.clearSelected&&C.clearSelected(),C.clearCellAreas&&(C.clearCellAreas(),C.clearCopyCellArea())),o&&Ir("column-dragend",{oldColumn:oe,newColumn:Qe,dragColumn:oe,dragPos:w,dragToChild:We,offsetIndex:ye,_index:{newIndex:tr,oldIndex:jt}},o),ge().then(()=>{if(f)return C.handleColDragSwapColumn()}).then(()=>{if(P){const{tableColumn:Jt}=p,{visibleColumn:_r,fullColumnIdData:qr}=g;let br=null;const Pr={};if(u.eachTree([oe],Cr=>{!br&&(!Cr.children||!Cr.children.length)&&(br=Cr),Pr[Cr.id]=Cr}),br||(br=oe),bt&&ct.length){const Cr=u.findIndexOf(_r,Lr=>!!br&&Lr.id===br.id),hr=Jt[0],yr=qr[hr.id];if(yr){const Lr=yr._index,fn=Lr+Jt.length;let tn=-1,wn=-1,Cn=1;Qt<Lr?(tn=0,wn=Cr-Lr):Qt>fn?(tn=Gt.$index+1,wn=Jt.length,Cn=-1):Cr>Qt?(tn=Qt-Lr,wn=tn+Cr-Qt):(tn=Cr-Lr+1,wn=tn+Qt-Cr,Cn=-1);const mn=[],pn={};for(let ln=tn;ln<wn;ln++){const En=Jt[ln];!pn[En.id]&&!Pr[En.id]&&(pn[En.id]=En,mn.push(En))}if(u.eachTree([Qe],ln=>{pn[ln.id]||(pn[ln.id]=ln,mn.push(ln))}),mn.length){const ln=he.querySelectorAll(mn.map(En=>`.vxe-table--column[colid="${En.id}"]`).join(","));wT(ln,Cn*bt)}}const kr=he.querySelectorAll(ct.map(Lr=>`.vxe-table--column[colid="${Lr.id}"]`).join(",")),Vr=kr[0];Yt>-1&&Vr&&wT(kr,Yt-Vr.offsetLeft)}}return Ks(),Sl(),C.updateCellAreas(),{status:!0}})}).catch(()=>ae)}return Promise.resolve(ae)},handleHeaderCellDragDragendEvent(o){const{dragCol:f}=p,{prevDragCol:v,prevDragPos:x,prevDragToChild:w}=g,S=I.value;C.handleColDragSwapEvent(o,!0,f,v,x,w),Rl(),Zs(),D_(S,[".vxe-table--column"]),g.prevDragToChild=!1,p.dragRow=null,p.dragCol=null,rl()},handleHeaderCellDragDragoverEvent(o){const{dragCol:f}=p,v=Z.value,{isToChildDrag:x,isPeerDrag:w,isCrossDrag:S}=v;if(!f){o.preventDefault();return}const T=Cs(o),R=o.currentTarget,P=R.getAttribute("colid"),_=C.getColumnById(P);if(_){o.preventDefault();const{clientX:B}=o,X=B-R.getBoundingClientRect().x<R.clientWidth/2?"left":"right";if(g.prevDragToChild=!!(S&&x&&T),g.prevDragCol=_,g.prevDragPos=X,_.fixed||f&&f.id===_.id||!S&&(w?f.parentId!==_.parentId:_.parentId)){Kl(o,null,R,!1,X);return}Kl(o,null,R,!0,X),Ir("column-dragover",{oldColumn:f,targetColumn:_,dragPos:X},o);const ie=I.value;if(!ie)return;const de=ut.value,Q=U.value,Ce=Q?Q.$el:null,he=de||Ce;if(he){const ye=ie.getBoundingClientRect(),ae=ie.clientWidth,oe=re.value,Qe=oe?oe.clientWidth:0,je=ve.value,We=je?je.clientWidth:0,Ot=ye.x+Qe,St=ye.x+ae-We,ct=28,bt=B-Ot,Gt=St-B;if(bt>0&&bt<=ct){const Qt=Math.floor(ae/(bt>ct/2?240:120));he.scrollLeft-=Qt*(ct-bt)}else if(Gt>0&&Gt<=ct){const Qt=Math.floor(ae/(Gt>ct/2?240:120));he.scrollLeft+=Qt*(ct-Gt)}}}},handleHeaderCellDragMousedownEvent(o,f){var v;o.stopPropagation();const x=Z.value,{trigger:w,dragStartMethod:S}=x,{column:T}=f,R=o.currentTarget,P=w==="cell"?R:(v=R.parentElement)===null||v===void 0?void 0:v.parentElement;if(Zs(),S&&!S(f)){P.draggable=!1,p.dragRow=null,p.dragCol=null,rl(),Rl();return}p.dragCol=T,p.dragRow=null,P.draggable=!0,rl(),$A(T),AA(P),Ir("column-dragstart",f,o)},handleHeaderCellDragMouseupEvent(){Zs(),Rl(),rl(),p.dragRow=null,p.dragCol=null},handleScrollEvent(o,f,v,x,w,S){const{highlightHoverRow:T}=e,{lastScrollLeft:R,lastScrollTop:P}=g,_=ut.value,B=$e.value;if(!_||!B)return;const K=He.value,X=L.value,ie=N.value,de=B.clientHeight,Q=_.clientWidth,Ce=B.scrollHeight,he=_.scrollWidth;let ye=!1,ae=!1,oe=!1,Qe=!1,je="",We=!1,Ot=!1,St=!1,ct=!1;if(v){const Gt=Lt.value;oe=w<=0,oe||(Qe=w+Q>=he),w>R?(je="right",w+Q>=he-Gt&&(ct=!0)):(je="left",w<=Gt&&(St=!0)),C.checkScrolling(),g.lastScrollLeft=w}if(f){const Gt=Oe.value;ye=x<=0,ye||(ae=x+de>=Ce),x>P?(je="bottom",x+de>=Ce-Gt&&(Ot=!0)):(je="top",x<=Gt&&(We=!0)),g.lastScrollTop=x}p.lastScrollTime=Date.now();const bt=Object.assign({scrollTop:x,scrollLeft:w,bodyHeight:de,bodyWidth:Q,scrollHeight:Ce,scrollWidth:he,isX:v,isY:f,isTop:ye,isBottom:ae,isLeft:oe,isRight:Qe,direction:je},S);tl(),mA(v,f),v&&C.closeFilter(),(K.isHover||T)&&C.clearHoverRow(),X&&X.reactData.visible&&X.close(),ie&&ie.reactData.visible&&ie.close(),(Ot||We||ct||St)&&Ir("scroll-boundary",bt,o),Ir("scroll",bt,o)},triggerScrollXEvent(){Bt.value.immediate?Sl():hA()},triggerScrollYEvent(){Nt.value.immediate?zi():vA()},triggerBodyScrollEvent(o,f){const{scrollYLoad:v,scrollXLoad:x}=p,{elemStore:w,intoRunScroll:S,lastScrollTop:T,lastScrollLeft:R,inWheelScroll:P,inVirtualScroll:_,inHeaderScroll:B,inBodyScroll:K,scrollRenderType:X,inFooterScroll:ie}=g;if(P||_||B||ie)return;const de=ut.value,Q=$e.value,Ce=nr(w["left-body-scroll"]),he=nr(w["main-body-scroll"]),ye=nr(w["right-body-scroll"]),ae=nr(w["main-header-scroll"]),oe=nr(w["main-footer-scroll"]),Qe=Te.value;if(S||!he||!de||!Q||K&&X!==f)return;let je=Q.scrollTop,We=de.scrollLeft;Ce&&f==="left"?je=Ce.scrollTop:ye&&f==="right"?je=ye.scrollTop:(je=he.scrollTop,We=he.scrollLeft);const Ot=We!==R,St=je!==T;g.inBodyScroll=!0,g.scrollRenderType=f,St&&(f==="left"?(Br(he,je),Br(ye,je)):f==="right"?(Br(he,je),Br(Ce,je)):(Br(Ce,je),Br(ye,je)),Br(Q,je),Br(Qe,je),Ys(je),v&&C.triggerScrollYEvent(o)),Ot&&(Gr(de,We),Gr(ae,We),Gr(oe,We),x&&C.triggerScrollXEvent(o)),C.handleScrollEvent(o,St,Ot,je,We,{type:"body",fixed:f})},triggerHeaderScrollEvent(o,f){const{scrollXLoad:v}=p,{elemStore:x,intoRunScroll:w,inWheelScroll:S,inVirtualScroll:T,inBodyScroll:R,inFooterScroll:P}=g;if(S||T||R||P)return;const _=$e.value,B=ut.value,K=nr(x["main-body-scroll"]),X=nr(x["main-header-scroll"]),ie=nr(x["main-footer-scroll"]);if(w||!X||!B||!_)return;const de=_.scrollTop,Q=X.scrollLeft,Ce=!0,he=!1;g.inHeaderScroll=!0,Gr(B,Q),Gr(ie,Q),Gr(K,Q),v&&C.triggerScrollXEvent(o),C.handleScrollEvent(o,he,Ce,de,Q,{type:"header",fixed:f})},triggerFooterScrollEvent(o,f){const{scrollXLoad:v}=p,{elemStore:x,intoRunScroll:w,inWheelScroll:S,inVirtualScroll:T,inHeaderScroll:R,inBodyScroll:P}=g;if(S||T||R||P)return;const _=$e.value,B=ut.value,K=nr(x["main-body-scroll"]),X=nr(x["main-header-scroll"]),ie=nr(x["main-footer-scroll"]);if(w||!ie||!B||!_)return;const de=_.scrollTop,Q=ie.scrollLeft,Ce=!0,he=!1;g.inFooterScroll=!0,Gr(B,Q),Gr(X,Q),Gr(K,Q),v&&C.triggerScrollXEvent(o),C.handleScrollEvent(o,he,Ce,de,Q,{type:"footer",fixed:f})},triggerBodyWheelEvent(o){const{target:f,deltaY:v,deltaX:x,shiftKey:w}=o;if(f&&/^textarea$/i.test(f.tagName))return;const{highlightHoverRow:S}=$c,{scrollXLoad:T,scrollYLoad:R,expandColumn:P}=p,_=Ut.value,B=qt.value;if(!(_||B||P))return;const{elemStore:K,lastScrollTop:X,lastScrollLeft:ie}=g,de=He.value,Q=ut.value,Ce=$e.value,he=nr(K["left-body-scroll"]),ye=nr(K["main-header-scroll"]),ae=nr(K["main-body-scroll"]),oe=nr(K["main-footer-scroll"]),Qe=nr(K["right-body-scroll"]),je=Te.value;if(!Q||!Ce||!ae)return;const We=bA(p.lastScrollTime),Ot=w?0:Math.ceil(v*We),St=w?Math.ceil((w&&v||x)*We):0,ct=Ot<0,bt=ae.scrollTop;if(ct?bt<=0:bt>=ae.scrollHeight-ae.clientHeight)return;const Gt=bt+Ot,Qt=ae.scrollLeft+St,Yt=Qt!==ie,jt=Gt!==X;if((de.isHover||S)&&C.clearHoverRow(),Yt)if(o.preventDefault(),g.inWheelScroll=!0,a.firefox||a.safari){const tr=Qt;Gr(Q,tr),Gr(ae,tr),Gr(ye,tr),Gr(oe,tr),T&&C.triggerScrollXEvent(o),C.handleScrollEvent(o,jt,Yt,ae.scrollTop,tr,{type:"table",fixed:""})}else xA(Qt,tr=>{g.inWheelScroll=!0;const ar=tr;Gr(Q,ar),Gr(ae,ar),Gr(ye,ar),Gr(oe,ar),T&&C.triggerScrollXEvent(o),C.handleScrollEvent(o,jt,Yt,ae.scrollTop,ar,{type:"table",fixed:""})});if(jt)if(o.preventDefault(),g.inWheelScroll=!0,a.firefox||a.safari){const tr=Gt;Br(Ce,tr),Br(ae,tr),Br(he,tr),Br(Qe,tr),Br(je,tr),Ys(tr),R&&C.triggerScrollYEvent(o),C.handleScrollEvent(o,jt,Yt,tr,ae.scrollLeft,{type:"table",fixed:""})}else CA(Gt-bt,tr=>{g.inWheelScroll=!0;const ar=ae.scrollTop+tr;Br(Ce,ar),Br(ae,ar),Br(he,ar),Br(Qe,ar),Br(je,ar),Ys(ar),R&&C.triggerScrollYEvent(o),C.handleScrollEvent(o,jt,Yt,ar,ae.scrollLeft,{type:"table",fixed:""})})},triggerVirtualScrollXEvent(o){const{scrollXLoad:f}=p,{elemStore:v,inWheelScroll:x,lastScrollTop:w,inHeaderScroll:S,inBodyScroll:T,inFooterScroll:R}=g;if(S||T||R||x)return;const P=nr(v["main-header-scroll"]),_=nr(v["main-body-scroll"]),B=nr(v["main-footer-scroll"]),K=$e.value,X=o.currentTarget,{scrollLeft:ie}=X,de=K||_;let Q=0;de&&(Q=de.scrollTop);const Ce=!0,he=Q!==w;g.inVirtualScroll=!0,Gr(_,ie),Gr(P,ie),Gr(B,ie),f&&C.triggerScrollXEvent(o),C.handleScrollEvent(o,he,Ce,Q,ie,{type:"table",fixed:""})},triggerVirtualScrollYEvent(o){const{scrollYLoad:f}=p,{elemStore:v,inWheelScroll:x,lastScrollLeft:w,inHeaderScroll:S,inBodyScroll:T,inFooterScroll:R}=g;if(S||T||R||x)return;const P=nr(v["left-body-scroll"]),_=nr(v["main-body-scroll"]),B=nr(v["right-body-scroll"]),K=Te.value,X=ut.value,ie=o.currentTarget,{scrollTop:de}=ie,Q=X||_;let Ce=0;Q&&(Ce=Q.scrollLeft);const he=Ce!==w,ye=!0;g.inVirtualScroll=!0,Br(_,de),Br(P,de),Br(B,de),Br(K,de),Ys(de),f&&C.triggerScrollYEvent(o),C.handleScrollEvent(o,ye,he,de,Ce,{type:"table",fixed:""})},scrollToTreeRow(o){const{treeConfig:f}=e,{isRowGroupStatus:v}=p,{tableFullData:x}=g,w=[];if(f||v){const S=dt.value,T=er.value,R=T.children||T.childrenField,P=u.findTree(x,_=>C.eqRow(_,o),{children:v?S.mapChildrenField:R});if(P){const _=P.nodes;_.forEach((B,K)=>{K<_.length-1&&!C.isTreeExpandByRow(B)&&w.push(C.setTreeExpand(B,!0))})}}return Promise.all(w).then(()=>vT(C,o))},updateScrollYStatus:Vi,updateScrollXSpace(){const{scrollXLoad:o,overflowX:f,scrollXWidth:v}=p,{visibleColumn:x,scrollXStore:w,elemStore:S,fullColumnIdData:T}=g,R=g.xeGanttView,P=Ct.value,_=U.value;if(_?_.$el:null){const K=nr(S["main-body-scroll"]),X=nr(S["main-body-table"]),ie=nr(S["main-header-table"]),de=nr(S["main-footer-table"]);let Q=0;const Ce=x[w.startIndex];Ce&&(Q=(T[Ce.id]||{}).oLeft);let he=0;K&&(he=K.clientWidth);let ye=!1,ae=v;v>ai&&(K&&X&&K.scrollLeft+he>=ai?Q=ai-X.clientWidth:Q=(ai-he)*(Q/(v-he)),ae=ai,ye=!0),o&&f||(Q=0),ie&&(ie.style.transform=ie.getAttribute("xvm")?`translate(${Q}px, 0px)`:""),X&&(X.style.transform=`translate(${Q}px, ${p.scrollYTop||0}px)`),de&&(de.style.transform=de.getAttribute("xvm")?`translate(${Q}px, 0px)`:""),["main"].forEach(je=>{["header","body","footer"].forEach(Ot=>{const St=nr(S[`${je}-${Ot}-xSpace`]);St&&(St.style.width=o?`${ae}px`:"")})}),p.scrollXLeft=Q,p.scrollXWidth=ae,p.isScrollXBig=ye;const Qe=vt.value;return Qe&&(Qe.style.width=`${ae}px`),Gs(),ye&&P.area&&At("vxe.error.notProp",["mouse-config.area"]),R&&R.handleUpdateSXSpace&&R.handleUpdateSXSpace(),ge().then(()=>{$t()})}},updateScrollYSpace(){const{isAllOverflow:o,overflowY:f,scrollYLoad:v,expandColumn:x}=p,{scrollYStore:w,elemStore:S,isResizeCellHeight:T,afterFullData:R,fullAllDataRowIdData:P,rowExpandedMaps:_}=g,B=g.xeGanttView,{startIndex:K}=w,X=Ct.value,ie=Or.value,de=He.value,Q=Ie.value,Ce=rt.value,he=nr(S["main-body-scroll"]),ye=nr(S["main-body-table"]),ae=nr(S["left-body-table"]),oe=nr(S["right-body-table"]),Qe=["main","left","right"];let je=0,We=0,Ot=!1;if(v)if(!(T||Q.height||de.height)&&!x&&o)We=R.length*Ce,We>$l&&(Ot=!0),je=Math.max(0,K*Ce);else{const jt=R[K];let tr=It(C,jt),ar=P[tr]||{};je=ar.oTop||0;const Er=R[R.length-1];tr=It(C,Er),ar=P[tr]||{},We=(ar.oTop||0)+(ar.resizeHeight||Q.height||de.height||ar.height||Ce),x&&_[tr]&&(We+=ar.expandHeight||ie.height||0),We>$l&&(Ot=!0)}else ye&&(We=ye.clientHeight);let St=0;he&&(St=he.clientHeight);let ct=We,bt=je;Ot&&(he&&ye&&he.scrollTop+St>=$l?bt=$l-ye.clientHeight:bt=($l-St)*(je/(We-St)),ct=$l),v&&f||(bt=0),ae&&(ae.style.transform=`translate(0px, ${bt}px)`),ye&&(ye.style.transform=`translate(${p.scrollXLeft||0}px, ${bt}px)`),oe&&(oe.style.transform=`translate(0px, ${bt}px)`),Qe.forEach(Yt=>{["header","body","footer"].forEach(tr=>{const ar=nr(S[`${Yt}-${tr}-ySpace`]);ar&&(ar.style.height=ct?`${ct}px`:"")})});const Gt=xt.value;Gt&&(Gt.style.height=ct?`${ct}px`:"");const Qt=Ae.value;return Qt&&(Qt.style.height=ct?`${ct}px`:""),p.scrollYTop=bt,p.scrollYHeight=We,p.isScrollYBig=Ot,Gs(),Ot&&X.area&&At("vxe.error.notProp",["mouse-config.area"]),B&&B.handleUpdateSYSpace&&B.handleUpdateSYSpace(),ge().then(()=>{$t()})},updateScrollXData(){const{isAllOverflow:o}=p;return gu(),C.updateScrollXSpace(),ge().then(()=>{gu(),C.updateScrollXSpace(),o||C.updateScrollYSpace()})},updateScrollYData(){return C.handleTableData(),C.updateScrollYSpace(),ge().then(()=>{C.handleTableData(),C.updateScrollYSpace()})},checkScrolling(){const{elemStore:o}=g,f=nr(o["main-body-scroll"]),v=re.value,x=ve.value,S=ut.value||f;S&&(v&&(S.scrollLeft>0?Lo(v,"scrolling--middle"):Wn(v,"scrolling--middle")),x&&(S.clientWidth<S.scrollWidth-Math.ceil(S.scrollLeft)?Lo(x,"scrolling--middle"):Wn(x,"scrolling--middle")))},handleUpdateAggData(){return El(g.tableSynchData,!0)},updateZindex(){e.zIndex?g.tZindex=e.zIndex:g.tZindex<O$()&&(g.tZindex=D$())},handleCheckedCheckboxRow:na,triggerHoverEvent(o,{row:f}){D.setHoverRow(f)},setHoverRow(o){const f=g.xeGanttView,v=It(C,o),x=I.value;D.clearHoverRow(),x&&u.arrayEach(x.querySelectorAll(`.vxe-body--row[rowid="${v}"]`),w=>Lo(w,"row--hover")),g.hoverRow=o,f&&f.handleUpdateHoverRow&&f.handleUpdateHoverRow(o)},clearHoverRow(){const o=g.xeGanttView,f=I.value;f&&u.arrayEach(f.querySelectorAll(".vxe-body--row.row--hover"),v=>Wn(v,"row--hover")),g.hoverRow=null,o&&o.handleUpdateHoverRow&&o.handleUpdateHoverRow()},getCell(o,f){return O.getCellElement(o,f)},findRowIndexOf(o,f){return f?u.findIndexOf(o,v=>C.eqRow(v,f)):-1},eqRow(o,f){return o&&f?o===f?!0:It(C,o)===It(C,f):!1},handleConnectGanttView(o){return o&&o.connectUpdate&&(o.connectUpdate({$table:C}),g.xeGanttView=o),ge()}},"openExport,openPrint,exportData,openImport,importData,saveFile,readFile,importByFile,print".split(",").forEach(o=>{C[o]=function(){At("vxe.error.reqModule",["Export"])}}),"clearValidate,fullValidate,validate".split(",").forEach(o=>{C[o]=function(){At("vxe.error.reqModule",["Validator"])}}),Object.assign(C,O,D);const CC=o=>{const{showHeader:f,showFooter:v}=e,{tableData:x,tableColumn:w,tableGroupColumn:S,columnStore:T,footerTableData:R}=p,P=o==="left",_=P?T.leftList:T.rightList;return m("div",{ref:P?re:ve,class:`vxe-table--fixed-${o}-wrapper`},[f?m(DT,{ref:P?k:G,fixedType:o,tableData:x,tableColumn:w,tableGroupColumn:S,fixedColumn:_}):In(C),m(ST,{ref:P?ne:J,fixedType:o,tableData:x,tableColumn:w,fixedColumn:_}),v?m(MT,{ref:P?fe:we,footerTableData:R,tableColumn:w,fixedColumn:_,fixedType:o}):In(C)])},PA=()=>{const o=Ur.value,f=r.empty,v={$table:C,$grid:h,gantt:c};if(f)return f(v);{const x=o.name?lx.get(o.name):null,w=x?x.renderTableEmpty||x.renderTableEmptyView||x.renderEmpty:null;if(w)return _n(w(o,v))}return $a(e.emptyText)||aa("vxe.table.emptyText")},kA=()=>{const{dragConfig:o}=e,{dragRow:f,dragCol:v,dragTipText:x}=p,w=Z.value,S=H.value,R=(S.slots||{}).tip||(o&&o.slots?o.slots.rowTip:null),_=(w.slots||{}).tip,B=f||(S.isCrossTableDrag?y.row:null);return B&&R?Gi(R,{row:B}):v&&_?Gi(_,{column:v}):[m("span",x)]},LA=()=>{const{dragRow:o,dragCol:f}=p,v=He.value,x=at.value,w=H.value,S=Z.value,T=o||(w.isCrossTableDrag?y.row:null);return v.drag||x.drag?m("div",{class:"vxe-table--drag-wrapper"},[m("div",{ref:Xe,class:["vxe-table--drag-row-line",{"is--guides":w.showGuidesStatus}]}),m("div",{ref:me,class:["vxe-table--drag-col-line",{"is--guides":S.showGuidesStatus}]}),T&&w.showDragTip||f&&S.showDragTip?m("div",{ref:le,class:"vxe-table--drag-sort-tip"},[m("div",{class:"vxe-table--drag-sort-tip-wrapper"},[m("div",{class:"vxe-table--drag-sort-tip-status"},[m("span",{class:["vxe-table--drag-sort-tip-normal-status",T?fc().TABLE_DRAG_STATUS_ROW:fc().TABLE_DRAG_STATUS_COLUMN]}),m("span",{class:["vxe-table--drag-sort-tip-sub-status",fc().TABLE_DRAG_STATUS_SUB_ROW]}),m("span",{class:["vxe-table--drag-sort-tip-disabled-status",fc().TABLE_DRAG_DISABLED]})]),m("div",{class:"vxe-table--drag-sort-tip-content"},kA())])]):In(C)]):In(C)},NA=()=>{const{treeConfig:o}=e,{expandColumn:f,isRowGroupStatus:v}=p,x=on.value,w=Or.value,{mode:S}=w;if(S!=="fixed")return In(C);const T=[m("div",{key:"repY",ref:Ae})];if(f){const{handleGetRowId:R}=hn(C);x.forEach(P=>{const _=Or.value,{height:B,padding:K,indent:X}=_,{fullAllDataRowIdData:ie,fullColumnIdData:de}=g,Q=er.value,{transform:Ce,seqMode:he}=Q,ye={},ae=R(P),oe=ie[ae],Qe=f.id,je=de[Qe]||{};let We=0,Ot=-1,St=-1,ct=-1,bt=-1;oe&&(ct=oe.index,bt=oe.$index,St=oe._index,We=oe.level,Ot=oe.seq,v||o&&Ce&&he==="increasing"?Ot=oe._index+1:o&&he==="fixed"&&(Ot=oe._tIndex+1)),B&&(ye.height=`${B}px`),(v||o)&&(ye.paddingLeft=`${We*(u.isNumber(X)?X:Q.indent)+30}px`);let Gt=-1,Qt=-1,Yt=-1;je&&(Gt=je.index,Qt=je.$index,Yt=je._index);const jt={$table:C,$grid:h,$gantt:c,seq:Ot,column:f,columnIndex:Gt,$columnIndex:Qt,_columnIndex:Yt,fixed:"",type:"body",level:We,rowid:ae,row:P,rowIndex:ct,$rowIndex:bt,_rowIndex:St,isHidden:!1,isEdit:!1,visibleData:[],data:[],items:[]};T.push(m("div",{key:ae,class:["vxe-body--row-expanded-cell",{"is--padding":K,"is--ellipsis":B}],rowid:ae,style:ye},f.renderData(jt)))})}return m("div",{ref:Te,class:"vxe-table--row-expanded-wrapper"},T)},yC=()=>m("div",{key:"vsx",ref:tt,class:"vxe-table--scroll-x-virtual"},[m("div",{ref:_e,class:"vxe-table--scroll-x-left-corner"}),m("div",{ref:Le,class:"vxe-table--scroll-x-wrapper"},[m("div",{ref:ut,class:"vxe-table--scroll-x-handle",onScroll:C.triggerVirtualScrollXEvent},[m("div",{ref:vt,class:"vxe-table--scroll-x-space"})]),m("div",{class:"vxe-table--scroll-x-handle-appearance"})]),m("div",{ref:te,class:"vxe-table--scroll-x-right-corner"})]),wC=()=>m("div",{ref:Ue,class:"vxe-table--scroll-y-virtual"},[m("div",{ref:ce,class:"vxe-table--scroll-y-top-corner"}),m("div",{ref:nt,class:"vxe-table--scroll-y-wrapper"},[m("div",{ref:$e,class:"vxe-table--scroll-y-handle",onScroll:C.triggerVirtualScrollYEvent},[m("div",{ref:xt,class:"vxe-table--scroll-y-space"})]),m("div",{class:"vxe-table--scroll-y-handle-appearance"})]),m("div",{ref:et,class:"vxe-table--scroll-y-bottom-corner"})]),EC=()=>{const{showHeader:o,showFooter:f}=e,{overflowX:v,tableData:x,tableColumn:w,tableGroupColumn:S,footerTableData:T,columnStore:R}=p,{leftList:P,rightList:_}=R;return m("div",{ref:V,class:"vxe-table--viewport-wrapper"},[m("div",{class:"vxe-table--main-wrapper"},[o?m(DT,{ref:j,tableData:x,tableColumn:w,tableGroupColumn:S}):In(C),m(ST,{ref:U,tableData:x,tableColumn:w}),f?m(MT,{ref:z,footerTableData:T,tableColumn:w}):In(C)]),m("div",{class:"vxe-table--fixed-wrapper"},[P&&P.length&&v?CC("left"):In(C),_&&_.length&&v?CC("right"):In(C)]),NA()])},SC=()=>{const o=Fe.value;return m("div",{class:"vxe-table--layout-wrapper"},o?[wC(),EC()]:[EC(),wC()])},_A=()=>{const{loading:o,stripe:f,showHeader:v,height:x,treeConfig:w,mouseConfig:S,showFooter:T,highlightCell:R,highlightHoverRow:P,highlightHoverColumn:_,editConfig:B,editRules:K}=e,{isGroup:X,overflowX:ie,overflowY:de,scrollXLoad:Q,scrollYLoad:Ce,tableData:he,initStore:ye,isRowGroupStatus:ae,columnStore:oe,filterStore:Qe,customStore:je,tooltipStore:We}=p,{teleportToWrapperElem:Ot}=g,{leftList:St,rightList:ct}=oe,bt=r.loading,Gt={header:r.headerTooltip||r["header-tooltip"],body:r.tooltip,footer:r.footerTooltip||r["footer-tooltip"]},Qt=We.visible&&We.type?Gt[We.type]:null,Yt=H.value,jt=wt.value,tr=ir.value,ar=ht.value,Er=qe.value,Sr=er.value,Rr=He.value,Jt=at.value,_r=E.value,qr=fo.value,br=Ct.value,Pr=Pt.value,Cr=Nr.value,hr=Fr.value,yr=p.isColLoading||p.isRowLoading||o,kr=De.value,Vr=S&&br.area,Lr=Z.value,fn=Wt.value,tn=Fe.value,{isCrossTableDrag:wn}=Yt,Cn={onKeydown:RA};return wn&&!he.length&&(Cn.onDragover=C.handleCrossTableRowDragoverEmptyEvent),m("div",Object.assign({ref:I,class:["vxe-table","vxe-table--render-default",`tid_${l}`,`border--${qr}`,`sx-pos--${fn?"top":"bottom"}`,`sy-pos--${tn?"left":"right"}`,{[`size--${_r}`]:_r,[`valid-msg--${ar.msgMode}`]:!!K,"vxe-editable":!!B,"old-cell-valid":K&&xr().cellVaildMode==="obsolete","cell--highlight":R,"cell--selected":S&&br.selected,"cell--area":Vr,"header-cell--area":Vr&&Pr.selectCellByHeader,"body-cell--area":Vr&&Pr.selectCellByBody,"row--highlight":Rr.isHover||P,"column--highlight":Jt.isHover||_,"checkbox--range":Er.range,"col--drag-cell":Jt.drag&&Lr.trigger==="cell","is--header":v,"is--footer":T,"is--group":X,"is-row-group":ae,"is--tree-line":w&&(Sr.showLine||Sr.line),"is--fixed-left":St.length,"is--fixed-right":ct.length,"is--animat":!!e.animat,"is--round":e.round,"is--stripe":!w&&f,"is--loading":yr,"is--empty":!yr&&!he.length,"is--scroll-y":de,"is--scroll-x":ie,"is--virtual-x":Q,"is--virtual-y":Ce}],spellcheck:!1},Cn),[m("div",{class:"vxe-table-slots"},r.default?r.default({}):[]),m("div",{ref:W,class:"vxe-table-vars"},[m("div",{class:"vxe-table-var-default"}),m("div",{class:"vxe-table-var-medium"}),m("div",{class:"vxe-table-var-small"}),m("div",{class:"vxe-table-var-mini"})]),m("div",{key:"tw",class:"vxe-table--render-wrapper"},fn?[yC(),SC()]:[SC(),yC()]),m("div",{key:"tn",ref:Pe,class:"vxe-table--empty-placeholder"},[m("div",{class:"vxe-table--empty-content"},PA())]),m("div",{key:"tl",class:"vxe-table--border-line"}),m("div",{key:"tcl",ref:Ee,class:"vxe-table--resizable-col-bar"},kr.showDragTip?[m("div",{class:"vxe-table--resizable-number-tip"})]:[]),m("div",{key:"ttw"},[m(Bl,{to:Ot,disabled:!(c&&Ot)},[m("div",{ref:se},[m("div",{key:"trl",ref:Re,class:"vxe-table--resizable-row-bar"},kr.showDragTip?[m("div",{class:"vxe-table--resizable-number-tip"})]:[]),ye.custom?m($_,{key:"cs",ref:q,customStore:je}):In(C),i?m(i,{key:"lg",class:"vxe-table--loading",modelValue:yr,icon:Cr.icon,text:Cr.text},bt?{default:()=>Gi(bt,{$table:C,$grid:h,$gantt:c,loading:yr})}:{}):bt?m("div",{class:["vxe-loading--custom-wrapper",{"is--visible":yr}]},Gi(bt,{$table:C,$grid:h,$gantt:c,loading:yr})):In(C),LA()])])]),ye.filter?m(A_,{key:"tf",ref:M,filterStore:Qe}):In(C),ye.import&&e.importConfig?m(k_,{key:"it",defaultOptions:p.importParams,storeData:p.importStore}):In(C),ye.export&&(e.exportConfig||e.printConfig)?m(L_,{key:"et",defaultOptions:p.exportParams,storeData:p.exportStore}):In(C),hr?m(__,{key:"tm",ref:F}):In(C),d?m("div",{},[m(d,{key:"ctp",ref:Y,isArrow:!1,enterable:!1}),m(d,{key:"btp",ref:N,theme:jt.theme,enterable:jt.enterable,enterDelay:jt.enterDelay,leaveDelay:jt.leaveDelay,useHTML:jt.useHTML,width:jt.width,height:jt.height,minWidth:jt.minWidth,minHeight:jt.minHeight,maxWidth:jt.maxWidth,maxHeight:jt.maxHeight},Qt?{content:()=>{const{type:mn,row:pn,column:ln,content:En}=We;if(Qt){if(ln&&mn==="header")return m("div",{key:mn},Qt({column:ln,tooltipContent:En,$table:C,$grid:h,$gantt:c}));if(pn&&ln&&mn==="body")return m("div",{key:mn},Qt({row:pn,column:ln,tooltipContent:En,$table:C,$grid:h,$gantt:c}));if(pn&&ln&&mn==="footer")return m("div",{key:mn},Qt({row:pn,column:ln,tooltipContent:En,$table:C,$grid:h,$gantt:c}))}return In(C)}}:{}),e.editRules&&ar.showMessage&&(ar.message==="default"?!x:ar.message==="tooltip")?m(d,{key:"vtp",ref:L,class:[{"old-cell-valid":K&&xr().cellVaildMode==="obsolete"},"vxe-table--valid-error"],theme:tr.theme,enterable:tr.enterable,enterDelay:tr.enterDelay,leaveDelay:tr.leaveDelay}):In(C)]):In(C)])},Cu=mt(0);sr(()=>e.data?e.data.length:-1,()=>{Cu.value++}),sr(()=>e.data,()=>{Cu.value++}),sr(Cu,()=>{const{initStatus:o}=g,f=e.data||[];f&&f.length>=5e4&&Zt("vxe.error.errLargeData",["loadData(data), reloadData(data)"]),El(f,!0).then(()=>{const{scrollXLoad:v,scrollYLoad:x,expandColumn:w}=p,S=Or.value;return g.inited=!0,g.initStatus=!0,o||Us(),(v||x)&&w&&S.mode!=="fixed"&&Zt("vxe.error.scrollErrProp",["column.type=expand"]),O.recalculate()})});const yu=mt(0);sr(()=>p.staticColumns.length,()=>{yu.value++}),sr(()=>p.staticColumns,()=>{yu.value++}),sr(yu,()=>{ge(()=>dC(u.clone(p.staticColumns)))});const wu=mt(0);sr(()=>p.tableColumn.length,()=>{wu.value++}),sr(()=>p.tableColumn,()=>{wu.value++}),sr(wu,()=>{D.analyColumnWidth()}),sr(()=>p.upDataFlag,()=>{ge(()=>{O.updateData()})}),sr(()=>p.reColumnFlag,()=>{ge(()=>{O.refreshColumn()})});const oa=mt(0);sr(E,()=>{oa.value++}),sr(()=>e.showHeader,()=>{oa.value++}),sr(()=>e.showFooter,()=>{oa.value++}),sr(()=>p.overflowX,()=>{oa.value++}),sr(()=>p.overflowY,()=>{oa.value++}),sr(()=>e.height,()=>{oa.value++}),sr(()=>e.maxHeight,()=>{oa.value++}),sr(Wt,()=>{oa.value++}),sr(Fe,()=>{oa.value++}),sr(()=>Se.getLanguage(),()=>{oa.value++}),sr(oa,()=>{C.recalculate(!0)});const Eu=mt(0);sr(()=>e.footerData?e.footerData.length:-1,()=>{Eu.value++}),sr(()=>e.footerData,()=>{Eu.value++}),sr(Eu,()=>{C.updateFooter()}),sr(()=>e.syncResize,o=>{o&&(mu(),ge(()=>{mu(),setTimeout(()=>mu())}))});const Su=mt(0);sr(()=>e.mergeCells?e.mergeCells.length:-1,()=>{Su.value++}),sr(()=>e.mergeCells,()=>{Su.value++}),sr(Su,()=>{va(e.mergeCells||[])});const Ru=mt(0);sr(()=>e.mergeHeaderCells?e.mergeHeaderCells.length:-1,()=>{Ru.value++}),sr(()=>e.mergeHeaderCells,()=>{Ru.value++}),sr(Ru,()=>{ba(e.mergeHeaderCells||[])});const Wi=mt(0);sr(()=>e.mergeFooterCells?e.mergeFooterCells.length:-1,()=>{Wi.value++}),sr(()=>e.mergeFooterCells,()=>{Wi.value++}),sr(()=>e.mergeFooterItems?e.mergeFooterItems.length:-1,()=>{Wi.value++}),sr(()=>e.mergeFooterItems,()=>{Wi.value++}),sr(Wi,()=>{const o=e.mergeFooterCells||e.mergeFooterItems;Ca(o||[])}),sr(Oo,o=>{Ws(o)}),sr(Tt,()=>{const{inited:o,tableFullData:f}=g;o&&(ta(),p.tableData=[],ge(()=>{C.reloadData(f)}))}),s&&sr(()=>s?s.reactData.resizeFlag:null,()=>{bC()}),ta(),Eq.forEach(o=>{const{setupTable:f}=o;if(f){const v=f(C);v&&u.isObject(v)&&Object.assign(C,v)}}),D.preventEvent(null,"created",{$table:C});let Ui;return e0(()=>{O.recalculate().then(()=>O.refreshScroll()),D.preventEvent(null,"activated",{$table:C})}),t0(()=>{const{filterStore:o}=p;o.visible&&C.clearFilter(),C.closeTooltip(),g.isActivated=!1,D.preventEvent(null,"deactivated",{$table:C})}),jn(()=>{const o=at.value,f=He.value,v=Jr.value,x=dt.value,w=Nt.value,{groupFields:S}=x;if(c){const{refClassifyWrapperElem:T}=c.getRefMaps(),R=T.value;R&&(g.teleportToWrapperElem=R)}if((o.drag||f.drag||v.allowSort)&&F$(),Ws(S),ge(()=>{const{data:T,exportConfig:R,importConfig:P,treeConfig:_,showOverflow:B,highlightCurrentRow:K,highlightCurrentColumn:X}=e,{scrollXStore:ie,scrollYStore:de}=g,Q=be.value,Ce=er.value,he=Be.value,ye=qe.value,ae=Or.value,oe=He.value,Qe=Jr.value,je=Ct.value,We=zr.value,Ot=Hr.value,St=$.value,ct=ee.value,bt=zt.value,Gt=dt.value,Qt=H.value;if(e.rowId&&Zt("vxe.error.delProp",["row-id","row-config.keyField"]),e.rowKey&&Zt("vxe.error.delProp",["row-key","row-config.useKey"]),e.columnKey&&Zt("vxe.error.delProp",["column-id","column-config.useKey"]),!(e.rowId||oe.keyField)&&(ye.reserve||ye.checkRowKeys||he.reserve||he.checkRowKey||ae.expandRowKeys||Ce.expandRowKeys)&&Zt("vxe.error.reqProp",["row-config.keyField"]),e.editConfig&&(Q.showStatus||Q.showUpdateStatus||Q.showInsertStatus)&&!e.keepSource&&Zt("vxe.error.reqProp",["keep-source"]),_&&(Ce.showLine||Ce.line)&&!B&&Zt("vxe.error.reqProp",["show-overflow"]),_&&!Ce.transform&&e.stripe&&Zt("vxe.error.noTree",["stripe"]),e.showFooter&&!(e.footerMethod||e.footerData)&&Zt("vxe.error.reqProp",["footer-data | footer-method"]),oe.height&&Zt("vxe.error.delProp",["row-config.height","cell-config.height"]),e.highlightCurrentRow&&Zt("vxe.error.delProp",["highlight-current-row","row-config.isCurrent"]),e.highlightHoverRow&&Zt("vxe.error.delProp",["highlight-hover-row","row-config.isHover"]),e.highlightCurrentColumn&&Zt("vxe.error.delProp",["highlight-current-column","column-config.isCurrent"]),e.highlightHoverColumn&&Zt("vxe.error.delProp",["highlight-hover-column","column-config.isHover"]),e.resizable&&Zt("vxe.error.delProp",["resizable","column-config.resizable"]),e.virtualXConfig&&e.scrollX&&Zt("vxe.error.notSupportProp",["virtual-x-config","scroll-x","scroll-x=null"]),e.virtualYConfig&&e.scrollY&&Zt("vxe.error.notSupportProp",["virtual-y-config","scroll-y","scroll-y=null"]),e.aggregateConfig&&e.rowGroupConfig&&Zt("vxe.error.notSupportProp",["aggregate-config","row-group-config","row-group-config=null"]),P&&Ot.types&&!Ot.importMethod&&!u.includeArrays(u.keys(Ot._typeMaps),Ot.types)&&Zt("vxe.error.errProp",[`export-config.types=${Ot.types.join(",")}`,Ot.types.filter(Yt=>u.includes(u.keys(Ot._typeMaps),Yt)).join(",")||u.keys(Ot._typeMaps).join(",")]),R&&We.types&&!We.exportMethod&&!u.includeArrays(u.keys(We._typeMaps),We.types)&&Zt("vxe.error.errProp",[`export-config.types=${We.types.join(",")}`,We.types.filter(Yt=>u.includes(u.keys(We._typeMaps),Yt)).join(",")||u.keys(We._typeMaps).join(",")]),e.id||(e.customConfig?pr(Qe):Qe.enabled)&&Qe.storage&&At("vxe.error.reqProp",["id"]),e.treeConfig&&ye.range&&At("vxe.error.noTree",["checkbox-config.range"]),oe.height&&!e.showOverflow&&Zt("vxe.error.notProp",["table.show-overflow"]),!C.triggerCellAreaModnEvent&&(e.areaConfig&&Zt("vxe.error.notProp",["area-config"]),e.clipConfig&&Zt("vxe.error.notProp",["clip-config"]),e.fnrConfig&&Zt("vxe.error.notProp",["fnr-config"]),je.area)){At("vxe.error.notProp",["mouse-config.area"]);return}if(!C.handlePivotTableAggregateData){if(Qe.allowGroup){At("vxe.error.notProp",["custom-config.allowGroup"]);return}if(Qe.allowValues){At("vxe.error.notProp",["custom-config.allowValues"]);return}}if(_&&oe.drag&&!Ce.transform&&At("vxe.error.notSupportProp",["row-config.drag","tree-config.transform=false","tree-config.transform=true"]),_&&Qt.isCrossTableDrag&&!Qt.isCrossDrag&&At("vxe.error.reqSupportProp",["tree-config & row-drag-config.isCrossTableDrag","row-drag-config.isCrossDrag"]),e.dragConfig&&Zt("vxe.error.delProp",["drag-config","row-drag-config"]),e.rowGroupConfig&&Zt("vxe.error.delProp",["row-group-config","aggregate-config"]),Gt.countFields&&Zt("vxe.error.delProp",["row-group-config.countFields","column.agg-func"]),Gt.aggregateMethod&&Zt("vxe.error.delProp",["row-group-config.aggregateMethod","aggregate-config.calcValuesMethod"]),Gt.countMethod&&Zt("vxe.error.delProp",["aggregate-config.countMethod","aggregate-config.calcValuesMethod"]),e.treeConfig&&Ce.children&&Zt("vxe.error.delProp",["tree-config.children","tree-config.childrenField"]),e.treeConfig&&Ce.line&&Zt("vxe.error.delProp",["tree-config.line","tree-config.showLine"]),je.area&&je.selected&&Zt("vxe.error.errConflicts",["mouse-config.area","mouse-config.selected"]),je.area&&e.treeConfig&&!Ce.transform&&At("vxe.error.noTree",["mouse-config.area"]),e.editConfig&&Q.activeMethod&&Zt("vxe.error.delProp",["edit-config.activeMethod","edit-config.beforeEditMethod"]),e.treeConfig&&ye.isShiftKey&&At("vxe.error.errConflicts",["tree-config","checkbox-config.isShiftKey"]),ye.halfField&&Zt("vxe.error.delProp",["checkbox-config.halfField","checkbox-config.indeterminateField"]),_&&u.arrayEach(["rowField","parentField","childrenField","hasChildField","mapChildrenField"],Yt=>{const jt=Ce[Yt];jt&&jt.indexOf(".")>-1&&At("vxe.error.errProp",[`${Yt}=${jt}`,`${Yt}=${jt.split(".")[0]}`])}),oe.currentMethod&&Zt("vxe.error.delProp",["row-config.currentMethod","current-row-config.beforeSelectMethod"]),o.currentMethod&&Zt("vxe.error.delProp",["row-config.currentMethod","current-column-config.beforeSelectMethod"]),(oe.isCurrent||K)&&e.keyboardConfig&&bt.isArrow&&!u.isBoolean(St.isFollowSelected)&&Zt("vxe.error.notConflictProp",["row-config.isCurrent","current-row-config.isFollowSelected"]),(o.isCurrent||X)&&e.keyboardConfig&&bt.isArrow&&!u.isBoolean(ct.isFollowSelected)&&Zt("vxe.error.notConflictProp",["column-config.isCurrent","current-column-config.isFollowSelected"]),e.editConfig&&!C.insert&&At("vxe.error.reqModule",["Edit"]),e.editRules&&!C.validate&&At("vxe.error.reqModule",["Validator"]),(ye.range||e.keyboardConfig||e.mouseConfig)&&!C.handleCellMousedownEvent&&At("vxe.error.reqModule",["Keyboard"]),(e.printConfig||e.importConfig||e.exportConfig)&&!C.exportData&&At("vxe.error.reqModule",["Export"]),Object.assign(de,{startIndex:0,endIndex:0,visibleSize:0}),Object.assign(ie,{startIndex:0,endIndex:0,visibleSize:0}),El(T||[],!0).then(()=>{T&&T.length&&(g.inited=!0,g.initStatus=!0,Us()),cA(),$t()}),e.autoResize){const Yt=I.value,jt=D.getParentElem();Ui=wq.create(()=>{e.autoResize&&iC()}),Yt&&Ui.observe(Yt),jt&&Ui.observe(jt)}}),w.mode!=="scroll"){const T=V.value;T&&T.addEventListener("wheel",C.triggerBodyWheelEvent,{passive:!1})}Kr.on(C,"paste",OA),Kr.on(C,"copy",TA),Kr.on(C,"cut",MA),Kr.on(C,"mousedown",wA),Kr.on(C,"blur",EA),Kr.on(C,"mousewheel",SA),Kr.on(C,"keydown",DA),Kr.on(C,"resize",bC),Kr.on(C,"contextmenu",C.handleGlobalContextmenuEvent),C.preventEvent(null,"mounted",{$table:C})}),Rs(()=>{const o=V.value;o&&o.removeEventListener("wheel",C.triggerBodyWheelEvent),g.cvCacheMaps={},g.prevDragRow=null,g.prevDragCol=null,Ui&&Ui.disconnect(),O.closeFilter(),C.closeMenu&&C.closeMenu(),Kr.off(C,"paste"),Kr.off(C,"copy"),Kr.off(C,"cut"),Kr.off(C,"mousedown"),Kr.off(C,"blur"),Kr.off(C,"mousewheel"),Kr.off(C,"keydown"),Kr.off(C,"resize"),Kr.off(C,"contextmenu"),D.preventEvent(null,"beforeUnmount",{$table:C})}),xo(()=>{D.preventEvent(null,"unmounted",{$table:C}),u.assign(g,cT())}),ge(()=>{e.loading&&!i&&!r.loading&&(At("vxe.error.errProp",["loading=true","loading=false | <template #loading>...</template>"]),At("vxe.error.reqComp",["vxe-loading"])),(e.showOverflow===!0||e.showOverflow==="tooltip"||e.showHeaderOverflow===!0||e.showHeaderOverflow==="tooltip"||e.showFooterOverflow===!0||e.showFooterOverflow==="tooltip"||e.tooltipConfig||e.editRules)&&(d||(e.showOverflow===!0&&At("vxe.error.errProp",["show-overflow=true","show-overflow=title"]),e.showOverflow==="tooltip"&&At("vxe.error.errProp",["show-overflow=tooltip","show-overflow=title"]),e.showHeaderOverflow===!0&&At("vxe.error.errProp",["show-header-overflow=true","show-header-overflow=title"]),e.showHeaderOverflow==="tooltip"&&At("vxe.error.errProp",["show-header-overflow=tooltip","show-header-overflow=title"]),e.showFooterOverflow===!0&&At("vxe.error.errProp",["show-footer-overflow=true","show-footer-overflow=title"]),e.showFooterOverflow==="tooltip"&&At("vxe.error.errProp",["show-footer-overflow=tooltip","show-footer-overflow=title"]),At("vxe.error.reqComp",["vxe-tooltip"])))}),ao("$xeColgroup",null),ao("$xeTable",C),C.renderVN=_A,C},render(){return this.renderVN()}}),{getConfig:la,getIcon:ul,getI18n:li,renderer:JT,commands:QT,createEvent:Rq,useFns:Dq}=Se;function eM(){return{connectTable:null}}const Hl=Bo({name:"VxeToolbar",props:{loading:Boolean,refresh:[Boolean,Object],refreshOptions:Object,import:[Boolean,Object],importOptions:Object,export:[Boolean,Object],exportOptions:Object,print:[Boolean,Object],printOptions:Object,zoom:[Boolean,Object],zoomOptions:Object,custom:[Boolean,Object],customOptions:Object,buttons:{type:Array,default:()=>la().toolbar.buttons},tools:{type:Array,default:()=>la().toolbar.tools},perfect:{type:Boolean,default:()=>la().toolbar.perfect},size:{type:String,default:()=>la().toolbar.size||la().size},className:[String,Function]},emits:["button-click","tool-click"],setup(e,t){const{slots:r,emit:n}=t,l=u.uniqueId(),a=Se.getComponent("VxeButton"),i=mr("$xeGrid",null),d=mr("$xeGantt",null),s=i||d,{computeSize:h}=Dq.useSize(e),c=rn({isRefresh:!1,connectFlag:0,columns:[]}),b=eM(),E=mt(),y={refElem:E},p={xID:l,props:e,context:t,reactData:c,internalData:b,getRefMaps:()=>y};let g={};const O=ue(()=>Object.assign({},u.clone(la().toolbar.refresh,!0),e.refreshOptions,e.refresh)),D=ue(()=>Object.assign({},u.clone(la().toolbar.import,!0),e.importOptions,e.import)),I=ue(()=>Object.assign({},u.clone(la().toolbar.export,!0),e.exportOptions,e.export)),W=ue(()=>Object.assign({},u.clone(la().toolbar.print,!0),e.printOptions,e.print)),N=ue(()=>Object.assign({},u.clone(la().toolbar.zoom,!0),e.zoomOptions,e.zoom)),Y=ue(()=>Object.assign({},u.clone(la().toolbar.custom,!0),e.customOptions,e.custom)),L=ue(()=>{const{connectTable:_e}=b,te=_e;if((c.connectFlag||te)&&te){const{computeCustomOpts:$e}=te.getComputeMaps();return $e.value}return{trigger:""}}),F=ue(()=>L.value.trigger),M=()=>{const{connectTable:_e}=b;if(_e)return!0;At("vxe.error.barUnableLink")},q=({$event:_e})=>{const{connectTable:te}=b,$e=te;$e&&$e.triggerCustomEvent&&$e.triggerCustomEvent(_e)},V=({$event:_e})=>{const{connectTable:te}=b,$e=te;$e&&$e.customOpenEvent(_e)},j=({$event:_e})=>{const{connectTable:te}=b,$e=te;if($e){const{customStore:ce}=$e.reactData;ce.activeBtn=!1,setTimeout(()=>{!ce.activeBtn&&!ce.activeWrapper&&$e.customCloseEvent(_e)},350)}},U=({$event:_e})=>{const{isRefresh:te}=c,$e=O.value;if(!te){const ce=$e.queryMethod||$e.query;if(ce){c.isRefresh=!0;try{Promise.resolve(ce({})).catch(Le=>Le).then(()=>{c.isRefresh=!1})}catch(Le){c.isRefresh=!1}}else s&&(c.isRefresh=!0,s.triggerToolbarCommitEvent({code:$e.code||"reload"},_e).catch(()=>{}).then(()=>{c.isRefresh=!1}))}},z=({$event:_e})=>{s?s.triggerZoomEvent(_e):Zt("vxe.error.notProp",["zoom"])},k=()=>{if(M()){const{connectTable:_e}=b,te=_e;te&&te.importData()}},ne=()=>{if(M()){const{connectTable:_e}=b,te=_e;te&&te.openImport()}},fe=()=>{if(M()){const{connectTable:_e}=b,te=_e;te&&te.exportData()}},G=()=>{if(M()){const{connectTable:_e}=b,te=_e;te&&te.openExport()}},J=()=>{if(M()){const{connectTable:_e}=b,te=_e;te&&te.print()}},we=()=>{if(M()){const{connectTable:_e}=b,te=_e;te&&te.openPrint()}},se=(_e,te,$e)=>{switch(te.code){case"print":J();break;case"open_print":we();break;case"custom":q(_e);break;case"export":fe();break;case"open_export":G();break;case"import":k();break;case"open_import":ne();break;case"zoom":z(_e);break;case"refresh":U(_e);break;default:$e();break}},re=(_e,te)=>{const{$event:$e}=_e,{connectTable:ce}=b,Le=ce,{code:nt}=te;nt&&se(_e,te,()=>{if(s)s.triggerToolbarBtnEvent(te,$e);else{const et=QT.get(nt),vt={code:nt,button:te,$table:Le,$grid:i,$gantt:d,$event:$e};if(et){const xt=et.tableCommandMethod||et.commandMethod;xt?xt(vt):At("vxe.error.notCommands",[nt])}p.dispatchEvent("button-click",vt,$e)}})},ve=(_e,te)=>{const{$event:$e}=_e,{connectTable:ce}=b,Le=ce,{code:nt}=te;nt&&se(_e,te,()=>{if(s)s.triggerToolbarTolEvent(te,$e);else{const et=QT.get(nt),vt={code:nt,button:null,tool:te,$table:Le,$grid:i,$gantt:d,$event:$e};if(et){const xt=et.tableCommandMethod||et.commandMethod;xt?xt(vt):At("vxe.error.notCommands",[nt])}p.dispatchEvent("tool-click",vt,$e)}})};g={dispatchEvent:(_e,te,$e)=>{n(_e,Rq($e,{$toolbar:p},te))},syncUpdate(_e){b.connectTable=_e.$table,c.columns=_e.collectColumn,c.connectFlag++}},Object.assign(p,g);const Re=(_e,te)=>{const{dropdowns:$e}=_e,ce=[];return $e?$e.map((Le,nt)=>Le.visible===!1?Ht():a?m(a,{key:nt,disabled:Le.disabled,loading:Le.loading,type:Le.type,mode:Le.mode,icon:Le.icon,circle:Le.circle,round:Le.round,status:Le.status,content:Le.name,title:Le.title,routerLink:Le.routerLink,permissionCode:Le.permissionCode,prefixTooltip:Le.prefixTooltip,suffixTooltip:Le.suffixTooltip,onClick:et=>te?re(et,Le):ve(et,Le)}):Ht()):ce},Pe=()=>{const{buttons:_e}=e,{connectTable:te}=b,$e=te,ce=r.buttonPrefix||r["button-prefix"],Le=r.buttonSuffix||r["button-suffix"],nt=[];return ce&&nt.push(..._n(ce({buttons:_e||[],$grid:i,$gantt:d,$table:$e}))),_e&&_e.forEach((et,vt)=>{const{dropdowns:xt,buttonRender:Dt}=et;if(et.visible!==!1){const gt=Dt?JT.get(Dt.name):null;if(Dt&&gt&&gt.renderToolbarButton){const Tt=gt.toolbarButtonClassName,ht={$grid:i,$gantt:d,$table:$e,button:et};nt.push(m("span",{key:`br${et.code||vt}`,class:["vxe-button--item",Tt?u.isFunction(Tt)?Tt(ht):Tt:""]},_n(gt.renderToolbarButton(Dt,ht))))}else a&&nt.push(m(a,{key:`bd${et.code||vt}`,disabled:et.disabled,loading:et.loading,type:et.type,mode:et.mode,icon:et.icon,circle:et.circle,round:et.round,status:et.status,content:et.name,title:et.title,routerLink:et.routerLink,permissionCode:et.permissionCode,prefixTooltip:et.prefixTooltip,suffixTooltip:et.suffixTooltip,destroyOnClose:et.destroyOnClose,placement:et.placement,transfer:et.transfer,onClick:Tt=>re(Tt,et)},xt&&xt.length?{dropdowns:()=>Re(et,!0)}:{}))}}),Le&&nt.push(..._n(Le({buttons:_e||[],$grid:i,$gantt:d,$table:$e}))),nt},le=()=>{const{tools:_e}=e,{connectTable:te}=b,$e=te,ce=r.toolPrefix||r["tool-prefix"],Le=r.toolSuffix||r["tool-suffix"],nt=[];return ce&&nt.push(..._n(ce({tools:_e||[],$grid:i,$gantt:d,$table:$e}))),_e&&_e.forEach((et,vt)=>{const{dropdowns:xt,toolRender:Dt}=et;if(et.visible!==!1){const gt=Dt?Dt.name:null,Tt=Dt?JT.get(gt):null;if(Dt&&Tt&&Tt.renderToolbarTool){const ht=Tt.toolbarToolClassName,yt={$grid:i,$gantt:d,$table:$e,tool:et};nt.push(m("span",{key:gt,class:["vxe-tool--item",ht?u.isFunction(ht)?ht(yt):ht:""]},_n(Tt.renderToolbarTool(Dt,yt))))}else a&&nt.push(m(a,{key:vt,disabled:et.disabled,loading:et.loading,type:et.type,mode:et.mode,icon:et.icon,circle:et.circle,round:et.round,status:et.status,content:et.name,title:et.title,routerLink:et.routerLink,permissionCode:et.permissionCode,prefixTooltip:et.prefixTooltip,suffixTooltip:et.suffixTooltip,destroyOnClose:et.destroyOnClose,placement:et.placement,transfer:et.transfer,onClick:ht=>ve(ht,et)},xt&&xt.length?{dropdowns:()=>Re(et,!1)}:{}))}}),Le&&nt.push(..._n(Le({tools:_e||[],$grid:i,$gantt:d,$table:$e}))),nt},Xe=()=>{const _e=D.value;return a?m(a,{key:"import",circle:!0,icon:_e.icon||ul().TOOLBAR_TOOLS_IMPORT,title:li("vxe.toolbar.import"),onClick:ne}):Ht()},me=()=>{const _e=I.value;return a?m(a,{key:"export",circle:!0,icon:_e.icon||ul().TOOLBAR_TOOLS_EXPORT,title:li("vxe.toolbar.export"),onClick:G}):Ht()},Te=()=>{const _e=W.value;return a?m(a,{key:"print",circle:!0,icon:_e.icon||ul().TOOLBAR_TOOLS_PRINT,title:li("vxe.toolbar.print"),onClick:we}):Ht()},Ae=()=>{const _e=O.value;return a?m(a,{key:"refresh",circle:!0,icon:c.isRefresh?_e.iconLoading||ul().TOOLBAR_TOOLS_REFRESH_LOADING:_e.icon||ul().TOOLBAR_TOOLS_REFRESH,title:li("vxe.toolbar.refresh"),onClick:U}):Ht()},tt=()=>{const _e=N.value;return s&&a?m(a,{key:"zoom",circle:!0,icon:s.isMaximized()?_e.iconOut||ul().TOOLBAR_TOOLS_MINIMIZE:_e.iconIn||ul().TOOLBAR_TOOLS_FULLSCREEN,title:li(`vxe.toolbar.zoom${s.isMaximized()?"Out":"In"}`),onClick:z}):Ht()},Ue=()=>{const _e=Y.value,te=F.value,$e={};return te==="manual"||(te==="hover"?($e.onMouseenter=V,$e.onMouseleave=j):$e.onClick=q),a?m(a,Object.assign({key:"custom",circle:!0,icon:_e.icon||ul().TOOLBAR_TOOLS_CUSTOM,title:li("vxe.toolbar.custom"),className:"vxe-toolbar-custom-target"},$e)):Ht()},ut=()=>{const{perfect:_e,loading:te,refresh:$e,zoom:ce,custom:Le,className:nt}=e,{connectTable:et}=b,vt=h.value,xt=r.tools,Dt=r.buttons,gt=et;return m("div",{ref:E,class:["vxe-toolbar",nt?u.isFunction(nt)?nt({$toolbar:p}):nt:"",{[`size--${vt}`]:vt,"is--perfect":_e,"is--loading":te}]},[m("div",{class:"vxe-buttons--wrapper"},Dt?Dt({$grid:i,$gantt:d,$table:gt}):Pe()),m("div",{class:"vxe-tools--wrapper"},xt?xt({$grid:i,$gantt:d,$table:gt}):le()),m("div",{class:"vxe-tools--operate"},[e.import?Xe():Ht(),e.export?me():Ht(),e.print?Te():Ht(),$e?Ae():Ht(),ce&&s?tt():Ht(),Le?Ue():Ht()])])};return p.renderVN=ut,ge(()=>{const _e=O.value,te=_e.queryMethod||_e.query;e.refresh&&!s&&!te&&Zt("vxe.error.notFunc",["queryMethod"]),u.isPlainObject(e.custom)&&Zt("vxe.error.delProp",["custom={...}","custom=boolean & custom-options={...}"]),u.isPlainObject(e.print)&&Zt("vxe.error.delProp",["print={...}","print=boolean & print-options={...}"]),u.isPlainObject(e.export)&&Zt("vxe.error.delProp",["export={...}","export=boolean & export-options={...}"]),u.isPlainObject(e.import)&&Zt("vxe.error.delProp",["import={...}","import=boolean & import-options={...}"]),u.isPlainObject(e.refresh)&&Zt("vxe.error.delProp",["refresh={...}","refresh=boolean & refresh-options={...}"]),u.isPlainObject(e.refresh)&&Zt("vxe.error.delProp",["zoom={...}","zoom=boolean & zoom-options={...}"]);const $e=Y.value;$e.isFooter&&Zt("vxe.error.delProp",["toolbar.custom.isFooter","table.custom-config.showFooter"]),$e.showFooter&&Zt("vxe.error.delProp",["toolbar.custom.showFooter","table.custom-config.showFooter"]),$e.immediate&&Zt("vxe.error.delProp",["toolbar.custom.immediate","table.custom-config.immediate"]),$e.trigger&&Zt("vxe.error.delProp",["toolbar.custom.trigger","table.custom-config.trigger"]),(e.refresh||e.import||e.export||e.print||e.zoom)&&(a||At("vxe.error.reqComp",["vxe-button"]))}),xo(()=>{u.assign(b,eM())}),p},render(){return this.renderVN()}}),{getConfig:Al,getI18n:ii,commands:Oq,hooks:Tq,useFns:Mq,createEvent:Iq,globalEvents:ix,GLOBAL_EVENT_KEYS:Fq,renderEmptyElement:Oa}=Se,$q=Object.keys($c),tM=["clearAll","syncData","updateData","loadData","reloadData","reloadRow","loadColumn","reloadColumn","getRowNode","getColumnNode","getRowIndex","getVTRowIndex","getVMRowIndex","getColumnIndex","getVTColumnIndex","getVMColumnIndex","setRow","createData","createRow","revertData","clearData","isRemoveByRow","isInsertByRow","isUpdateByRow","getColumns","getColumnById","getColumnByField","getTableColumn","getFullColumns","getData","getCheckboxRecords","getParentRow","getTreeRowChildren","getTreeRowLevel","getTreeParentRow","getRowSeq","getRowById","getRowid","getTableData","getFullData","setColumnFixed","clearColumnFixed","setColumnWidth","getColumnWidth","recalcRowHeight","setRowHeightConf","getRowHeightConf","setRowHeight","getRowHeight","hideColumn","showColumn","resetColumn","refreshColumn","refreshScroll","recalculate","closeTooltip","isAllCheckboxChecked","isAllCheckboxIndeterminate","getCheckboxIndeterminateRecords","setCheckboxRow","setCheckboxRowKey","isCheckedByCheckboxRow","isCheckedByCheckboxRowKey","isIndeterminateByCheckboxRow","isIndeterminateByCheckboxRowKey","toggleCheckboxRow","setAllCheckboxRow","getRadioReserveRecord","clearRadioReserve","getCheckboxReserveRecords","clearCheckboxReserve","toggleAllCheckboxRow","clearCheckboxRow","setCurrentRow","isCheckedByRadioRow","isCheckedByRadioRowKey","setRadioRow","setRadioRowKey","clearCurrentRow","clearRadioRow","getCurrentRecord","getRadioRecord","getCurrentColumn","setCurrentColumn","clearCurrentColumn","setPendingRow","togglePendingRow","hasPendingByRow","isPendingByRow","getPendingRecords","clearPendingRow","setFilterByEvent","sort","setSort","setSortByEvent","clearSort","clearSortByEvent","isSort","getSortColumns","closeFilter","isFilter","clearFilterByEvent","isActiveFilterByColumn","isRowExpandLoaded","clearRowExpandLoaded","reloadRowExpand","reloadRowExpand","toggleRowExpand","setAllRowExpand","setRowExpand","isExpandByRow","isRowExpandByRow","clearRowExpand","clearRowExpandReserve","getRowExpandRecords","getTreeExpandRecords","isTreeExpandLoaded","clearTreeExpandLoaded","reloadTreeExpand","reloadTreeChilds","toggleTreeExpand","setAllTreeExpand","setTreeExpand","isTreeExpandByRow","clearTreeExpand","clearTreeExpandReserve","getScroll","scrollTo","scrollToRow","scrollToColumn","clearScroll","updateFooter","updateStatus","setMergeCells","removeInsertRow","removeMergeCells","getMergeCells","setMergeHeaderCells","removeMergeHeaderCells","getMergeHeaderCells","clearMergeHeaderCells","clearMergeCells","setMergeFooterItems","removeMergeFooterItems","getMergeFooterItems","clearMergeFooterItems","getCustomStoreData","setRowGroupExpand","setRowGroupExpandByField","setAllRowGroupExpand","clearRowGroupExpand","isRowGroupExpandByRow","isRowGroupRecord","isAggregateRecord","isAggregateExpandByRow","getAggregateContentByRow","getAggregateRowChildren","setRowGroups","clearRowGroups","openTooltip","moveColumnTo","moveRowTo","getCellLabel","getCellElement","focus","blur","connect","connectToolbar"];function rM(){return{}}const Ci=Bo({name:"VxeGrid",props:E_,emits:S_,setup(e,t){var r;const{slots:n,emit:l}=t,a=u.uniqueId(),i=Se.getComponent("VxeForm"),d=Se.getComponent("VxePager"),s=[["Form"],["Toolbar","Top","Table","Bottom","Pager"]],{computeSize:h}=Mq.useSize(e),c=rn({tableLoading:!1,proxyInited:!1,isZMax:!1,tableData:[],filterData:[],formData:{},sortData:[],tZindex:0,tablePage:{total:0,pageSize:((r=Al().pager)===null||r===void 0?void 0:r.pageSize)||10,currentPage:1}}),b=rM(),E=mt(),y=mt(),p=mt(),g=mt(),O=mt(),D=mt(),I=mt(),W=mt(),N=mt(),Y=mt(),L=$=>{const H={};return $.forEach(Z=>{H[Z]=(...xe)=>{const De=y.value;if(De&&De[Z])return De[Z](...xe)}}),H},F=L(tM);tM.forEach($=>{F[$]=(...H)=>{const Z=y.value;if(Z&&Z[$])return Z&&Z[$](...H)}});const M=ue(()=>u.merge({},u.clone(Al().grid.proxyConfig,!0),e.proxyConfig)),q=ue(()=>{const $=M.value;return!!(u.isBoolean($.message)?$.message:$.showResponseMsg)}),V=ue(()=>{const $=M.value;return u.isBoolean($.showActionMsg)?$.showActionMsg:!!$.showActiveMsg}),j=ue(()=>Object.assign({},Al().grid.pagerConfig,e.pagerConfig)),U=ue(()=>Object.assign({},Al().grid.formConfig,e.formConfig)),z=ue(()=>Object.assign({},Al().grid.toolbarConfig,e.toolbarConfig)),k=ue(()=>Object.assign({},Al().grid.zoomConfig,e.zoomConfig)),ne=ue(()=>{const{height:$,maxHeight:H}=e,{isZMax:Z,tZindex:xe}=c,De={};return Z?De.zIndex=xe:($&&(De.height=$==="auto"||$==="100%"?"100%":Ss($)),H&&(De.maxHeight=H==="auto"||H==="100%"?"100%":Ss(H))),De}),fe=ue(()=>{const $={};return $q.forEach(H=>{$[H]=e[H]}),$}),G=ue(()=>{const{seqConfig:$,pagerConfig:H,editConfig:Z,proxyConfig:xe}=e,{isZMax:De,tablePage:ke}=c,Be=fe.value,qe=M.value,it=j.value,ft=Ee.value,Ve=Object.assign({},Be);return De&&(Be.maxHeight?Ve.maxHeight="100%":Ve.height="100%"),xe&&pr(qe)&&(Ve.loading=ft,H&&qe.seq&&pr(it)&&(Ve.seqConfig=Object.assign({},$,{startIndex:(ke.currentPage-1)*ke.pageSize}))),Z&&(Ve.editConfig=Object.assign({},Z)),Ve}),J=ue(()=>{const{layouts:$}=e;let H=[];$&&$.length?H=$:H=Al().grid.layouts||s;let Z=[],xe=[],De=[];return H.length&&(u.isArray(H[0])?(Z=H[0],xe=H[1]||[],De=H[2]||[]):xe=H),{headKeys:Z,bodyKeys:xe,footKeys:De}}),we=ue(()=>j.value.currentPage),se=ue(()=>j.value.pageSize),re=ue(()=>j.value.total),ve=ue(()=>{const{tablePage:$}=c;return Math.max(Math.ceil($.total/$.pageSize),1)}),Ee=ue(()=>{const{loading:$,proxyConfig:H}=e,{tableLoading:Z}=c,xe=M.value,{showLoading:De}=xe;return $||Z&&De&&H&&pr(xe)}),Re={refElem:E,refTable:y,refForm:p,refToolbar:g,refPager:O},Pe={computeProxyOpts:M,computePagerOpts:j,computeFormOpts:U,computeToolbarOpts:z,computeZoomOpts:k},le={xID:a,props:e,context:t,reactData:c,internalData:b,getRefMaps:()=>Re,getComputeMaps:()=>Pe},Xe=()=>{const $=z.value;e.toolbarConfig&&pr($)&&ge(()=>{const H=y.value,Z=g.value;H&&Z&&H.connectToolbar(Z)})},me=()=>{const{proxyConfig:$}=e,{formData:H}=c,Z=M.value,xe=U.value;return $&&pr(Z)&&Z.form?H:xe.data},Te=$=>{const{tablePage:H}=c,{pagerConfig:Z}=e,xe=j.value;if(Z&&pr(xe))if($)xe[$]&&(H[$]=u.toNumber(xe[$]));else{const{currentPage:De,pageSize:ke,total:Be}=xe;De&&(H.currentPage=De),ke&&(H.pageSize=ke),Be&&(H.total=Be)}},Ae=$=>{const H=V.value,Z=y.value,xe=Z?Z.getCheckboxRecords():[];xe.length?(Z&&Z.togglePendingRow(xe),le.clearCheckboxRow()):H&&Se.modal&&Se.modal.message({id:$,content:ii("vxe.grid.selectOneRecord"),status:"warning"})},tt=($,H)=>{const Z=M.value,De=(Z.response||Z.props||{}).message,ke=y.value;let Be;return $&&De&&(Be=u.isFunction(De)?De({data:$,$table:ke,$grid:le,$gantt:null}):u.get($,De)),Be||ii(H)},Ue=($,H,Z)=>{const xe=V.value,De=le.getCheckboxRecords();if(xe)if(De.length){if(Se.modal)return Se.modal.confirm({id:`cfm_${$}`,content:ii(H),escClosable:!0}).then(ke=>{if(ke==="confirm")return Z()})}else Se.modal&&Se.modal.message({id:`msg_${$}`,content:ii("vxe.grid.selectOneRecord"),status:"warning"});else De.length&&Z();return Promise.resolve()},ut=$=>{const{proxyConfig:H}=e,{tablePage:Z}=c,{$event:xe,currentPage:De,pageSize:ke}=$,Be=M.value;Z.currentPage=De,Z.pageSize=ke,le.dispatchEvent("page-change",$,xe),H&&pr(Be)&&le.commitProxy("query").then(qe=>{le.dispatchEvent("proxy-query",qe,xe)})},_e=$=>{const H=y.value,{proxyConfig:Z}=e;if(!H)return;const{computeSortOpts:xe}=H.getComputeMaps(),De=M.value;xe.value.remote&&(c.sortData=$.sortList,Z&&pr(De)&&(c.tablePage.currentPage=1,le.commitProxy("query").then(Be=>{le.dispatchEvent("proxy-query",Be,$.$event)})))},te=$=>{_e($),le.dispatchEvent("sort-change",$,$.$event)},$e=$=>{_e($),le.dispatchEvent("clear-all-sort",$,$.$event)},ce=$=>{const H=y.value,{proxyConfig:Z}=e;if(!H)return;const{computeFilterOpts:xe}=H.getComputeMaps(),De=M.value;xe.value.remote&&(c.filterData=$.filterList,Z&&pr(De)&&(c.tablePage.currentPage=1,le.commitProxy("query").then(Be=>{le.dispatchEvent("proxy-query",Be,$.$event)})))},Le=$=>{ce($),le.dispatchEvent("filter-change",$,$.$event)},nt=$=>{ce($),le.dispatchEvent("clear-all-filter",$,$.$event)},et=$=>{const{proxyConfig:H}=e,Z=M.value;c.tableLoading||(H&&pr(Z)&&le.commitProxy("reload").then(xe=>{le.dispatchEvent("proxy-query",Object.assign(Object.assign({},xe),{isReload:!0}),$.$event)}),le.dispatchEvent("form-submit",$,$.$event))},vt=$=>{const H=y.value,{proxyConfig:Z}=e,{$event:xe}=$,De=M.value;Z&&pr(De)&&(H&&H.clearScroll(),le.commitProxy("reload").then(ke=>{le.dispatchEvent("proxy-query",Object.assign(Object.assign({},ke),{isReload:!0}),xe)})),le.dispatchEvent("form-reset",$,xe)},xt=$=>{le.dispatchEvent("form-submit-invalid",$,$.$event)},Dt=$=>{const{$event:H}=$;le.dispatchEvent("form-toggle-collapse",$,H),le.dispatchEvent("form-collapse",$,H)},gt=$=>{const{isZMax:H}=c;return($?!H:H)&&(c.isZMax=!H,c.tZindex<O$()&&(c.tZindex=D$())),ge().then(()=>le.recalculate(!0)).then(()=>(setTimeout(()=>le.recalculate(!0),15),c.isZMax))},Tt=($,H)=>{const Z=$[H];if(Z)if(u.isString(Z)){if(n[Z])return n[Z];At("vxe.error.notSlot",[Z])}else return Z;return null},ht=$=>{const H={};return u.objectMap($,(Z,xe)=>{Z&&(u.isString(Z)?n[Z]?H[xe]=n[Z]:At("vxe.error.notSlot",[Z]):H[xe]=Z)}),H},yt=()=>{const{formConfig:$,proxyConfig:H}=e,{formData:Z}=c,xe=M.value,De=U.value;if($&&pr(De)||n.form){let ke=[];if(n.form)ke=n.form({$grid:le,$gantt:null});else if(De.items){const Be={};if(!De.inited){De.inited=!0;const qe=xe.beforeItem;xe&&qe&&De.items.forEach(it=>{qe({$grid:le,$gantt:null,item:it})})}De.items.forEach(qe=>{u.each(qe.slots,it=>{u.isFunction(it)||n[it]&&(Be[it]=n[it])})}),i&&ke.push(m(i,Object.assign(Object.assign({ref:p},Object.assign({},De,{data:H&&pr(xe)&&xe.form?Z:De.data})),{onSubmit:et,onReset:vt,onSubmitInvalid:xt,onCollapse:Dt}),Be))}return m("div",{ref:D,key:"form",class:"vxe-grid--form-wrapper"},ke)}return Oa(le)},Lt=()=>{const{toolbarConfig:$}=e,H=z.value,Z=n.toolbar;if($&&pr(H)||Z){let xe=[];if(Z)xe=Z({$grid:le,$gantt:null});else{const De=H.slots,ke={};if(De){const Be=Tt(De,"buttons"),qe=Tt(De,"buttonPrefix"),it=Tt(De,"buttonSuffix"),ft=Tt(De,"tools"),Ve=Tt(De,"toolPrefix"),wt=Tt(De,"toolSuffix");Be&&(ke.buttons=Be),qe&&(ke.buttonPrefix=qe),it&&(ke.buttonSuffix=it),ft&&(ke.tools=ft),Ve&&(ke.toolPrefix=Ve),wt&&(ke.toolSuffix=wt)}xe.push(m(Hl,Object.assign(Object.assign({ref:g},H),{slots:void 0}),ke))}return m("div",{ref:I,key:"toolbar",class:"vxe-grid--toolbar-wrapper"},xe)}return Oa(le)},Vt=()=>{const $=n.top;return $?m("div",{ref:W,key:"top",class:"vxe-grid--top-wrapper"},$({$grid:le,$gantt:null})):Oa(le)},Bt=()=>{const $=n.left;return $?m("div",{class:"vxe-grid--left-wrapper"},$({$grid:le,$gantt:null})):Oa(le)},Nt=()=>{const $=n.right;return $?m("div",{class:"vxe-grid--right-wrapper"},$({$grid:le,$gantt:null})):Oa(le)},Kt=()=>{const{proxyConfig:$}=e,H=G.value,Z=M.value,xe=Object.assign({},rt),De=n.empty,ke=n.loading,Be=n.rowDragIcon||n["row-drag-icon"],qe=n.columnDragIcon||n["column-drag-icon"],it=n.headerTooltip||n["header-tooltip"],ft=n.tooltip,Ve=n.footerTooltip||n["footer-tooltip"];$&&pr(Z)&&(Z.sort&&(xe.onSortChange=te,xe.onClearAllSort=$e),Z.filter&&(xe.onFilterChange=Le,xe.onClearAllFilter=nt));const wt={};return De&&(wt.empty=De),ke&&(wt.loading=ke),Be&&(wt.rowDragIcon=Be),qe&&(wt.columnDragIcon=qe),it&&(wt.headerTooltip=it),ft&&(wt.tooltip=ft),Ve&&(wt.footerTooltip=Ve),m("div",{class:"vxe-grid--table-wrapper"},[m(ql,Object.assign(Object.assign({ref:y},H),xe),wt)])},Wt=()=>n.bottom?m("div",{ref:N,key:"bottom",class:"vxe-grid--bottom-wrapper"},n.bottom({$grid:le,$gantt:null})):Oa(le),Fe=()=>{const{proxyConfig:$,pagerConfig:H}=e,Z=M.value,xe=j.value,De=n.pager;return H&&pr(xe)||n.pager?m("div",{ref:Y,key:"pager",class:"vxe-grid--pager-wrapper"},De?De({$grid:le,$gantt:null}):[d?m(d,Object.assign(Object.assign(Object.assign({ref:O},xe),$&&pr(Z)?c.tablePage:{}),{onPageChange:ut}),ht(xe.slots)):Oa(le)]):Oa(le)},Oe=$=>{const H=[];return $.forEach(Z=>{switch(Z){case"Form":H.push(yt());break;case"Toolbar":H.push(Lt());break;case"Top":H.push(Vt());break;case"Table":H.push(m("div",{key:"table",class:"vxe-grid--table-container"},[Bt(),Kt(),Nt()]));break;case"Bottom":H.push(Wt());break;case"Pager":H.push(Fe());break;default:At("vxe.error.notProp",[`layouts -> ${Z}`]);break}}),H},Ye=()=>{const $=J.value,{headKeys:H,bodyKeys:Z,footKeys:xe}=$,De=n.asideLeft||n["aside-left"],ke=n.asideRight||n["aside-right"];return[m("div",{class:"vxe-grid--layout-header-wrapper"},Oe(H)),m("div",{class:"vxe-grid--layout-body-wrapper"},[De?m("div",{class:"vxe-grid--layout-aside-left-wrapper"},De({})):Oa(le),m("div",{class:"vxe-grid--layout-body-content-wrapper"},Oe(Z)),ke?m("div",{class:"vxe-grid--layout-aside-right-wrapper"},ke({})):Oa(le)]),m("div",{class:"vxe-grid--layout-footer-wrapper"},Oe(xe))]},rt={};nC.forEach($=>{const H=u.camelCase(`on-${$}`);rt[H]=(...Z)=>l($,...Z)});const at=()=>{const $=U.value;if($.items){const H={};return $.items.forEach(Z=>{const{field:xe,itemRender:De}=Z;if(xe){let ke=null;if(De){const{startField:Be,endField:qe,defaultValue:it}=De;u.isFunction(it)?ke=it({item:Z}):u.isUndefined(it)||(ke=it),Be&&qe&&(u.set(H,Be,null),u.set(H,qe,null))}H[xe]=ke}}),H}return{}},ee=()=>{const{proxyConfig:$,formConfig:H}=e,{proxyInited:Z}=c,xe=M.value,De=U.value;$&&pr(xe)&&(H&&pr(De)&&xe.form&&De.items&&(c.formData=at()),Z||(c.proxyInited=!0,xe.autoLoad!==!1&&ge().then(()=>le.commitProxy("initial")).then(ke=>{Ne("proxy-query",Object.assign(Object.assign({},ke),{isInited:!0}),new Event("initial"))})))},Ie=$=>{const H=k.value;ix.hasKey($,Fq.ESCAPE)&&c.isZMax&&H.escRestore!==!1&&le.triggerZoomEvent($)},Ne=($,H,Z)=>{l($,Iq(Z,{$grid:le,$gantt:null},H))},pt={dispatchEvent:Ne,getEl(){return E.value},commitProxy($,...H){const{proxyConfig:Z,toolbarConfig:xe,pagerConfig:De,editRules:ke,validConfig:Be}=e,{tablePage:qe}=c,it=V.value,ft=q.value,Ve=M.value,wt=j.value,ir=z.value,{beforeQuery:be,afterQuery:Ke,beforeDelete:Ft,afterDelete:Ct,beforeSave:Pt,afterSave:zt,ajax:Xt={}}=Ve,_t=Ve.response||Ve.props||{},st=y.value;if(!st)return ge();let Et=me(),Ut=null,qt=null;if(u.isString($)){const{buttons:or}=ir,Tr=xe&&pr(ir)&&or?u.findTree(or,nn=>nn.code===$,{children:"dropdowns"}):null;Ut=Tr?Tr.item:null,qt=$}else Ut=$,qt=Ut.code;const cr=Ut?Ut.params:null;switch(qt){case"insert":return st.insert({});case"insert_edit":return st.insert({}).then(({row:or})=>st.setEditRow(or,!0));case"insert_actived":return st.insert({}).then(({row:or})=>st.setEditRow(or,!0));case"mark_cancel":Ae(qt);break;case"remove":return Ue(qt,"vxe.grid.removeSelectRecord",()=>st.removeCheckboxRow());case"import":st.importData(cr);break;case"open_import":st.openImport(cr);break;case"export":st.exportData(cr);break;case"open_export":st.openExport(cr);break;case"reset_custom":return st.resetCustom(!0);case"initial":case"reload":case"query":{const or=Xt.query,Tr=Xt.querySuccess,nn=Xt.queryError;if(or){const Fr=qt==="initial",Xr=qt==="reload";if(!Fr&&c.tableLoading)return ge();let zr=[],Hr=[],Zr={};if(De&&((Fr||Xr)&&(qe.currentPage=1),pr(wt)&&(Zr=Object.assign({},qe))),Fr){if(Z&&pr(Ve)&&Ve.form&&(Et=at(),c.formData=Et),st){const er=st.internalData,{tableFullColumn:Ur,fullColumnFieldData:Nr}=er,{computeSortOpts:jr}=st.getComputeMaps();let on=jr.value.defaultSort;Ur.forEach(qn=>{qn.order=null}),on&&(u.isArray(on)||(on=[on]),zr=on.map(qn=>{const{field:Hn,order:uo}=qn,fo=Nr[Hn];if(fo){const Dn=fo.column;Dn&&(Dn.order=uo)}return{field:Hn,property:Hn,order:uo}})),Hr=st.getCheckedFilters()}}else st&&(Xr?st.clearAll():(zr=st.getSortColumns(),Hr=st.getCheckedFilters()));const Or={$table:st,$grid:le,$gantt:null,code:qt,button:Ut,isInited:Fr,isReload:Xr,page:Zr,sort:zr.length?zr[0]:{},sorts:zr,filters:Hr,form:Et,options:or};return c.sortData=zr,c.filterData=Hr,c.tableLoading=!0,Promise.resolve((be||or)(Or,...H)).then(er=>{let Ur=[];if(c.tableLoading=!1,er)if(De&&pr(wt)){const Nr=_t.total,jr=(u.isFunction(Nr)?Nr({data:er,$table:st,$grid:le,$gantt:null}):u.get(er,Nr||"page.total"))||0;qe.total=u.toNumber(jr);const Jr=_t.result;Ur=(u.isFunction(Jr)?Jr({data:er,$table:st,$grid:le,$gantt:null}):u.get(er,Jr||"result"))||[];const on=Math.max(Math.ceil(jr/qe.pageSize),1);qe.currentPage>on&&(qe.currentPage=on)}else{const Nr=_t.list;Ur=(Nr?u.isFunction(Nr)?Nr({data:er,$table:st,$grid:le,$gantt:null}):u.get(er,Nr):er)||[]}return st?st.loadData(Ur):ge(()=>{st&&st.loadData(Ur)}),Ke&&Ke(Or,...H),Tr&&Tr(Object.assign(Object.assign({},Or),{response:er})),{status:!0}}).catch(er=>(c.tableLoading=!1,nn&&nn(Object.assign(Object.assign({},Or),{response:er})),{status:!1}))}else At("vxe.error.notFunc",["proxy-config.ajax.query"]);break}case"delete":{const or=Xt.delete,Tr=Xt.deleteSuccess,nn=Xt.deleteError;if(or){const Fr=le.getCheckboxRecords(),Xr=Fr.filter(Zr=>!st.isInsertByRow(Zr)),Hr={$table:st,$grid:le,$gantt:null,code:qt,button:Ut,body:{removeRecords:Xr},form:Et,options:or};if(Fr.length)return Ue(qt,"vxe.grid.deleteSelectRecord",()=>Xr.length?(c.tableLoading=!0,Promise.resolve((Ft||or)(Hr,...H)).then(Zr=>(c.tableLoading=!1,st.setPendingRow(Xr,!1),ft&&Se.modal&&Se.modal.message({content:tt(Zr,"vxe.grid.delSuccess"),status:"success"}),Ct?Ct(Hr,...H):le.commitProxy("query"),Tr&&Tr(Object.assign(Object.assign({},Hr),{response:Zr})),{status:!0})).catch(Zr=>(c.tableLoading=!1,ft&&Se.modal&&Se.modal.message({id:qt,content:tt(Zr,"vxe.grid.operError"),status:"error"}),nn&&nn(Object.assign(Object.assign({},Hr),{response:Zr})),{status:!1}))):st.remove(Fr));it&&Se.modal&&Se.modal.message({id:qt,content:ii("vxe.grid.selectOneRecord"),status:"warning"})}else At("vxe.error.notFunc",["proxy-config.ajax.delete"]);break}case"save":{const or=Xt.save,Tr=Xt.saveSuccess,nn=Xt.saveError;if(or){const Fr=st.getRecordset(),{insertRecords:Xr,removeRecords:zr,updateRecords:Hr,pendingRecords:Zr}=Fr,Or={$table:st,$grid:le,$gantt:null,code:qt,button:Ut,body:Fr,form:Et,options:or};Xr.length&&(Fr.pendingRecords=Zr.filter(Ur=>st.findRowIndexOf(Xr,Ur)===-1)),Zr.length&&(Fr.insertRecords=Xr.filter(Ur=>st.findRowIndexOf(Zr,Ur)===-1));let er=Promise.resolve();return ke&&(er=st[Be&&Be.msgMode==="full"?"fullValidate":"validate"](Fr.insertRecords.concat(Hr))),er.then(Ur=>{if(!Ur){if(Fr.insertRecords.length||zr.length||Hr.length||Fr.pendingRecords.length)return c.tableLoading=!0,Promise.resolve((Pt||or)(Or,...H)).then(Nr=>(c.tableLoading=!1,st.clearPendingRow(),ft&&Se.modal&&Se.modal.message({content:tt(Nr,"vxe.grid.saveSuccess"),status:"success"}),zt?zt(Or,...H):le.commitProxy("query"),Tr&&Tr(Object.assign(Object.assign({},Or),{response:Nr})),{status:!0})).catch(Nr=>(c.tableLoading=!1,ft&&Se.modal&&Se.modal.message({id:qt,content:tt(Nr,"vxe.grid.operError"),status:"error"}),nn&&nn(Object.assign(Object.assign({},Or),{response:Nr})),{status:!1}));it&&Se.modal&&Se.modal.message({id:qt,content:ii("vxe.grid.dataUnchanged"),status:"info"})}})}else At("vxe.error.notFunc",["proxy-config.ajax.save"]);break}default:{const or=Oq.get(qt);if(or){const Tr=or.tableCommandMethod||or.commandMethod;Tr?Tr({code:qt,button:Ut,$grid:le,$table:st,$gantt:null},...H):At("vxe.error.notCommands",[qt])}}}return ge()},getParams(){return e.params},zoom(){return c.isZMax?le.revert():le.maximize()},isMaximized(){return c.isZMax},maximize(){return gt(!0)},revert(){return gt()},getFormData:me,getFormItems($){const H=U.value,{formConfig:Z}=e,{items:xe}=H,De=[];return u.eachTree(Z&&pr(H)&&xe?xe:[],ke=>{De.push(ke)},{children:"children"}),u.isUndefined($)?De:De[$]},resetForm(){const $=p.value;return $?$.reset():ge()},validateForm(){const $=p.value;return $?$.validate():ge()},validateFormField($){const H=p.value;return H?H.validateField($):ge()},clearFormValidate($){const H=p.value;return H?H.clearValidate($):ge()},homePage(){const{tablePage:$}=c;return $.currentPage=1,ge()},homePageByEvent($){const H=O.value;H&&H.homePageByEvent($)},endPage(){const{tablePage:$}=c,H=ve.value;return $.currentPage=H,ge()},endPageByEvent($){const H=O.value;H&&H.endPageByEvent($)},setCurrentPage($){const{tablePage:H}=c,Z=ve.value;return H.currentPage=Math.min(Z,Math.max(1,u.toNumber($))),ge()},setCurrentPageByEvent($,H){const Z=O.value;Z&&Z.setCurrentPageByEvent($,H)},setPageSize($){const{tablePage:H}=c;return H.pageSize=Math.max(1,u.toNumber($)),ge()},setPageSizeByEvent($,H){const Z=O.value;Z&&Z.setPageSizeByEvent($,H)},getProxyInfo(){const $=y.value;if(e.proxyConfig){const{sortData:H}=c;return{data:$?$.getFullData():[],filter:c.filterData,form:me(),sort:H.length?H[0]:{},sorts:H,pager:c.tablePage,pendingRecords:$?$.getPendingRecords():[]}}return null}},He={extendTableMethods:L,callSlot($,H){return $&&(u.isString($)&&($=n[$]||null),u.isFunction($))?_n($(H)):[]},getExcludeHeight(){const{isZMax:$}=c,H=E.value;if(H){const Z=D.value,xe=I.value,De=W.value,ke=N.value,Be=Y.value,qe=H.parentElement;return($?0:qe?mx(qe):0)+mx(H)+os(Z)+os(xe)+os(De)+os(ke)+os(Be)}return 0},getParentHeight(){const $=E.value;if($){const H=$.parentElement;return(c.isZMax?au().visibleHeight:H?u.toNumber(getComputedStyle(H).height):0)-He.getExcludeHeight()}return 0},triggerToolbarCommitEvent($,H){const{code:Z}=$;return le.commitProxy($,H).then(xe=>{Z&&xe&&xe.status&&["query","reload","delete","save"].includes(Z)&&le.dispatchEvent(Z==="delete"||Z==="save"?`proxy-${Z}`:"proxy-query",Object.assign(Object.assign({},xe),{isReload:Z==="reload"}),H)})},triggerToolbarBtnEvent($,H){le.triggerToolbarCommitEvent($,H),le.dispatchEvent("toolbar-button-click",{code:$.code,button:$},H)},triggerToolbarTolEvent($,H){le.triggerToolbarCommitEvent($,H),le.dispatchEvent("toolbar-tool-click",{code:$.code,tool:$},H)},triggerZoomEvent($){le.zoom(),le.dispatchEvent("zoom",{type:c.isZMax?"max":"revert"},$)}};Object.assign(le,F,pt,He,{loadColumn($){const H=y.value;return u.eachTree($,Z=>{Z.slots&&u.each(Z.slots,xe=>{u.isFunction(xe)||n[xe]||At("vxe.error.notSlot",[xe])})}),H?H.loadColumn($):ge()},reloadColumn($){return le.clearAll(),le.loadColumn($)}});const dt=()=>{const $=h.value,H=ne.value,Z=Ee.value;return m("div",{ref:E,class:["vxe-grid",{[`size--${$}`]:$,"is--animat":!!e.animat,"is--round":e.round,"is--maximize":c.isZMax,"is--loading":Z}],style:H},Ye())},Ze=mt(0);return sr(()=>e.columns?e.columns.length:-1,()=>{Ze.value++}),sr(()=>e.columns,()=>{Ze.value++}),sr(Ze,()=>{ge(()=>le.loadColumn(e.columns||[]))}),sr(()=>e.toolbarConfig,()=>{Xe()}),sr(we,()=>{Te("currentPage")}),sr(se,()=>{Te("pageSize")}),sr(re,()=>{Te("total")}),sr(()=>e.proxyConfig,()=>{ee()}),Tq.forEach($=>{const{setupGrid:H}=$;if(H){const Z=H(le);Z&&u.isObject(Z)&&Object.assign(le,Z)}}),Te(),jn(()=>{ge(()=>{const{columns:$}=e,H=M.value;e.formConfig&&(i||At("vxe.error.reqComp",["vxe-form"])),e.pagerConfig&&(d||At("vxe.error.reqComp",["vxe-pager"])),H.props&&Zt("vxe.error.delProp",["proxy-config.props","proxy-config.response"]),$&&$.length&&le.loadColumn($),Xe(),ee()}),ix.on(le,"keydown",Ie)}),xo(()=>{ix.off(le,"keydown"),u.assign(b,rM())}),le.renderVN=dt,ao("$xeGrid",le),ao("$xeGantt",null),le},render(){return this.renderVN()}}),nA=Object.assign({},Ci,{install(e){e.component(Ci.name,Ci)}});Se.dynamicApp&&Se.dynamicApp.component(Ci.name,Ci);Se.component(Ci);function Aq(e){const t=ue(()=>{const{renderParams:a}=e;return a.column}),r=ue(()=>{const{renderParams:a}=e;return a.row}),n=ue(()=>{const{renderOpts:a}=e;return a.props||{}}),l=ue({get(){const{renderParams:a}=e,{row:i,column:d}=a;return u.get(i,d.field)},set(a){const{renderParams:i}=e,{row:d,column:s}=i;return u.set(d,s.field,a)}});return{currColumn:t,currRow:r,cellModel:l,cellOptions:n}}const Pq=Object.assign({},ql,{install(e){e.component(ql.name,ql)}}),kq={useCellView:Aq};Se.dynamicApp&&Se.dynamicApp.component(ql.name,ql);Se.component(ql);Se.tableHandle=kq;const Lq=Object.assign({},Hl,{install(e){e.component(Hl.name,Hl)}});Se.dynamicApp&&Se.dynamicApp.component(Hl.name,Hl);Se.component(Hl);function Nq(e,t,r){["query","querySuccess","queryError","queryAll","queryAllSuccess","queryAllError"].forEach(n=>{_q(n,e,t,r)})}function _q(e,t,r,n){var d;const{proxyConfig:l}=r,a=(d=l==null?void 0:l.ajax)==null?void 0:d[e];if(!lM(a))return r;const i=(s,h,...c)=>ol(null,null,function*(){const b=n();return yield a(s,Po(Po({},h instanceof PointerEvent?{}:h),b),...c)});t.setState({gridOptions:{proxyConfig:{ajax:{[e]:i}}}})}function qq(e){e.formats.add("formatDate",{tableCellFormatMethod({cellValue:t}){return r0(t)}}),e.formats.add("formatDateTime",{tableCellFormatMethod({cellValue:t}){return n0(t)}})}let nM=!1,oA;const Hq=(e="")=>Ri({name:e});function Bq(){nM||(Se.component(Pq),Se.component(w_),Se.component(y_),Se.component(nA),Se.component(Lq),Se.component(Xx),Se.component(p$),Se.component(Hq("VxeForm")),Se.component(g$),Se.component(h$),Se.component(Zx),Se.component(m$),Se.component(b$),Se.component(x$),Se.component(C$),Se.component(y$),Se.component(w$),Se.component(S$),nM=!0)}function Vq(e){const{configVxeTable:t,useVbenForm:r}=e;Bq(),oA=r;const{isDark:n,locale:l}=oM(),a={"zh-CN":KN,"en-US":UN};sr([()=>n.value,()=>l.value],([i,d])=>{Se.setTheme(i?"dark":"light"),Se.setI18n(d,a[d]),Se.setLanguage(d)},{immediate:!0}),qq(Se),t(Se)}function zq(){return{class:"",gridClass:"",gridOptions:{},gridEvents:{},formOptions:void 0,showSearchForm:!0}}class Gq{constructor(t={}){Ml(this,"formApi",{});Ml(this,"grid",{});Ml(this,"state",null);Ml(this,"store");Ml(this,"isMounted",!1);Ml(this,"stateHandler");const r=Po({},t),n=zq();this.store=new UA(_l(r,n),{onUpdate:()=>{this.state=this.store.state}}),this.state=this.store.state,this.stateHandler=new o0,a0(this)}mount(t,r){!this.isMounted&&t&&(this.grid=t,this.formApi=r,this.stateHandler.setConditionTrue(),this.isMounted=!0)}query(){return ol(this,arguments,function*(t={}){try{yield this.grid.commitProxy("query",Ll(t))}catch(r){console.error("Error occurred while querying:",r)}})}reload(){return ol(this,arguments,function*(t={}){try{yield this.grid.commitProxy("reload",Ll(t))}catch(r){console.error("Error occurred while reloading:",r)}})}setGridOptions(t){this.setState({gridOptions:t})}setLoading(t){this.setState({gridOptions:{loading:t}})}setState(t){lM(t)?this.store.setState(r=>_l(t(r),r)):this.store.setState(r=>_l(t,r))}toggleSearchForm(t){var r,n;return this.setState({showSearchForm:iM(t)?t:!((r=this.state)!=null&&r.showSearchForm)}),(n=this.state)==null?void 0:n.showSearchForm}unmount(){this.isMounted=!1,this.stateHandler.reset()}}const Wq={class:"mr-1 pl-1 text-[1rem]"},Uq={class:"mt-2"},sx="form-",pc="toolbar-actions",gc="toolbar-tools",jq="table-title",Yq=Ri({__name:"use-vxe-grid",props:{api:{},tableTitle:{},tableTitleHelp:{},class:{},gridClass:{},gridOptions:{},gridEvents:{},formOptions:{},showSearchForm:{type:Boolean},separator:{type:[Boolean,Object]}},setup(e){var ne,fe;const t=e,r=cx("gridRef"),n=(fe=(ne=t.api)==null?void 0:ne.useStore)==null?void 0:fe.call(ne),{gridOptions:l,class:a,gridClass:i,gridEvents:d,formOptions:s,tableTitle:h,tableTitleHelp:c,showSearchForm:b,separator:E}=jA(t,n),{isMobile:y}=oM(),p=ue(()=>!s.value||b.value===!1||E.value===!1?!1:E.value===!0||E.value===void 0?!0:E.value.show!==!1),g=ue(()=>!E.value||iM(E.value)||!E.value.backgroundColor?void 0:E.value.backgroundColor),O=l0(),[D,I]=oA({compact:!0,handleSubmit:()=>ol(null,null,function*(){const G=yield I.getValues();I.setLatestSubmissionValues(Ll(G)),t.api.reload(G)}),handleReset:()=>ol(null,null,function*(){var we;const G=yield I.getValues();yield I.resetForm();const J=yield I.getValues();I.setLatestSubmissionValues(J),(i0(G,J)||!((we=s.value)!=null&&we.submitOnChange))&&t.api.reload(J)}),commonConfig:{componentProps:{class:"w-full"}},showCollapseButton:!0,submitButtonOptions:{content:ue(()=>Xi("common.search"))},wrapperClass:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3"}),W=ue(()=>{var G;return!!((G=O[jq])!=null&&G.call(O))||h.value}),N=ue(()=>{var G,J;return!!((G=O[pc])!=null&&G.call(O))||!!((J=O[gc])!=null&&J.call(O))||W.value}),Y=ue(()=>{var re,ve,Ee,Re,Pe,le,Xe;const G=(re=O[pc])==null?void 0:re.call(O),J=(ve=O[gc])==null?void 0:ve.call(O),we={code:"search",icon:"vxe-icon-search",circle:!0,status:b.value?"primary":void 0,title:b.value?Xi("common.hideSearchPanel"):Xi("common.showSearchPanel")},se={tools:(Pe=(Re=(Ee=l.value)==null?void 0:Ee.toolbarConfig)==null?void 0:Re.tools)!=null?Pe:[]};return(Xe=(le=l.value)==null?void 0:le.toolbarConfig)!=null&&Xe.search&&s.value&&(se.tools=Array.isArray(se.tools)?[...se.tools,we]:[we]),N.value?(se.slots=Po(Po({},G||W.value?{buttons:pc}:{}),J?{tools:gc}:{}),{toolbarConfig:se}):{toolbarConfig:se}}),L=ue(()=>{var we,se;const G=(se=(we=Se==null?void 0:Se.getConfig())==null?void 0:we.grid)!=null?se:{},J=s0(_l({},Ll(Y.value),Ll(l.value),G));if(J.proxyConfig){const{ajax:re}=J.proxyConfig;J.proxyConfig.enabled=!!re,J.proxyConfig.autoLoad=!1}if(J.pagerConfig){const re=["PrevJump","PrevPage","Number","NextPage","NextJump"],ve=["Total","Sizes","Home",...re,"End"];J.pagerConfig=_l({},J.pagerConfig,{pageSize:20,background:!0,pageSizes:[10,20,30,50,100,200],className:"mt-2 w-full",layouts:y.value?re:ve,size:"mini"})}return J.formConfig&&(J.formConfig.enabled=!1),J});function F(G){var J,we;G.code==="search"&&M(),(we=(J=d.value)==null?void 0:J.toolbarToolClick)==null||we.call(J,G)}function M(){var G,J;(J=(G=t.api)==null?void 0:G.toggleSearchForm)==null||J.call(G)}const q=ue(()=>Qs(Po({},d.value),{toolbarToolClick:F})),V=ue(()=>{const G=[];for(const J of Object.keys(O))["empty","form","loading",pc,gc].includes(J)||G.push(J);return G}),j=ue(()=>{const G=[];for(const J of Object.keys(O))J.startsWith(sx)&&G.push(J);return G.map(J=>J.replace(sx,""))}),U=ue(()=>{const G=L.value.emptyText!==void 0,J=L.value.emptyRender!==void 0;return!G&&!J});function z(){return ol(this,null,function*(){var ve,Ee,Re,Pe,le,Xe,me,Te,Ae,tt;yield ge();const G=(Ee=(ve=Se==null?void 0:Se.getConfig())==null?void 0:ve.grid)!=null?Ee:{},J=_l({},Ll(l.value),Ll(G)),we=(Re=J.proxyConfig)==null?void 0:Re.autoLoad;((Pe=L.value.proxyConfig)==null?void 0:Pe.enabled)&&we&&((me=(Xe=t.api.grid).commitProxy)==null||me.call(Xe,"query",s.value?(le=yield I.getValues())!=null?le:{}:{}));const re=(Te=l.value)==null?void 0:Te.formConfig;re&&re.enabled&&console.warn("[Vben Vxe Table]: The formConfig in the grid is not supported, please use the `formOptions` props"),(tt=(Ae=t.api)==null?void 0:Ae.setState)==null||tt.call(Ae,{gridOptions:J}),Nq(t.api,J,()=>I.getLatestSubmissionValues())})}sr(s,()=>{I.setState(G=>{const J=_l({},s.value,G);return Qs(Po({},J),{collapseTriggerResize:!!J.showCollapseButton})})},{immediate:!0});const k=ue(()=>{var G;return(G=I.getState())==null?void 0:G.compact});return jn(()=>{var G,J;(J=(G=t.api)==null?void 0:G.mount)==null||J.call(G,r.value,I),z()}),xo(()=>{var G,J,we;(G=I==null?void 0:I.unmount)==null||G.call(I),(we=(J=t.api)==null?void 0:J.unmount)==null||we.call(J)}),(G,J)=>(ia(),Ga("div",{class:ps(vn(gi)("bg-card h-full rounded-md",vn(a)))},[ec(vn(nA),u0({ref_key:"gridRef",ref:r,class:vn(gi)("p-2",{"pt-0":N.value&&!vn(s)},vn(i))},L.value,d0(q.value)),OC({"toolbar-tools":Yo(we=>{var se,re;return[Nn(G.$slots,"toolbar-tools",al(ll(we))),(re=(se=vn(l))==null?void 0:se.toolbarConfig)!=null&&re.search&&vn(s)?(ia(),IC(vn(Xx),{key:0,icon:"vxe-icon-search",circle:"",class:"ml-2",status:vn(b)?"primary":void 0,title:vn(Xi)("common.search"),onClick:M},null,8,["status","title"])):Ht("",!0)]}),form:Yo(()=>[vn(s)?c0((ia(),Ga("div",{key:0,class:ps(vn(gi)("relative rounded py-3",k.value?p.value?"pb-8":"pb-4":p.value?"pb-4":"pb-0"))},[Nn(G.$slots,"form",{},()=>[ec(vn(D),null,OC({"reset-before":Yo(we=>[Nn(G.$slots,"reset-before",al(ll(we)))]),"submit-before":Yo(we=>[Nn(G.$slots,"submit-before",al(ll(we)))]),"expand-before":Yo(we=>[Nn(G.$slots,"expand-before",al(ll(we)))]),"expand-after":Yo(we=>[Nn(G.$slots,"expand-after",al(ll(we)))]),_:2},[TC(j.value,we=>({name:we,fn:Yo(se=>[Nn(G.$slots,`${sx}${we}`,al(ll(se)))])}))]),1024)]),p.value?(ia(),Ga("div",{key:0,style:aM(Po({},g.value?{backgroundColor:g.value}:void 0)),class:"bg-background-deep z-100 absolute -left-2 bottom-1 h-2 w-[calc(100%+1rem)] overflow-hidden md:bottom-2 md:h-3"},null,4)):Ht("",!0)],2)),[[ZA,vn(b)!==!1]]):Ht("",!0)]),loading:Yo(()=>[Nn(G.$slots,"loading",{},()=>[ec(vn(XA),{spinning:!0})])]),_:2},[N.value?{name:"toolbar-actions",fn:Yo(we=>[W.value?Nn(G.$slots,"table-title",{key:0},()=>[Tc("div",Wq,[MC(gs(vn(h))+" ",1),vn(c)?(ia(),IC(vn(YA),{key:0,"trigger-class":"pb-1"},{default:Yo(()=>[MC(gs(vn(c)),1)]),_:1})):Ht("",!0)])]):Ht("",!0),Nn(G.$slots,"toolbar-actions",al(ll(we)))]),key:"0"}:void 0,TC(V.value,we=>({name:we,fn:Yo(se=>[Nn(G.$slots,we,al(ll(se)))])})),U.value?{name:"empty",fn:Yo(()=>[Nn(G.$slots,"empty",{},()=>[ec(vn(KA),{class:"mx-auto"}),Tc("div",Uq,gs(vn(Xi)("common.noData")),1)])]),key:"1"}:void 0]),1040,["class"])],2))}});function Qq(e){const t=new Gq(e),r=t;return r.useStore=l=>JA(t.store,l),[Ri((l,{attrs:a,slots:i})=>(Rs(()=>{t.unmount()}),t.setState(Po(Po({},l),a)),()=>m(Yq,Qs(Po(Po({},l),a),{api:r}),i)),{name:"VbenVxeGrid",inheritAttrs:!1,slots:Object}),r]}Vq({configVxeTable:e=>{e.setConfig({grid:{align:"center",border:!1,columnConfig:{resizable:!0},formConfig:{enabled:!1},minHeight:180,proxyConfig:{autoLoad:!0,response:{result:"items",total:"total",list:"items"},showActiveMsg:!0,showResponseMsg:!1},round:!0,showOverflow:!0,size:"small"}})},useVbenForm:QA});export{Jq as _,Qq as u};
