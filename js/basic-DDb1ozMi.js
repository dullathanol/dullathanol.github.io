var g=(u,c,s)=>new Promise((r,n)=>{var p=a=>{try{t(s.next(a))}catch(e){n(e)}},l=a=>{try{t(s.throw(a))}catch(e){n(e)}},t=a=>a.done?r(a.value):Promise.resolve(a.value).then(p,l);t((s=s.apply(u,c)).next())});import{bB as w,aS as h,bC as y,bj as B,bD as S}from"./bootstrap-BlxcxLZz.js";import{_ as I}from"./login.vue_vue_type_script_setup_true_lang-BIZ7cx_X.js";import{u as L}from"./use-modal-1sVzHVdz.js";import{_ as C,a as P,b as z}from"./layout.vue_vue_type_script_setup_true_lang-C0qxlD2J.js";import{a4 as _,a_ as M,a$ as $,Y as A,J as E,av as N,ab as b,x as i,ac as d,a7 as o,a8 as v,aa as T}from"../jse/index-index-DTL2YrKA.js";import"./index-Dy-le_1S.js";import"./theme-toggle.vue_vue_type_script_setup_true_lang-vUJ5amfG.js";import"./rotate-cw-DnsL8HM0.js";const k=_({name:"LoginExpiredModal",__name:"login-expired-modal",props:M({avatar:{default:""},zIndex:{default:0},codeLoginPath:{},forgetPasswordPath:{},loading:{type:Boolean},qrCodeLoginPath:{},registerPath:{},showCodeLogin:{type:Boolean},showForgetPassword:{type:Boolean},showQrcodeLogin:{type:Boolean},showRegister:{type:Boolean},showRememberMe:{type:Boolean},showThirdPartyLogin:{type:Boolean},subTitle:{},title:{},submitButtonText:{}},{open:{type:Boolean},openModifiers:{}}),emits:["update:open"],setup(u){const c=u,s=$(u,"open"),[r,n]=L();A(()=>s.value,e=>{n.setState({isOpen:e})});const p=E(()=>c.zIndex||a()),l=["ant-message","loading"];function t(e){return l.some(m=>e.classList.contains(m))}function a(){let e=0;return[...document.querySelectorAll("*")].forEach(x=>{const f=window.getComputedStyle(x).getPropertyValue("z-index");f&&!Number.isNaN(Number.parseInt(f))&&!t(x)&&(e=Math.max(e,Number.parseInt(f)))}),e+1}return(e,m)=>(b(),N("div",null,[i(o(r),{closable:!1,"close-on-click-modal":!1,"close-on-press-escape":!1,footer:!1,"fullscreen-button":!1,header:!1,"z-index":p.value,class:"border-none px-10 py-6 text-center shadow-xl sm:w-[600px] sm:rounded-2xl md:h-[unset]"},{default:d(()=>[i(o(C),{src:e.avatar,class:"mx-auto mb-6 size-20"},null,8,["src"]),i(o(w),{"show-forget-password":!1,"show-register":!1,"show-remember-me":!1,"sub-title":o(h)("authentication.loginAgainSubTitle"),title:o(h)("authentication.loginAgainTitle")},{default:d(()=>[v(e.$slots,"default")]),_:3},8,["sub-title","title"])]),_:3},8,["z-index"])]))}}),Q=_({__name:"basic",setup(u){const c=y(),s=B(),r=S();function n(){return g(this,null,function*(){yield s.logout(!1)})}return(p,l)=>(b(),T(o(z),{onClearPreferencesAndLogout:n},{"user-dropdown":d(()=>{var t;return[i(o(P),{text:(t=o(c).userInfo)==null?void 0:t.realName,onLogout:n},null,8,["text"])]}),extra:d(()=>[i(o(k),{open:o(r).loginExpired,"onUpdate:open":l[0]||(l[0]=t=>o(r).loginExpired=t)},{default:d(()=>[i(I)]),_:1},8,["open"])]),_:1}))}});export{Q as default};
